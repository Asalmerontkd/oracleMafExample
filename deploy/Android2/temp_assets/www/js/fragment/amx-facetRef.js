(function(){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"facetRef");b.prototype.isFlattenable=function(b){return!0};b.prototype.createChildrenNodes=function(b){var a=adf.mf.internal.amx.fragment.findFragmentAmxNode(b),e=!1;if(null!=a){var d=a.getTag(),g=b.getAttribute("facetName");if(null==d.getChildFacetTag(g))return!0;d=a.getAttribute("_facetsToBeCreated");null==d&&(d=[],a.setAttributeResolvedValue("_facetsToBeCreated",d),e=new adf.mf.internal.amx.AmxNodeUpdateArguments,
e.setAffectedAttribute(a,"_facetsToBeCreated"),adf.mf.api.amx.markNodeForUpdate(e),e=!0);d.push(b);this._addAttributeValues(b);a.getState()==adf.mf.api.amx.AmxNodeStates.ABLE_TO_RENDER&&a.setState(adf.mf.api.amx.AmxNodeStates.WAITING_ON_EL_EVALUATION)}b.setState(adf.mf.api.amx.AmxNodeStates[e?"WAITING_ON_EL_EVALUATION":"ABLE_TO_RENDER"]);return!0};b.prototype.handleNotification=function(b,a){if(a==adf.mf.api.amx.AmxNodeNotifications.PRE_REMOVAL){var e=adf.mf.internal.amx.fragment.findFragmentAmxNode(b);
null!=e&&e.getTypeHandler().__removeFacet(e,b)}};b.prototype.__getRenderedChildren=function(b){var a=adf.mf.internal.amx.fragment.findFragmentAmxNode(b),e=b.getAttribute("facetName");if(null==a||null==e)return[];b=b.getId();return a.getRenderedChildren(e,b)};b.prototype.__tagInstanceUpdated=function(b,a){var e=a.getTag();if("attribute"==e.getName()&&e.getNamespace()==adf.mf.api.amx.AmxTag.NAMESPACE_AMX)for(var d=b.getAttributeResolvedValue("_attributeData",d),e=a.getAttribute("name"),g=a.getAttribute("value"),
h=0,k=d.length;h<k;++h){var m=d[h];if(m.name==e){m.value=g;break}}};b.prototype._addAttributeValues=function(b){var a=[],e=b.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"attribute");b.setAttributeResolvedValue("_attributeData",a);b=0;for(var d=e.length;b<d;++b){var g=e[b],h=g.getAttribute("name"),g=g.getAttribute("value");a.push({name:h,value:g})}}})();