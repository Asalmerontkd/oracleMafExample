(function(){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"accessoryLayout");b.prototype.render=function(c,a){try{var e=document.createElement("div"),d=document.createElement("div");d.setAttribute("id",a+"_content");d.className="amx-accessoryLayout_content "+this._ensureValidString(c.getAttribute("contentClass"),"");d.setAttribute("style",this._ensureValidString(c.getAttribute("contentStyle"),""));e.appendChild(d);for(var g=c.getRenderedChildren(),h=0,k=g.length;h<
k;++h){var m=g[h].render();null!=m&&d.appendChild(m)}for(var n=d=0,t=null,u=null,v=!1,w=!1,x=null,g=c.getRenderedChildren("start"),h=0,k=g.length;h<k;++h)if(m=g[h].render(),null!=m){if(null==x){var v=!0,t=this._ensureValidString(c.getAttribute("startFullTriggerSelector"),""),z=document.createElement("div");z.setAttribute("id",a+"_start");z.className="amx-accessoryLayout_start "+this._ensureValidString(c.getAttribute("startClass"),"");z.setAttribute("style",this._ensureValidString(c.getAttribute("startStyle"),
""));x=document.createElement("div");x.setAttribute("id",a+"_startWrap");x.className="amx-accessoryLayout_startWrap";z.appendChild(x);var d=this._ensureValidWidth(c.getAttribute("startWidth")),y=this._ensureValidString(c.getAttribute("startDesc"),"");e.appendChild(z);e.appendChild(b._createToggleLink(y,a,"start",d))}x.appendChild(m)}z=null;g=c.getRenderedChildren("end");h=0;for(k=g.length;h<k;++h)if(m=g[h].render(),null!=m){if(null==z){var w=!0,u=this._ensureValidString(c.getAttribute("endFullTriggerSelector"),
""),A=document.createElement("div");A.setAttribute("id",a+"_end");A.className="amx-accessoryLayout_end "+this._ensureValidString(c.getAttribute("endClass"),"");A.setAttribute("style",this._ensureValidString(c.getAttribute("endStyle"),""));z=document.createElement("div");z.setAttribute("id",a+"_endWrap");z.className="amx-accessoryLayout_endWrap";A.appendChild(z);var n=this._ensureValidWidth(c.getAttribute("endWidth")),D=this._ensureValidString(c.getAttribute("endDesc"),"");e.appendChild(A);e.appendChild(b._createToggleLink(D,
a,"end",n))}z.appendChild(m)}(v||w)&&adf.mf.api.amx.addDragListener(e,{start:b._handleDragStart,drag:b._handleDrag,end:b._handleDragEnd,threshold:5},{id:a,startWidth:d,endWidth:n,hasStart:v,hasEnd:w,startFullTriggerSelector:t,endFullTriggerSelector:u,dragState:"closed"});return e}catch(C){console.error(C)}};b._createToggleLink=function(c,a,e,d){var g=document.createElement("a");g.setAttribute("id",a+"_"+e+"Toggle");g.className="amx-accessoryLayout_toggle-"+e;g.setAttribute("tabindex",0);adf.mf.api.amx.addBubbleEventListener(g,
"click",function(a){a.stopPropagation();a.preventDefault()});g.setAttribute("href","#");adf.mf.api.amx.addBubbleEventListener(g,"click",b._handleToggle,{id:a,facetName:e,facetWidth:d});g.textContent=c;return g};b._handleToggle=function(c){c.preventDefault();c.stopPropagation();var a=c.data.id,e=c.data.facetName;c=c.data.facetWidth;document.getElementById(a+"_"+e+"Toggle").focus();var d=document.getElementById(a+"_content");d.parentNode.classList.add("amx-active");var g=null,h=null,k=null;"start"==
e?(g=document.getElementById(a+"_start"),g.style.display="block",k=g):(h=document.getElementById(a+"_end"),h.style.display="block",k=h);c=b._getFacetWidth(d,k,c);"start"!=e&&(c=-c);e=b._cleanupId!=a;b._resetAccessoryLayouts();e&&(b._setFinalStates(g,h,d,c,!0),b._startCleanupInterval(a,!1))};b.prototype._ensureValidString=function(b,a){return null==b?a:b};b.prototype._ensureValidWidth=function(b){if(null==b||"auto"==b)return 0;if("100%"==b)return-1;b=parseInt(b,10);return isNaN(b)||0>b?0:b};b._handleDragStart=
function(c,a){b._resetAccessoryLayouts()};b._handleDrag=function(c,a){if(adf.mf.api.amx.acceptEvent()){var e=Math.abs(a.originalAngle);if((30>=e||150<=e)&&a.requestDragLock(this,!0,!1)){c.preventDefault();c.stopPropagation();a.preventDefault=!0;a.stopPropagation=!0;var e=c.data,d=e.startPageX;if(null==d)e.startPageX=a.pageX;else{var d=a.pageX-d,g=e.id,h=e.dragDirectionIsStart,k=e.contentElement,m=e.startElement,n=e.endElement,t="rtl"==document.documentElement.dir;if(null==h)0!=d&&(h=t?0>d:0<d,!h||
e.hasStart)&&(h||e.hasEnd)&&(e.dragDirectionIsStart=h,k=document.getElementById(g+"_content"),e.contentElement=k,m=document.getElementById(g+"_start"),e.startElement=m,n=document.getElementById(g+"_end"),e.endElement=n);else{g=e.contentWidth;null==g&&(g=k.offsetWidth,e.contentWidth=g);k.parentNode.classList.add("amx-active");var u=!h;t&&(u=h);var v=0,v=u?-d:d;h?(d=t?Math.min(0,d):Math.max(0,d),b._handleDirectionMovement(e,"startFullTriggerSelector","startWidth",m,g,k,v)):(d=t?Math.max(0,d):Math.min(0,
d),b._handleDirectionMovement(e,"endFullTriggerSelector","endWidth",n,g,k,v));adf.shared.impl.animationUtils._setTransformTranslate(k,d+"px,0px")}}}}else c.data.dragState="closed",b._concludeMovement(c,a)};b._handleDragEnd=function(c,a){b._concludeMovement(c,a)};b._getFacetWidth=function(b,a,e){if(0==e){b=a.childNodes;a=0;for(var d=b.length;a<d;++a)e+=b[a].offsetWidth}else-1==e&&(e=b.offsetWidth);return e};b._handleDirectionMovement=function(c,a,e,d,g,h,k){var m=!1;d.style.display="block";var n=c.facetWidth;
null==n&&(n=b._getFacetWidth(h,d,c[e]),c.facetWidth=n);a=c[a];""!=a&&(null==c.foundFullTriggerElement?(m=null!=d.querySelector(a),c.foundFullTriggerElement=m):m=c.foundFullTriggerElement);a=2*n;g/=2;g<a&&(a=Math.max(g,n+20));var t=h.parentNode;m&&k>a?(c.dragState="full",t.classList.contains("amx-full")||(t.classList.add("amx-full"),adf.shared.impl.animationUtils.addOneTimeTransitionEndWithFailsafe(d,function(){t.classList.remove("amx-gap")})),n=k):(c.dragState=k<n/2?"closed":"open",k>n?t.classList.add("amx-gap"):
t.classList.remove("amx-gap"),t.classList.remove("amx-full"),n=Math.min(n,k));d.style.width=Math.max(0,n)+"px"};b._concludeMovement=function(c,a){var e=c.data;if(e.startPageX){var d=!0===e.dragDirectionIsStart,g=e.contentWidth,h=e.facetWidth,k=e.contentElement,m=e.startElement,n=e.endElement;delete e.startPageX;delete e.contentElement;delete e.startElement;delete e.endElement;delete e.dragDirectionIsStart;delete e.contentWidth;delete e.facetWidth;delete e.foundFullTriggerElement;c.preventDefault();
c.stopPropagation();a.preventDefault=!0;a.stopPropagation=!0;null!=k&&(adf.shared.impl.animationUtils._setTransition(k,"all 200ms ease-out"),null!=m&&adf.shared.impl.animationUtils._setTransition(m,"all 200ms ease-out"),null!=n&&adf.shared.impl.animationUtils._setTransition(n,"all 200ms ease-out"),setTimeout(function(){if(null!=k)switch(e.dragState){case "open":b._setFinalStates(d?m:null,d?null:n,k,d?h:-h,!0);b._startCleanupInterval(e.id,!0);break;case "full":b._setFinalStates(d?m:null,d?null:n,k,
d?g:-g,!0);setTimeout(function(){var a=null,a=d?m.querySelector(e.startFullTriggerSelector):n.querySelector(e.endFullTriggerSelector);if(null!=a){var c=a.className;null!=c&&-1!=c.indexOf("amx-goLink")?adf.mf.api.amx.triggerBubbleEventListener(a,"click"):adf.mf.api.amx.triggerBubbleEventListener(a,"tap")}b._setFinalStates(m,n,k,0,!1)},500);break;default:b._setFinalStates(m,n,k,0,!0)}},1))}};b._setFinalStates=function(c,a,e,d,g){try{g&&adf.shared.impl.animationUtils.addOneTimeTransitionEndWithFailsafe(e,
function(){b._setFinalStatesPartB(c,a,e,d)}),null!=c&&(c.style.width=Math.abs(d)+"px"),null!=a&&(a.style.width=Math.abs(d)+"px"),"rtl"==document.documentElement.dir&&(d=-d),adf.shared.impl.animationUtils._setTransformTranslate(e,d+"px,0px"),g||b._setFinalStatesPartB(c,a,e,d)}catch(h){console.error(h)}};b._setFinalStatesPartB=function(b,a,e,d){adf.shared.impl.animationUtils._setTransition(e,"");null!=b&&adf.shared.impl.animationUtils._setTransition(b,"");null!=a&&adf.shared.impl.animationUtils._setTransition(a,
"");0==d&&(e.parentNode.classList.remove("amx-active","amx-gap","amx-full"),null!=b&&(b.style.display="none"),null!=a&&(a.style.display="none"))};b._resetAccessoryLayouts=function(){null!=b._intervalKey&&(window.clearInterval(b._intervalKey),b._handleCleanup(b._cleanupId))};b._startCleanupInterval=function(c,a){b._resetAccessoryLayouts();b._cleanupId=c;b._startedFromDragGesture=a;window.setTimeout(function(){var a=document.activeElement;b._intervalKey=window.setInterval(function(){if(b._startedFromDragGesture&&
a!=document.activeElement)b._handleCleanup();else{var d=document.getElementById(c);null!=d&&d.classList.contains("amx-active")||window.clearInterval(b._intervalKey)}},500)},1)};b._handleCleanup=function(){var c=b._cleanupId;window.clearInterval(b._intervalKey);b._intervalKey=null;b._cleanupId=null;var a=document.getElementById(c);if(null!=a&&a.classList.contains("amx-active")){var a=document.getElementById(c+"_content"),e=document.getElementById(c+"_start"),c=document.getElementById(c+"_end");b._setFinalStates(e,
c,a,0,!1)}}})();