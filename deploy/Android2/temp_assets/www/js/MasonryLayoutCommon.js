window.adf||(window.adf={});window.adf.shared=window.adf.shared||{};window.adf.shared.impl=window.adf.shared.impl||{};window.adf.shared.impl.masonryLayout=window.adf.shared.impl.masonryLayout||{};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon=function(b,c,a,e,d,g){var h=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;null==h._agentTypeAndVersion&&(h._agentTypeAndVersion=h._getAgentTypeAndVersion(navigator.userAgent));this._elem=b;this._rtl=c;this._automationEnabled=a;e&&e.tiles&&(this._tilesSelector=e.tiles);d&&(d.transitionComponentResizeToStyleClass&&(this._transitionComponentResizeToStyleClass=d.transitionComponentResizeToStyleClass),d.transitionComponentResizeToFastStyleClass&&
(this._transitionComponentResizeToFastStyleClass=d.transitionComponentResizeToFastStyleClass),d.transitionMoveToStyleClass&&(this._transitionMoveToStyleClass=d.transitionMoveToStyleClass),d.transitionMoveToFastStyleClass&&(this._transitionMoveToFastStyleClass=d.transitionMoveToFastStyleClass),d.transitionHideFromStyleClass&&(this._transitionHideFromStyleClass=d.transitionHideFromStyleClass),d.transitionHideToStyleClass&&(this._transitionHideToStyleClass=d.transitionHideToStyleClass),d.transitionShowFromStyleClass&&
(this._transitionShowFromStyleClass=d.transitionShowFromStyleClass),d.transitionShowToStyleClass&&(this._transitionShowToStyleClass=d.transitionShowToStyleClass),d.transitionResizeToStyleClass&&(this._transitionResizeToStyleClass=d.transitionResizeToStyleClass));g&&(g.addStyleClassName&&(this._addStyleClassNameFunc=g.addStyleClassName),g.removeStyleClassName&&(this._removeStyleClassNameFunc=g.removeStyleClassName),g.getSizeStyleClassName&&(this._getSizeStyleClassNameFunc=g.getSizeStyleClassName),
g.getTileSpan&&(this._getTileSpanFunc=g.getTileSpan),g.showTileOnEndFunc&&(this._showTileOnEndFunc=g.showTileOnEndFunc),g.hideTileOnEndFunc&&(this._hideTileOnEndFunc=g.hideTileOnEndFunc),g.layoutOnEndFunc&&(this._layoutOnEndFunc=g.layoutOnEndFunc),g.layoutCycleOnStartFunc&&(this._layoutCycleOnStartFunc=g.layoutCycleOnStartFunc),g.layoutCycleOnEndFunc&&(this._layoutCycleOnEndFunc=g.layoutCycleOnEndFunc),g.sortTilesOriginalOrderFunc&&(this._sortTilesOriginalOrderFunc=g.sortTilesOriginalOrderFunc));
c=document.createElement("div");a=c.style;a.display="inline-block";a.overflow="hidden";a.visibility="hidden";e=document.createElement("div");a=e.style;a.display="inline-block";c.appendChild(e);b.insertBefore(c,b.firstChild);this._sizeDivWrapper=c;this._sizeDiv=e;var k=this;this._handleTransitionEndFunc=function(a){k._handleTransitionEnd(a)};this._hideTilesFunc=function(){k._hideTiles()};this._handleHideTransitionEndFunc=function(a){k._handleHideTransitionEnd(a)};this._handleShowTransitionEndFunc=
function(a){k._handleShowTransitionEnd(a)}};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.setup=function(b,c){var a=!1;b?(a=this._layout()?!0:!1,this._reorderTilesForLayout()):(this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc(),this._transitionStart(c),a=this._transitionLayout());return a};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.destroy=function(){for(var b=this._elem,c=this._getTileChildren(),a=0;a<c.length;a++){var e=c[a].style;this._rtl?e.right="":e.left="";e.top=""}b.removeChild(this._sizeDivWrapper);this._sortTilesOriginalOrderFunc=this._layoutCycleOnEndFunc=this._layoutCycleOnStartFunc=this._layoutOnEndFunc=this._hideTileOnEndFunc=this._showTileOnEndFunc=this._getTileSpanFunc=this._getSizeStyleClassNameFunc=this._removeStyleClassNameFunc=this._addStyleClassNameFunc=
this._elem=this._arFireHideOnEnd=this._arInfoletsToHide=this._arInfoletsToShow=this._arInfoletsToResize=this._arMovedInfolets=this._handleShowTransitionEndFunc=this._handleHideTransitionEndFunc=this._hideTilesFunc=this._handleTransitionEndFunc=this._sizeDiv=this._sizeDivWrapper=null};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.resizeTile=function(b,c){var a=this._elem.querySelector(b);if(a){this._arInfoletsToResize||(this._arInfoletsToResize=[]);var e=this._arInfoletsToResize;e.push(a);e.push(c);this._resizingInfolet=!0;this._queueRelayout()}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.insertTileDomElem=function(b,c){var a=this._getTileChildren();this._sortTilesOriginalOrderFunc&&this._sortTilesOriginalOrderFunc(a);var e=null;0<=c&&c<a.length&&(e=a[c]);this._elem.insertBefore(b,e);this._queueRelayout()};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.showTile=function(b){if(b=this._elem.querySelector(b))this._arInfoletsToShow||(this._arInfoletsToShow=[]),this._arInfoletsToShow.push(b),this._showingInfolets=!0,b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon,this._layoutPhase!==b._PHASE_HIDE&&this._layoutPhase!==b._PHASE_LAYOUT?this._queueRelayout():this._showingInfolets=!1};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.hideTile=function(b){if(b=this._elem.querySelector(b))this._arInfoletsToHide||(this._arInfoletsToHide=[]),this._arInfoletsToHide.push(b),this._hidingInfolets=!0,this._queueRelayout()};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.resizeNotify=function(){this._resizingInfolet||this._hidingInfolets||this._showingInfolets||(this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc(),this._transitionStart(!1),this._transitionLayout())};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.getCellSize=function(){return this._cellSize};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.isAnimationEnabled=function(){if(this._temporarilyDisableAnimation)return!1;if(!this._cachedAnimationEnabled){if(this._automationEnabled)this._animationEnabled=!1;else{var b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;this._animationEnabled=b._isMinimumAgentMet(b._agentTypeAndVersion[0],b._agentTypeAndVersion[1],"gecko",16,"trident",6,"webkit",533.1)}this._cachedAnimationEnabled=!0}return this._animationEnabled};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.isInLayoutCycle=function(){return null!=this._layoutPhase};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype.finishLayoutCycle=function(){this._temporarilyDisableAnimation=!0;this._removeStyleClassFromTiles(this._transitionMoveToStyleClass);this._removeStyleClassFromTiles(this._transitionMoveToFastStyleClass);this._removeStyleClassFromTiles(this._transitionHideFromStyleClass);this._removeStyleClassFromTiles(this._transitionHideToStyleClass);this._removeStyleClassFromTiles(this._transitionShowFromStyleClass);this._removeStyleClassFromTiles(this._transitionShowToStyleClass);
this._removeStyleClassFromTiles(this._transitionResizeToStyleClass);this._removeStyleClassNameFunc(this._sizeDiv,this._transitionComponentResizeToStyleClass);this._removeStyleClassNameFunc(this._sizeDiv,this._transitionComponentResizeToFastStyleClass);var b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;b._removeBubbleEventListener(this._elem,"transitionend",this._handleTransitionEndFunc);b._removeBubbleEventListener(this._elem,"webkitTransitionEnd",this._handleTransitionEndFunc);for(var c=
this._getTileChildren(),a=0;a<c.length;a++){var e=c[a];e._afrOldSizeStyleClass&&delete e._afrOldSizeStyleClass;b._removeBubbleEventListener(e,"transitionend",this._handleHideTransitionEndFunc);b._removeBubbleEventListener(e,"webkitTransitionEnd",this._handleHideTransitionEndFunc);b._removeBubbleEventListener(e,"transitionend",this._handleShowTransitionEndFunc);b._removeBubbleEventListener(e,"webkitTransitionEnd",this._handleShowTransitionEndFunc)}this._hideTilesInternalTimeout?(clearTimeout(this._hideTilesInternalTimeout),
this._hideTilesInternalTimeout=null,this._handleHideTransitionEnd(null)):this._showTilesTimeout?(clearTimeout(this._showTilesTimeout),this._showTilesTimeout=null,this._showTiles()):this._layoutPhase===b._PHASE_LAYOUT?this._handleTransitionEnd(null):this._layoutPhase===b._PHASE_SHOW&&this._handleShowTransitionEnd(null);this._temporarilyDisableAnimation=!1};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getElemSize=function(b){var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon,a=c._getComputedStyle(b),e=c._getCSSLengthAsInt(a.marginLeft)+c._getCSSLengthAsInt(a.marginRight),c=c._getCSSLengthAsInt(a.marginTop)+c._getCSSLengthAsInt(a.marginBottom);return{w:b.offsetWidth+e,h:b.offsetHeight+c}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getElemInsets=function(b){var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;b=c._getComputedStyle(b);return{paddingLeft:c._getCSSLengthAsInt(b.paddingLeft),paddingRight:c._getCSSLengthAsInt(b.paddingRight),paddingTop:c._getCSSLengthAsInt(b.paddingTop),paddingBottom:c._getCSSLengthAsInt(b.paddingBottom),borderLeftWidth:c._getCSSLengthAsInt(b.borderLeftWidth),borderRightWidth:c._getCSSLengthAsInt(b.borderRightWidth),borderTopWidth:c._getCSSLengthAsInt(b.borderTopWidth),
borderBottomWidth:c._getCSSLengthAsInt(b.borderBottomWidth)}};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getComputedStyle=function(b){var c=b.ownerDocument.defaultView,a=null;return a=c?c.getComputedStyle(b,null):b.currentStyle};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getCSSLengthAsInt=function(b){return 0<b.length&&"auto"!=b?(b=parseInt(b,10),isNaN(b)&&(b=0),b):0};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._addBubbleEventListener=function(b,c,a){b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&&b.attachEvent("on"+c,a)};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._removeBubbleEventListener=function(b,c,a){b.removeEventListener?b.removeEventListener(c,a,!1):b.detachEvent&&b.detachEvent("on"+c,a)};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._arrayIndexOf=function(b,c){if(b)for(var a=0;a<b.length;a++)if(b[a]==c)return a;return-1};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._isMinimumAgentMet=function(b,c){var a=arguments.length;if(0==a%2)for(var e=2;e<=a-2;e+=2)if(b==arguments[e]){if(c>=arguments[1+e])return!0;break}return!1};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getAgentTypeAndVersion=function(b){var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._parseFloatVersion,a=null,e=-1;b=b.toLowerCase();-1!=b.indexOf("msie")||-1!=b.indexOf("trident")?(a="trident",e=c(b,/trident\/(\d+[.]\d+)/),-1==e&&(e=c(b,/msie (\d+\.\d+);/),-1==e&&(e=c(b,/msie (\d+\.\d+)b;/)),e-=4),null!=document.documentMode&&(e=Math.min(e,document.documentMode-4))):-1!=b.indexOf("applewebkit")?(a="webkit",e=c(b,/applewebkit\/(\d+([.]\d+)*)/)):
-1!=b.indexOf("gecko/")&&(a="gecko",e=c(b,/rv:(\d+[.]\d+)/));return[a,e]};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._parseFloatVersion=function(b,c){var a=b.match(c);return a&&(a=a[1])?parseFloat(a):-1};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._compareTilePositions=function(b,c){return b.startRow>c.startRow?1:b.startRow<c.startRow?-1:b.startCol>c.startCol?1:b.startCol<c.startCol?-1:0};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._queueRelayout=function(){this._hideTilesTimeout||(this._layoutPhase?this._queuedRelayout||(this._queuedRelayout=!0):this._hideTilesTimeout=setTimeout(this._hideTilesFunc,0))};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._getTileChildren=function(){for(var b=this._elem.querySelectorAll(this._tilesSelector),c=[],a=0;a<b.length;a++){var e=b[a],d=e.style;0<e.offsetWidth&&0<e.offsetHeight&&"hidden"!=d.visibility&&c.push(e)}return c};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._transitionLayout=function(){var b=this._arMovedInfolets,c=this._layout();if(this._arInfoletsToResize){var a=this._arInfoletsToResize;c||(c=[]);for(var e=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon,d=0;d<a.length;d+=2){var g=a[d];0>e._arrayIndexOf(c,g)&&c.push(g)}}a=!1;if(!c||1>c.length){if(!b||1>b.length)this._arMovedInfolets=null,this._handleTransitionEnd(null),a=!0}else this._arMovedInfolets=c;b=null!=c&&0<c.length;
this.isAnimationEnabled()||a||this._handleTransitionEnd(null);return b};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._layout=function(){var b=this._elem,c=this._getTileChildren();this._sortTilesOriginalOrderFunc&&this._sortTilesOriginalOrderFunc(c);var a=this._cellSize=null;this._cols=0;this._rows=1;this._occupancyMap=null;var e=[],d=[],g=[],h=this._rtl,k=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getElemInsets(b),m=0,n=[];this._arTilePositions=n;for(var t=0;t<c.length;t++){var u=c[t],v=this._getTileSpanFunc(u);(a=u._afrOldSizeStyleClass)&&
delete u._afrOldSizeStyleClass;if(!this._cellSize){var w=v;a&&(w=document.createElement("div"),w.className=a,w=this._getTileSpanFunc(w));this._cellSize=this._calcCellSize(u,w)}a=this._cellSize;this._occupancyMap||(m=b.offsetWidth-k.paddingLeft-k.paddingRight-k.borderLeftWidth-k.borderRightWidth,this._cols=Math.max(Math.floor(m/a.w),1),this._leftIndent=(m-this._cols*a.w)/2,this._initOccupancyMap(this._cols,this._rows),m=this._cols);v.colSpan>m&&(m=v.colSpan);v.colSpan>this._cols&&(v.colSpan=this._cols);
for(var x=!1,w=0;w<this._rows;w++){for(var z=0;z<this._cols;z++)if(this._fits(z,w,v)){var x=u.style,y={top:x.top};h?y.right=x.right:y.left=x.left;d.push(y);this._position(u,z,w,v,a,k);h&&g.push(z);x=!0;n.push({startCol:z,startRow:w,tile:u});break}if(x)break;w===this._rows-1&&this._addRow()}}a&&(b=this._sizeDiv.style,b.width=m*a.w+"px",b.height=this._rows*a.h+"px");for(t=0;t<c.length;t++)u=c[t],x=u.style,y=d[t],(h&&parseInt(x.right,10)!==parseInt(y.right,10)||!h&&parseInt(x.left,10)!==parseInt(y.left,
10)||parseInt(x.top,10)!==parseInt(y.top,10))&&e.push(u);1>e.length&&(e=null);return e};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._reorderTilesForLayout=function(){var b=this._arTilePositions;this._arTilePositions=null;for(var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon,b=b.sort(c._compareTilePositions),a=this._getTileChildren(),e=0;e<a.length;e++){var d=a[e],g=b[e].tile;d!=g&&(d.parentNode.insertBefore(g,d),d=c._arrayIndexOf(a,g),d>e&&(a.splice(d,1),a.splice(e,0,g)))}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._initOccupancyMap=function(b,c){for(var a=this._occupancyMap=[],e=0;e<c;e++){var d=[];a.push(d);for(var g=0;g<b;g++)d[g]=!1}};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._addRow=function(){this._rows++;var b=[];this._occupancyMap.push(b);for(var c=0;c<this._cols;c++)b[c]=!1};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._fits=function(b,c,a){var e=a.colSpan;a=a.rowSpan;for(var d=c;d<c+a;d++){d>=this._rows&&this._addRow();for(var g=b;g<b+e;g++)if(g>=this._cols||this._occupancyMap[d][g])return!1}return!0};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._position=function(b,c,a,e,d,g){var h=e.colSpan;e=e.rowSpan;for(var k=this._occupancyMap,m=a;m<a+e;m++)for(var n=c;n<c+h;n++)k[m][n]=!0;b=b.style;b.top=g.paddingTop+a*d.h+"px";this._rtl?b.right=g.paddingRight+c*d.w+this._leftIndent+"px":b.left=g.paddingLeft+c*d.w+this._leftIndent+"px"};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._addStyleClassToTiles=function(b){for(var c=this._getTileChildren(),a=0;a<c.length;a++)this._addStyleClassNameFunc(c[a],b)};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._removeStyleClassFromTiles=function(b){for(var c=this._getTileChildren(),a=0;a<c.length;a++)this._removeStyleClassNameFunc(c[a],b)};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._transitionStart=function(b){this._layoutTransition||(this._reorderTransitionStarted=b,this.isAnimationEnabled()&&(this._addStyleClassToTiles(b?this._transitionMoveToFastStyleClass:this._transitionMoveToStyleClass),this._addStyleClassNameFunc(this._sizeDiv,b?this._transitionComponentResizeToFastStyleClass:this._transitionComponentResizeToStyleClass),b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon,b._addBubbleEventListener(this._elem,
"transitionend",this._handleTransitionEndFunc),b._addBubbleEventListener(this._elem,"webkitTransitionEnd",this._handleTransitionEndFunc)),this._layoutTransition=!0)};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._handleTransitionEnd=function(b){var c=!0;if(this._arMovedInfolets){var a=this._arMovedInfolets;if(b){var e=b.target;for(b=0;b<a.length;b++)if(e===a[b]){a.splice(b,1);break}}else this.isAnimationEnabled()||(a=this._arMovedInfolets=[]);0<a.length&&(c=!1)}if(c){if(this._arInfoletsToResize&&(c=this._arInfoletsToResize,this._arInfoletsToResize=null,this.isAnimationEnabled()))for(b=0;b<c.length;b+=2)this._removeStyleClassNameFunc(c[b],
this._transitionResizeToStyleClass);this._reorderTransitionStarted?(this.isAnimationEnabled()&&(this._removeStyleClassFromTiles(this._transitionMoveToFastStyleClass),this._removeStyleClassNameFunc(this._sizeDiv,this._transitionComponentResizeToFastStyleClass)),this._reorderTransitionStarted=!1):this.isAnimationEnabled()&&(this._removeStyleClassFromTiles(this._transitionMoveToStyleClass),this._removeStyleClassNameFunc(this._sizeDiv,this._transitionComponentResizeToStyleClass));c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;
this.isAnimationEnabled()&&(c._removeBubbleEventListener(this._elem,"transitionend",this._handleTransitionEndFunc),c._removeBubbleEventListener(this._elem,"webkitTransitionEnd",this._handleTransitionEndFunc));this._showingInfolets=this._hidingInfolets=this._resizingInfolet=this._layoutTransition=!1;this._reorderTilesForLayout();this._layoutOnEndFunc&&this._layoutOnEndFunc();if(this._layoutPhase===c._PHASE_LAYOUT)if(this.isAnimationEnabled()){var d=this;this._showTilesTimeout=setTimeout(function(){d._showTiles()},
0)}else this._showTiles();else this._layoutPhase||this._layoutCycleOnEndFunc&&this._layoutCycleOnEndFunc()}};window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._calcCellSize=function(b,c){var a=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._getElemSize(b);return{w:a.w/c.colSpan,h:a.h/c.rowSpan}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._hideTiles=function(){this._hideTilesTimeout&&(clearTimeout(this._hideTilesTimeout),this._hideTilesTimeout=null);this._layoutCycleOnStartFunc&&this._layoutCycleOnStartFunc();var b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;this._layoutPhase=b._PHASE_HIDE;if(this._arInfoletsToHide&&this.isAnimationEnabled()){for(var c=this._arInfoletsToHide,a=0;a<c.length;a++){var e=c[a];b._addBubbleEventListener(e,"transitionend",this._handleHideTransitionEndFunc);
b._addBubbleEventListener(e,"webkitTransitionEnd",this._handleHideTransitionEndFunc);this._addStyleClassNameFunc(e,this._transitionHideFromStyleClass)}var d=this;this._hideTilesInternalTimeout=setTimeout(function(){for(var a=0;a<c.length;a++){var b=c[a];d._removeStyleClassNameFunc(b,d._transitionHideFromStyleClass);d._addStyleClassNameFunc(b,d._transitionHideToStyleClass)}},0)}else this._handleHideTransitionEnd(null)};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._handleHideTransitionEnd=function(b){this._hideTilesInternalTimeout&&(clearTimeout(this._hideTilesInternalTimeout),this._hideTilesInternalTimeout=null);var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;if(b){b.preventDefault();b.stopPropagation();b=b.target;this._removeStyleClassNameFunc(b,this._transitionHideToStyleClass);c._removeBubbleEventListener(b,"transitionend",this._handleHideTransitionEndFunc);c._removeBubbleEventListener(b,
"webkitTransitionEnd",this._handleHideTransitionEndFunc);var a=this._arInfoletsToHide;if(a){for(var e=0;e<a.length;e++){var d=a[e];if(d===b){a.splice(e,1);this._arFireHideOnEnd||(this._arFireHideOnEnd=[]);var g=this._arFireHideOnEnd;g.push(b);break}}1>a.length&&(this._arInfoletsToHide=null)}}else if(!this.isAnimationEnabled()&&(a=this._arInfoletsToHide)){for(e=0;e<a.length;e++)d=a[e],this._arFireHideOnEnd||(this._arFireHideOnEnd=[]),g=this._arFireHideOnEnd,g.push(d);this._arInfoletsToHide=null}if(!this._arInfoletsToHide){if(this._arFireHideOnEnd){g=
this._arFireHideOnEnd;for(e=0;e<g.length;e++)b=g[e],this.isAnimationEnabled()&&this._removeStyleClassNameFunc(b,this._transitionHideToStyleClass),a=b.style,this._rtl?a.right="":a.left="",a.top="",this._hideTileOnEndFunc&&this._hideTileOnEndFunc(b);this._arFireHideOnEnd=null}this._layoutPhase=c._PHASE_LAYOUT;this._transitionStart(!1);if(this._arInfoletsToResize)for(c=this._arInfoletsToResize,e=0;e<c.length;e+=2)b=c[e],g=c[e+1],a=this._getSizeStyleClassNameFunc(b),this._removeStyleClassNameFunc(b,a),
this._addStyleClassNameFunc(b,g),this.isAnimationEnabled()&&(this._addStyleClassNameFunc(b,this._transitionResizeToStyleClass),b._afrOldSizeStyleClass=a);this._transitionLayout()}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._showTiles=function(){this._showTilesTimeout&&(clearTimeout(this._showTilesTimeout),this._showTilesTimeout=null);var b=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;this._layoutPhase=b._PHASE_SHOW;if(this._arInfoletsToShow&&this.isAnimationEnabled())for(var c=this._arInfoletsToShow,a=0;a<c.length;a++){var e=c[a];b._addBubbleEventListener(e,"transitionend",this._handleShowTransitionEndFunc);b._addBubbleEventListener(e,"webkitTransitionEnd",
this._handleShowTransitionEndFunc);this._addStyleClassNameFunc(e,this._transitionShowToStyleClass);this._removeStyleClassNameFunc(e,this._transitionShowFromStyleClass)}else{if(this._arInfoletsToShow)for(c=this._arInfoletsToShow,a=0;a<c.length;a++)e=c[a],this._removeStyleClassNameFunc(e,this._transitionShowFromStyleClass);this._handleShowTransitionEnd(null)}};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon.prototype._handleShowTransitionEnd=function(b){if(b){b.preventDefault();b.stopPropagation();b=b.target;this._removeStyleClassNameFunc(b,this._transitionShowToStyleClass);var c=window.adf.shared.impl.masonryLayout.MasonryLayoutCommon;c._removeBubbleEventListener(b,"transitionend",this._handleShowTransitionEndFunc);c._removeBubbleEventListener(b,"webkitTransitionEnd",this._handleShowTransitionEndFunc);if(c=this._arInfoletsToShow){for(var a=0;a<
c.length;a++){var e=c[a];if(e===b){c.splice(a,1);this._showTileOnEndFunc&&this._showTileOnEndFunc(b);break}}1>c.length&&(this._arInfoletsToShow=null)}}else if(!this.isAnimationEnabled()&&(c=this._arInfoletsToShow)){for(a=0;a<c.length;a++)e=c[a],this._showTileOnEndFunc&&this._showTileOnEndFunc(e);this._arInfoletsToShow=null}this._arInfoletsToShow||(this._layoutPhase=null,this._layoutCycleOnEndFunc&&this._layoutCycleOnEndFunc(),this._queuedRelayout&&(this._queuedRelayout=!1,this._queueRelayout()))};
window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._PHASE_HIDE=1;window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._PHASE_LAYOUT=2;window.adf.shared.impl.masonryLayout.MasonryLayoutCommon._PHASE_SHOW=3;