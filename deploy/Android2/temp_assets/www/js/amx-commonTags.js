(function(){function b(a,b){a&&(null==b||""==b?(a.setAttribute("aria-hidden","true"),a.setAttribute("alt","")):(a.removeAttribute("aria-hidden"),a.setAttribute("alt",b)))}function c(a,c,d,g,h,k){k||(k=h);k!=h&&a.setAttributeResolvedValue("_originalPath",h);var m=a.getId(),n="img",t=!1;c&&h&&h.indexOf&&-1!=h.indexOf(".svg")&&-1==h.indexOf(":")&&(t=!0,n="div");var u=document.createElement(n);if(t){var v=function(){if(u&&u.setAttribute){a.setAttributeResolvedValue("_originalPath",null);var b="file://"+
k;u.setAttribute("data-loaded-src",b);adf.mf.api.resourceFile._loadFileWithAjax(b,!0,G,H)}},H=function(){if(u&&u.setAttribute){u.setAttribute("data-original-src",h);var a=document.createElement("img");a.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAPAAAP+A/wAAACH5BAUAAAAALAAAAAABAAEAQAICRAEAOw\x3d\x3d");a.classList.add("amx-image-error");b(a,d);u.appendChild(a)}},G=function(a){if(u)if(null!=a&&0<a.length){var c=a.indexOf("\x3csvg");-1==c?(adf.mf.log.logInfoResource("AMXInfoBundle",adf.mf.log.level.SEVERE,
"amx.commonTags._createInlineCapableImage","MSG_NO_SVG_FILE_CONTENT_DETECTED",m,g),adf.mf.log.Framework.isLoggable(adf.mf.log.level.FINE)&&adf.mf.log.Framework.logp(adf.mf.log.level.FINE,"amx.commonTags","_createInlineCapableImage","The AMX tag with ID \x26quot;"+m+"\x26quot; was given a value for an SVG-formatted image location via its attribute \x26quot;"+g+"\x26quot; but that file's contents was not SVG-formatted. The attribute value was set to \x26quot;"+h+"\x26quot; and its payload was: "+a),
v()):(a=a.substring(c),adf.mf.api.amx.applyInnerHtml(u,a,!0),b(u.firstChild,d))}else H()};u.setAttribute("data-loaded-src",k);adf.mf.api.resourceFile._loadFileWithAjax(k,!0,G,v)}else adf.mf.internal.amx.getImageDataUriIfNeeded(k).then(function(b){u.setAttribute("src",b);adf.mf.api.amx.addBubbleEventListener(u,"error",e,a)},function(b){adf.mf.log.Framework.isLoggable(adf.mf.log.level.FINE)&&adf.mf.log.Framework.logp(adf.mf.log.level.FINE,"amx-commonTags","_createInlineCapableImage",'failed to load: "'+
k+'" reason: '+b);e({target:u,data:a})}),b(u,d);return u}function a(a,b,c,d){d||(d=c);d!=c&&a.setAttributeResolvedValue("_originalPath",c);c=b.classList;c.contains("amx-image-error")&&(c.remove("amx-image-error"),adf.mf.api.amx.addBubbleEventListener(b,"error",e,a));adf.mf.internal.amx.getImageDataUriIfNeeded(d).then(function(a){b.setAttribute("src",a)},function(a){adf.mf.log.Framework.isLoggable(adf.mf.log.level.FINE)&&adf.mf.log.Framework.logp(adf.mf.log.level.FINE,"amx-commonTags","_refreshNonInlineImage",
'failed to load: "'+d+'" reason: '+a)})}function e(a){var b=a.target,c=b.getAttribute("src");a=a.data;var d=a.getAttribute("_originalPath");null!=d?(a.setAttributeResolvedValue("_originalPath",null),b.setAttribute("src","file://"+d)):(adf.mf.api.amx.removeBubbleEventListener(b,"error"),b.setAttribute("data-original-src",c),b.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAPAAAP+A/wAAACH5BAUAAAAALAAAAAABAAEAQAICRAEAOw\x3d\x3d"),b.classList.add("amx-image-error"))}function d(a,b,c,d){a=a.indexOf(b);
return a>=c&&a<=d?!0:!1}var g=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"view");g.prototype.render=function(a,b){for(var c=document.createElement("div"),d=a.renderDescendants(),e=0,h=d.length;e<h;++e)c.appendChild(d[e]);e=1E4;d=null;h=a.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"loadingIndicatorBehavior");if(null!=h){var k=h.length;if(0<k&&(h=h[k-1],k=parseInt(h.getAttribute("failSafeDuration"),10),isNaN(k)||(e=k),h=h.getAttribute("failSafeClientHandler"),
null!=h&&""!=h))try{d=new Function("return "+h+"()")}catch(m){adf.mf.log.logInfoResource("AMXInfoBundle",adf.mf.log.level.SEVERE,"amx.view.render","MSG_INVALID_TAG_ATTRIBUTE_VALUE","loadingIndicatorBehavior","failSafeClientHandler"),adf.mf.log.Framework.isLoggable(adf.mf.log.level.FINE)&&adf.mf.log.Framework.logp(adf.mf.log.level.FINE,"amx.view","render","failSafeClientHandler has value: "+h+" error: "+m)}}adf.mf.internal.amx._failSafeDuration=e;adf.mf.internal.amx._failSafeClientHandler=d;d=a.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"navigationDragBehavior");h=[];e=0;for(k=d.length;e<k;++e)h.push(d[e]);0<h.length&&adf.mf.api.amx.addDragListener(c,{start:g._handleDragStart,drag:g._handleDrag,end:g._handleDragEnd,threshold:5},{navigationDragBehaviors:h,viewNodeId:b});adf.mf.internal.api.initializePageLevelSystemActionOverrides();d=a.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"systemActionBehavior");e=0;for(h=d.length;e<h;++e){var k=d[e],n=k.getAttribute("type");"back"==n&&adf.mf.internal.api.registerSystemActionBehavior(n,
g._systemActionBack,k)}return c};g.prototype.__experimentalCLAssociation=function(a,b,c,d){var e=!1;switch(c){case "showpagecomplete":case "mafviewvisible":case "mafviewhidden":case "amxnavigatestart":case "amxnavigateend":e=!0}g.superclass.__experimentalCLAssociation.call(this,a,b,c,d,e)};g.prototype.findPopup=function(a,b){for(var c=a.getChildren(),d=0,e=c.length;d<e;++d){var g=c[d];if(g.getTag().getAttribute("id")==b)return g}return null};g._systemActionBack=function(a){var b=!1;if(adf.mf.api.amx.acceptEvent()){var c=
a.getAttribute("action",!1);void 0!==c&&(b=!0);var d=function(){if(null!=c)try{adf.mf.api.amx.doNavigation(c)}catch(a){adf.mf.api.amx.addMessage("severe",a,null,null)}};a=a.getAttribute("actionListener",!1);if(null!=a){var e=new amx.ActionEvent,g=[],h=[];g.push(e);h.push(e[".type"]);adf.mf.api.amx.invokeEl(a,g,null,h,d,d)}else d()}return b};g._handleDragStart=function(a,b){if(adf.mf.api.amx.acceptEvent()){for(var c=a.data.navigationDragBehaviors,d=!1,e=!1,g=0,h=c.length;g<h;++g){var k=c[g],m=k.getAttribute("direction");
d||"back"!=m||adf.mf.api.amx.isValueTrue(k.getAttribute("disabled"))?e||"forward"!=m||adf.mf.api.amx.isValueTrue(k.getAttribute("disabled"))||(e=!0,a.data.forwardDragBehavior=k):(d=!0,a.data.backDragBehavior=k);if(d&&e)break}a.data.hasBackDragBehavior=d;a.data.hasForwardDragBehavior=e}};g._handleDrag=function(a,b){if(adf.mf.api.amx.acceptEvent()){var c=Math.abs(b.originalAngle);if((30>=c||150<=c)&&b.requestDragLock(this,!0,!1))if(a.preventDefault(),a.stopPropagation(),b.preventDefault=!0,b.stopPropagation=
!0,c=a.data.startPageX,null==c)a.data.startPageX=b.pageX;else{var d=b.pageX-c,e=a.data.dragDirectionIsBack,c=a.data.historyIndicator,h="rtl"==document.documentElement.dir;if(null==e)0!=d&&(c=document.getElementById("historyIndicator"),null!=c&&adf.mf.api.amx.removeDomNode(c),e=h?0>d:0<d,!e||a.data.hasBackDragBehavior)&&(e||a.data.hasForwardDragBehavior)&&(a.data.dragDirectionIsBack=e,c=document.createElement("div"),c.id="historyIndicator",c.className=e?"amx-view-historyIndicatorBack":"amx-view-historyIndicatorForward",
document.getElementById("bodyPageViews").appendChild(c),a.data.historyIndicator=c);else{var k=a.data.indicatorWidth;null==k&&(k=c.offsetWidth,a.data.indicatorWidth=k);var m=!e;h&&(m=e);d=Math.max(0,Math.min(k,m?-d:d)/k);c.style.opacity=.3+.7*d;e=k*d;m?c.style.right=e-k+"px":c.style.left=e-k+"px";a.data.limitReached=1==d}}}else a.data.limitReached=!1,g._concludeHistoryIndicator(a,b)};g._handleDragEnd=function(a,b){g._concludeHistoryIndicator(a,b)};g._concludeHistoryIndicator=function(a,b){var c=!0===
a.data.limitReached,d=!0===a.data.dragDirectionIsBack,e=a.data.historyIndicator;delete a.data.hasBackDragBehavior;delete a.data.hasForwardDragBehavior;delete a.data.startPageX;delete a.data.historyIndicator;delete a.data.dragDirectionIsBack;delete a.data.limitReached;a.preventDefault();a.stopPropagation();b.preventDefault=!0;b.stopPropagation=!0;if(null!=e){adf.shared.impl.animationUtils._setTransition(e,"all 200ms linear");if(c){var g=document.getElementById(a.data.viewNodeId);if(g){var h=null;(h=
d?a.data.backDragBehavior:a.data.forwardDragBehavior)&&adf.mf.api.amx.validate(g,function(){if(adf.mf.api.amx.acceptEvent()){var a=h.getAttribute("action",!1);if(null!=a)try{adf.mf.api.amx.doNavigation(a)}catch(b){adf.mf.api.amx.addMessage("severe",b,null,null)}}})}}setTimeout(function(){if(null!=e){adf.mf.api.amx.addBubbleEventListener(e,adf.mf.internal.amx.agent.getTransitionEndEventName(),function(){adf.mf.api.amx.removeDomNode(this)});if(!c){var a=e.classList.contains("amx-view-historyIndicatorBack");
"rtl"==document.documentElement.dir?a?e.style.right=-e.offsetWidth+"px":e.style.left=-e.offsetWidth+"px":a?e.style.left=-e.offsetWidth+"px":e.style.right=-e.offsetWidth+"px"}e.style.opacity=0}},1)}};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"spacer").prototype.render=function(a){var b=amx.getTextValue(a.getAttribute("width")),c=amx.getTextValue(a.getAttribute("height"));if((a=!amx.isNodeRendered(a))||null==b||0>=b.length)return a||null==c||0>c.length?document.createElement("span"):
0!=c.length?(a=document.createElement("div"),a.style.marginTop=c+"px",a):document.createElement("div");if(null==c||0>=c.length)c=0;a=document.createElement("div");var d=a.style;d.display="inline-block";d.marginTop=c+"px";d.marginRight=b+"px";return a};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"verbatim").prototype.render=function(a){var b=document.createElement("div");a=a.getTag().getTextContent();adf.mf.api.amx.applyInnerHtml(b,a,!0);return b};var h=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"goLink");h.prototype.render=function(a){var b;if(adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"))){b=document.createElement("span");b.setAttribute("aria-disabled","true");var c=a.getAttribute("text");if(null!=c){var d=document.createElement("label");d.appendChild(document.createTextNode(c));d.setAttribute("role","presentation");d.setAttribute("aria-hidden","true");b.setAttribute("aria-label",c);b.appendChild(d)}}else b=document.createElement("a"),b.setAttribute("href",amx.getTextValue(a.getAttribute("url"))),
b.appendChild(document.createTextNode(amx.getTextValue(a.getAttribute("text")))),c="mousedown",amx.hasTouch()&&(c="touchstart"),adf.mf.api.amx.addBubbleEventListener(b,c,function(a){a.stopPropagation()}),adf.mf.api.amx.addBubbleEventListener(b,"click",function(a){a.stopPropagation()});b.setAttribute("role","link");c=a.getAttribute("shortDesc");null!=c&&b.setAttribute("title",c);a=a.renderDescendants();c=0;for(d=a.length;c<d;++c)b.appendChild(a[c]);return b};h.prototype.attributeChangeResult=function(a,
b,c){switch(b){case "url":return adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"))?adf.mf.api.amx.AmxNodeChangeResult.NONE:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "shortDesc":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "text":return a=document.getElementById(a.getId()),null!=a&&null!=a.firstChild&&3==a.firstChild.nodeType?adf.mf.api.amx.AmxNodeChangeResult.REFRESH:adf.mf.api.amx.AmxNodeChangeResult.RERENDER;default:return h.superclass.attributeChangeResult.call(this,a,b,c)}};
h.prototype.refresh=function(a,b,c){var d=a.getId(),d=document.getElementById(d);b.hasChanged("url")&&d.setAttribute("href",amx.getTextValue(a.getAttribute("url")));if(b.hasChanged("shortDesc")){var e=a.getAttribute("shortDesc");null!=e?d.setAttribute("title",e):d.removeAttribute("title")}if(b.hasChanged("text"))if(e=amx.getTextValue(a.getAttribute("text")),adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"))){var g=d.querySelector("label");null==e?(null!=g&&adf.mf.api.amx.removeDomNode(g),d.removeAttribute("aria-label")):
(g.textContent=e,d.setAttribute("aria-label",e))}else g=d.firstChild,e=document.createTextNode(e),d.insertBefore(e,g),adf.mf.api.amx.removeDomNode(g);h.superclass.refresh.call(this,a,b,c)};var k=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"outputText");k.prototype.attributeChangeResult=function(a,b,c){switch(b){case "value":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return k.superclass.attributeChangeResult.call(this,a,b,c)}};k.prototype.render=function(a){var b=
document.createElement("span"),c=a.getAttribute("styleClass");null!=c&&/\bamx-text-sectiontitle\b/.test(c)&&b.setAttribute("role","heading");a=this._getDisplayValue(a,b);b.appendChild(document.createTextNode(a));return b};k.prototype.refresh=function(a,b,c){if(b.hasChanged("value")){var d=a.getId(),d=document.getElementById(d),e=this._getDisplayValue(a,d);d.textContent=e}k.superclass.refresh.call(this,a,b,c)};k.prototype._getDisplayValue=function(a,b){var c=amx.getTextValue(a.getAttribute("value")),
d=parseInt(a.getAttribute("truncateAt"));!isNaN(d)&&0<d&&"undefined"!=typeof a.getAttribute("value")&&(15>d&&(d=15),b.setAttribute("amx-data-value",c),d<c.length&&(c=c.substring(0,d-3)+"..."),b.classList.add("amx-outputText-truncateAt"));return c};var m=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"outputHtml");m.prototype.render=function(a,b){var c=document.createElement("div");this._setBody(a,c);return c};m.prototype.attributeChangeResult=function(a,b,c){switch(b){case "value":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;
default:return m.superclass.attributeChangeResult.call(this,a,b,c)}};m.prototype.refresh=function(a,b,c){b.hasChanged("value")&&this._setBody(a,document.getElementById(a.getId()));m.superclass.refresh.call(this,a,b,c)};m.prototype._setBody=function(a,b){if("none"==a.getAttribute("security"))adf.mf.api.amx.applyInnerHtml(b,amx.getTextValue(a.getAttribute("value")),!0);else{var c=a.getId(),d=amx.getTextValue(a.getAttribute("value"));adf.mf.api.amx.applyInnerHtml(b,html_sanitize(d,null,function(a){return c+
"_"+a}),!0)}};var n=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"inputText");n.prototype.getInputValueAttribute=function(){return"value"};n.prototype.attributeChangeResult=function(a,b,c){if(adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly")))return adf.mf.api.amx.AmxNodeChangeResult.RERENDER;var d=!1;if("maximumLength"==b||"value"==b)if(1==a._dirty)d=!0;else{var e=document.getElementById(a.getId()+"__inputElement");null!=e&&document.activeElement==e&&"Android"==adf.mf.internal.amx.agent.type&&
537.36>adf.mf.internal.amx.agent.version&&(d=!0)}switch(b){case "maximumLength":return d?adf.mf.api.amx.AmxNodeChangeResult.RERENDER:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "value":return d&&a.getAttribute("value")!=c.getOldValue("value")?adf.mf.api.amx.AmxNodeChangeResult.RERENDER:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "label":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return n.superclass.attributeChangeResult.call(this,a,b,c)}};n.prototype.refresh=function(a,b,c){var d=
b.hasChanged("maximumLength"),e=b.hasChanged("value"),g=b.hasChanged("label"),h=a.getId(),k=document.getElementById(h+"__inputElement");if(e||d)this._setValue(a,k),n._updateEmptyMarker(h);d=adf.mf.api.amx.isValueTrue(a.getAttribute("simple"));g&&!d&&this._setLabel(a,k);n.superclass.refresh.call(this,a,b,c)};n.prototype._showClear=function(a,b,c,d){var e=document.createElement("a"),g=adf.mf.resource.getInfoString("AMXInfoBundle","amx_inputText_LABEL_CLEAR_BUTTON");e.id=d.getId()+"__clear";e.setAttribute("aria-label",
g);e.className="amx-inputText-clear";""==c.value?a.fieldRoot.classList.add("amx-inputText-empty"):a.fieldRoot.classList.add("amx-inputText-nonEmpty");b.appendChild(e);adf.mf.api.amx.addBubbleEventListener(e,amx.hasTouch()?"touchstart":"mousedown",this._handleClear,d)};n.prototype.render=function(a,b){var c=b+"__inputElement",d=amx.createField(a,c);d.fieldLabel.setAttribute("id",a.getId()+"__fieldLabel");var e;a._oldValue=null;a._dirty=!1;var g="div",h=a.getAttribute("name"),k=amx.getTextValue(a.getAttribute("showClear"));
"on"!=k&&"off"!=k&&(k="auto");var m=amx.getTextValue(a.getAttribute("keyboardDismiss"));"go"==m?g="form":"search"==m&&(g="form",h="search");var n=document.createElement(g);n.className="wrap";d.fieldValue.appendChild(n);var t=adf.mf.api.amx.isValueTrue(a.getAttribute("showRequired"))||adf.mf.api.amx.isValueTrue(a.getAttribute("required"));if(adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly")))e=document.createElement("div"),e.className="readOnlyLabel",e.setAttribute("aria-readonly","true"),e.appendChild(document.createTextNode(amx.getTextValue(a.getAttribute("value")))),
n.appendChild(e);else{var u=a.getAttribute("rows");if(u&&1<parseInt(u,10))e=document.createElement("textarea"),e.setAttribute("rows",u),e.setAttribute("aria-multiline","true");else if(adf.mf.api.amx.isValueTrue(a.getAttribute("secret")))e=document.createElement("input"),e.setAttribute("type","password");else{u=a.getAttribute("inputType");switch(u){case "number":case "email":case "url":case "tel":break;default:u="text"}e=document.createElement("input");e.setAttribute("type",u)}e.setAttribute("id",
c);e.className="amx-inputText-content";e.setAttribute("placeholder",amx.getTextValue(a.getAttribute("hintText")));c=amx.getTextValue(a.getAttribute("autoCapitalize"));""==c&&"auto"==c||e.setAttribute("autocapitalize",c);c=amx.getTextValue(a.getAttribute("autoCorrect"));""==c&&"auto"==c||e.setAttribute("autocorrect",c);n.appendChild(e);this._registerTextInputHandlers(e,a);c="mousedown";amx.hasTouch()&&(c="touchstart");adf.mf.api.amx.addBubbleEventListener(e,c,function(a){a.stopPropagation()});this._setValue(a,
e);adf.mf.internal.amx.registerBlur(e,function(){e.parentNode.classList.remove("amx-wrap-active");if(0!=a._dirty&&(document.activeElement!=e||"Android"!==adf.mf.internal.amx.agent.type)){a._dirty=!1;var b=e.value,c=a.getAttribute("maximumLength");0<c&&(b=b.substring(0,c),e.value=b);c=a.getConverter();if(null!=c){var d=c.getAsObject(b);if(""===d&&""!==b)return;b=c.getAsString(d);a.getTag().isAttributeElBound("value")||(e.value=b)}a.setAttributeResolvedValue("value",b);a._oldValue!==b?(c=new amx.ValueChangeEvent(a._oldValue,
b),adf.mf.api.amx.processAmxEvent(a,"valueChange","value",b,c)):adf.mf.api.amx.processAmxEvent(a,"valueChange","value",b)}});"go"==m?d.fieldRoot.className+=" amx-inputText-go":"search"==m&&(d.fieldRoot.className+=" amx-inputText-search");if("on"==k||"auto"==k&&"search"==m)d.fieldRoot.className+=" amx-inputText-showClear",this._showClear(d,n,e,a);var v=this;adf.mf.internal.amx.registerFocus(e,function(){e.parentNode.classList.add("amx-wrap-active");v._setOldValue(a,e)})}"form"==g&&adf.mf.api.amx.addBubbleEventListener(n,
"submit",function(){e.blur();return!1});null!=h&&e.setAttribute("name",h);e.setAttribute("role","textbox");adf.mf.api.amx.isValueTrue(a.getAttribute("simple"))?(g=amx.getTextValue(a.getAttribute("label")),e.setAttribute("aria-label",g)):e.setAttribute("aria-labelledby",b+"::lbl");t&&e.setAttribute("aria-required","true");adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"))&&(e.setAttribute("disabled",!0),e.setAttribute("aria-disabled","true"));adf.mf.api.amx.applyRequiredMarker(a,d);return d.fieldRoot};
n.prototype.__getTestJavaScriptURI=function(a){return"js/testing/amx-inputText.js"};n.prototype._registerTextInputHandlers=function(a,b){var c=this,d="Android"==adf.mf.internal.amx.agent.type,e=d&&"Chrome"==adf.mf.internal.amx.agent.subtype,g=function(a){return c._handleTextInput(a,b,e)};adf.mf.api.amx.addBubbleEventListener(a,"keypress",g);adf.mf.api.amx.addBubbleEventListener(a,"keyup",g);adf.mf.api.amx.addBubbleEventListener(a,"textInput",g);d&&adf.mf.api.amx.addBubbleEventListener(a,"input",function(a){return b._dirty=
!0})};n.prototype._handleTextInput=function(a,b,c){var d=b.getId(),e=document.getElementById(d+"__inputElement");null!=document.getElementById(d+"__clear")&&(27==a.charCode&&(e.value=""),n._updateEmptyMarker(d));var g=b.getAttribute("maximumLength");if(0>=g)return b._dirty=!0;d=e.value;if("textInput"==a.type)if(a.oldData)d="",a=a.oldData;else if(c&&a.data)d="",a=a.data;else return b._dirty=!0;else c?(a=d,d=""):a=String.fromCharCode(a.charCode);c=g-d.length;return a.length>c?(0<c&&(b._dirty=!0,e.value=
d+a.substring(0,c)),!1):b._dirty=!0};n.prototype._handleClear=function(a){a.preventDefault();a.stopPropagation();a=a.data;var b=a.getId(),c=document.getElementById(b+"__inputElement");c.focus();c.value="";a._dirty=!0;document.getElementById(b+"__clear");n._updateEmptyMarker(b)};n.prototype._setValue=function(a,b){if(b){a._dirty=!1;var c=a.getAttribute("value");null!==c&&""!==c?(c=amx.getTextValue(c),b.value=c):b.value=null;this._setOldValue(a,b)}};n.prototype._setOldValue=function(a,b){if(void 0===
b||null===b)b=document.getElementById(a.getId()+"__inputElement");b&&(a._oldValue=b.value)};n.prototype._setLabel=function(a,b){var c=amx.getTextValue(a.getAttribute("label")),d=document.getElementById(a.getId()+"__fieldLabel");d&&(d.removeChild(d.childNodes[0]),d.appendChild(document.createTextNode(c)));b&&adf.mf.api.amx.isValueTrue(a.getAttribute("simple"))&&b.setAttribute("aria-label",c)};n._updateEmptyMarker=function(a){if(null!=document.getElementById(a+"__clear")){var b=document.getElementById(a+
"__inputElement");null!=b&&(a=document.getElementById(a),null!=a&&(a.className=""==b.value?a.className.replace(/amx-inputText-(nonE|e)?mpty/,"amx-inputText-empty"):a.className.replace(/amx-inputText-(nonE|e)?mpty/,"amx-inputText-nonEmpty")))}};adf.mf.internal.amx._makeNonRelativeUrl=function(a,b){a=a.replace(/[\/]{2,}/g,"/");a=a.replace(/\/\.\//g,"/");a.startsWith("./")&&(a=a.substring(2));b&&"/"!=a.charAt(0)&&(a=b+a);for(var c=-1;-1!=(c=a.lastIndexOf("/../"));){var d=a.lastIndexOf("/",c-1);if(-1==
d)break;a=a.substring(0,d+1)+a.substring(c+4)}return a};adf.mf.internal.amx._localAndNotContainedInTheActiveDirectory=function(a){if(!a||amx.hasProtocol(a)&&-1==a.indexOf("file://")&&-1==a.indexOf("ms-appdata:///local/"))return!1;var b=adf.mf.internal.amx.activeDirectory;null==b&&(b="UWP"==adf.mf.internal.amx.agent.type?document.location.href.split("?")[0]+"/../":adf.mf.api.getQueryStringParamValue(adf.mf.api.getQueryString(),"profile_json_folder_override","")+"/../",b=adf.mf.internal.amx._makeNonRelativeUrl(b),
b.endsWith("/")||(b+="/"),b=b.replace("file://",""),adf.mf.internal.amx.activeDirectory=b);a=adf.mf.internal.amx._makeNonRelativeUrl(a,b);a=a.replace("file://","");return 0==a.indexOf(b)};adf.mf.internal.amx._imageDataUriCache=new adf.mf.internal.BaseLRUCache(50);adf.mf.internal.amx.getIosImageDataUriPromise=function(a){return new adf.mf.internal.BasePromise(function(b,c){var e=adf.mf.internal.amx._imageDataUriCache.get(a);null!=e?b(e):adf.mf.api.resourceFile._loadFileWithAjax(a,!0,function(e){try{var g=
a.lastIndexOf("."),h="";-1==g?d(e,"xml",0,10)?h="svg":d(e,"GIF",0,10)?h="gif":d(e,"PNG",0,10)?h="png":d(e,"MM",0,4)?h="tiff":d(e,"JFIF",0,10)&&(h="jpeg"):h=a.substring(g+1).toLowerCase();g=null;switch(h){case "svg":g="data:image/svg+xml;"+e;break;default:switch(h){case "jpg":h="jpeg";break;case "tif":h="tiff"}var k="data:image/";""==h&&(k="data:image");g=k+h+";base64,"+window.btoa(e)}adf.mf.internal.amx._imageDataUriCache.put(a,g);b(g)}catch(m){c(m)}},c)})};adf.mf.internal.amx.getUwpImageDataUriPromise=
function(a){return new adf.mf.internal.BasePromise(function(b,c){var d=adf.mf.internal.amx._imageDataUriCache.get(a);null!=d?b(d):AdfmfCallback.getDataURIForLocalResource(a).then(function(c){adf.mf.internal.amx._imageDataUriCache.put(a,c);b(c)},c)})};adf.mf.internal.amx.getImageDataUriIfNeeded=function(a){if(!adf.mf.environment.profile.dtMode)switch(adf.mf.internal.amx.agent.type){case "iOS":if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.loadFileWithAjax&&adf.mf.internal.amx._localAndNotContainedInTheActiveDirectory(a))return adf.mf.internal.amx.getIosImageDataUriPromise(a);
break;case "UWP":if(adf.mf.internal.amx._localAndNotContainedInTheActiveDirectory(a))return adf.mf.internal.amx.getUwpImageDataUriPromise(a)}return{dataUri:!1,then:function(b,c){b(a)}}};var t=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"image");t.prototype.render=function(a){var b=amx.getTextValue(a.getAttribute("source")),d=adf.mf.api.amx.buildRelativePath(b),e=a.getAttribute("shortDesc"),g="fetchAndInline"==a.getAttribute("sourceDelivery");return c(a,g,e,"source",b,d)};
t.prototype.attributeChangeResult=function(a,b,c){switch(b){case "shortDesc":case "source":return"fetchAndInline"==a.getAttribute("sourceDelivery")?adf.mf.api.amx.AmxNodeChangeResult.RERENDER:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return t.superclass.attributeChangeResult.call(this,a,b,c)}};t.prototype.refresh=function(c,d,e){var g=document.getElementById(c.getId());if(d.hasChanged("source")){var h=amx.getTextValue(c.getAttribute("source")),k=adf.mf.api.amx.buildRelativePath(h);a(c,g,
h,k)}d.hasChanged("shortDesc")&&b(g,c.getAttribute("shortDesc"));t.superclass.refresh.call(this,c,d,e)};var u=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"commandLink");u.prototype.render=function(a){var b=document.createElement("a"),c=adf.mf.api.amx,d=function(a){a.stopPropagation();a.preventDefault()};b.setAttribute("role","link");c.addBubbleEventListener(b,"click",d);c.isValueTrue(a.getAttribute("disabled"))?(b.className="amx-disabled",b.setAttribute("aria-disabled",
"true")):c.isValueTrue(a.getAttribute("readOnly"))?(b.className="amx-readOnly",b.setAttribute("aria-readonly","true")):b.setAttribute("href","#");c.addBubbleEventListener(b,"tap",function(d){b.focus();d.preventDefault();d.stopPropagation();b.focus();c.isValueTrue(a.getAttribute("disabled"))||c.isValueTrue(a.getAttribute("readOnly"))||c.validate(b,function(){if(c.acceptEvent()){var b=new c.ActionEvent;c.processAmxEvent(a,"action",void 0,void 0,b,function(){var b=a.getAttributeExpression("action",!0);
null!=b&&c.doNavigation(b)})}})});var e=a.getAttribute("text");if(null!=e){var g=document.createElement("label");g.appendChild(document.createTextNode(e));g.setAttribute("role","presentation");g.setAttribute("aria-hidden","true");b.setAttribute("aria-label",e);b.appendChild(g)}e=a.getAttribute("shortDesc");null!=e&&b.setAttribute("title",e);c.addBubbleEventListener(b,"dragstart",d);c.enableAmxEvent(a,b,"swipe");c.enableAmxEvent(a,b,"tapHold");d=a.renderDescendants();e=0;for(g=d.length;e<g;++e)b.appendChild(d[e]);
return b};u.prototype.attributeChangeResult=function(a,b,c){switch(b){case "text":return b=c.getOldValue("text"),a=a.getAttribute("text"),null!=b&&null!=a?adf.mf.api.amx.AmxNodeChangeResult.REFRESH:adf.mf.api.amx.AmxNodeChangeResult.RERENDER;case "shortDesc":case "disabled":case "readOnly":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return u.superclass.attributeChangeResult.call(this,a,b,c)}};u.prototype.refresh=function(a,b,c){var d=document.getElementById(a.getId());if(b.hasChanged("text")){var e=
a.getAttribute("text"),g=d.querySelector("label");if(null!=g){for(;null!=g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(e))}d.setAttribute("aria-label",e)}b.hasChanged("shortDesc")&&(e=a.getAttribute("shortDesc"),null!=e&&d.setAttribute("title",e));if(b.hasChanged("disabled")||b.hasChanged("readOnly")){var e=d.classList,g=adf.mf.api.amx.isValueTrue(a.getAttribute("disabled")),h=adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly"));g&&!e.contains("amx-disabled")?(e.add("amx-disabled"),
d.setAttribute("aria-disabled","true"),e.contains("amx-readOnly")&&(e.remove("amx-readOnly"),d.removeAttribute("aria-readonly"))):(d.classList.remove("amx-disabled"),d.removeAttribute("aria-disabled"),h&&!classlist.contains("amx-readOnly")&&(e.add("amx-readOnly"),d.setAttribute("aria-readonly","true")));g||h||d.hasAttribute("href")||d.setAttribute("href","#")}u.superclass.refresh.call(this,a,b,c)};u.prototype.__getTestJavaScriptURI=function(a){return"js/testing/amx-commandLink.js"};var v=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"commandButton");v.prototype.render=function(a){var b=document.createElement("div");b.setAttribute("tabindex","0");var c=document.createElement("label");c.className="amx-commandButton-label";c.appendChild(document.createTextNode(amx.getTextValue(a.getAttribute("text"))));b.appendChild(c);b.setAttribute("role","button");"__back"==a.getAttributeExpression("action",!0)&&(a=a.getAttribute("styleClass"),null!=a&&/\bamx-commandButton-normal\b/.test(a)||b.classList.add("amx-commandButton-back"));return b};
v.prototype.init=function(a,b){if(b.getAttribute("icon")){if(-1<b.getAttribute("icon").indexOf(".")){var c=this._createIcon(b);a.insertBefore(c,a.firstChild)}"trailing"==b.getAttribute("iconPosition")?a.classList.add("amx-iconPosition-trailing"):a.classList.add("amx-iconPosition-leading")}for(var c=a.childNodes,d=c.length,e=null,g=0;g<d;g++){var h=c[g];if(h.classList.contains("amx-commandButton-label")){e=h;break}}c=null!=e?e.textContent:"";d=b.getAttribute("shortDesc");null!=d&&a.setAttribute("aria-label",
d);adf.mf.api.amx.isValueTrue(b.getAttribute("disabled"))&&(a.setAttribute("aria-disabled","true"),a.classList.add("amx-disabled"));""==c&&a.classList.add("amx-label-no-text");adf.mf.api.amx.addBubbleEventListener(a,"tap",function(c){a.focus();c.preventDefault();c.stopPropagation();adf.mf.api.amx.isValueTrue(b.getAttribute("disabled"))||adf.mf.api.amx.validate(a,function(){if(adf.mf.api.amx.acceptEvent()){var a=new amx.ActionEvent;adf.mf.api.amx.processAmxEvent(b,"action",void 0,void 0,a,function(){var a=
b.getAttributeExpression("action",!0,!0);null!=a&&adf.mf.api.amx.doNavigation(a)})}})});c=document.createElement("div");c.className="amx-extendedTarget";a.appendChild(c);adf.mf.api.amx.isValueTrue(b.getAttribute("disabled"))||(c="mousedown",d="mouseup",amx.hasTouch()&&(c="touchstart",d="touchend"),adf.mf.api.amx.addBubbleEventListener(a,c,function(b){a.classList.add("amx-selected");a.setAttribute("aria-pressed","true")}),adf.mf.api.amx.addBubbleEventListener(a,d,function(b){a.classList.remove("amx-selected");
a.setAttribute("aria-pressed","false")}),adf.mf.api.amx.addBubbleEventListener(a,"mouseout",function(){a.classList.remove("amx-selected");a.setAttribute("aria-pressed","false")}))};v.prototype.attributeChangeResult=function(a,b,c){switch(b){case "text":case "disabled":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "shortDesc":case "icon":return"fetchAndInline"==a.getAttribute("iconDelivery")?adf.mf.api.amx.AmxNodeChangeResult.RERENDER:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return v.superclass.attributeChangeResult.call(this,
a,b,c)}};v.prototype.refresh=function(a,b,c){var d=a.getId(),d=document.getElementById(d);b.hasChanged("text")&&this._refreshText(a,d);b.hasChanged("shortDesc")&&this._refreshShortDesc(a,d);b.hasChanged("disabled")&&this._refreshDisabled(a,d);b.hasChanged("icon")&&this._refreshIcon(a,d);v.superclass.refresh.call(this,a,b,c)};v.prototype.__getTestJavaScriptURI=function(a){return"js/testing/amx-commandButton.js"};v.prototype._refreshText=function(a,b){var c=b.querySelector(".amx-commandButton-label"),
d=amx.getTextValue(a.getAttribute("text"));c.textContent=d;""==d?b.classList.add("amx-label-no-text"):b.classList.remove("amx-label-no-text")};v.prototype._refreshShortDesc=function(a,b){var c=a.getAttribute("shortDesc");null!=c?b.setAttribute("aria-label",c):b.removeAttribute("aria-label")};v.prototype._refreshDisabled=function(a,b){adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"))?(b.setAttribute("aria-disabled","true"),b.classList.add("amx-disabled")):(b.removeAttribute("aria-disabled"),b.classList.remove("amx-disabled"))};
v.prototype._refreshIcon=function(b,c){var d=b.getAttribute("icon"),e=null!=d&&-1<d.indexOf("."),d=c.querySelector(".amx-commandButton-icon"),g=c.classList;e?null==d?(d=this._createIcon(b),c.insertBefore(d,c.firstChild),b.getAttribute("iconPosition"),g.add("amx-iconPosition-trailing"),g.remove("amx-iconPosition-leading")):(e=adf.mf.api.amx.buildRelativePath(b.getAttribute("icon")),a(b,d,e)):null!=d&&(g.remove("amx-iconPosition-trailing"),g.remove("amx-iconPosition-leading"),adf.mf.api.amx.removeDomNode(d))};
v.prototype._createIcon=function(a){var b=adf.mf.api.amx.buildRelativePath(a.getAttribute("icon")),d="fetchAndInline"==a.getAttribute("iconDelivery");a=c(a,d,null,"icon",b);a.className="amx-commandButton-icon";return a};(function(){amx.createField=function(a,b){var c={},d=document.createElement("div");d.className="field";c.fieldRoot=d;c.isReadOnly=adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly"));c.isDisable=adf.mf.api.amx.isValueTrue(a.getAttribute("disabled"));var e=document.createElement("div");
e.className="field-label";c.fieldLabel=e;d.appendChild(e);if(adf.mf.api.amx.isValueTrue(a.getAttribute("simple")))d.classList.add("amx-simple");else{var g=document.createElement("label"),h=a.getId()+"::lbl";g.setAttribute("id",h);null!=b&&g.setAttribute("for",b);g.appendChild(document.createTextNode(amx.getTextValue(a.getAttribute("label"))));e.appendChild(g)}e=document.createElement("div");e.className="field-value";c.fieldValue=e;d.appendChild(e);return c}})()})();