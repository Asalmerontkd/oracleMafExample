(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(c,"adf.mf.internal.dvt.BaseComponentRenderer","adf.mf.internal.dvt.timeline.TimeAxisRenderer");c.prototype.GetAttributesDefinition=function(){var a=c.superclass.GetAttributesDefinition.call(this);a.inlineStyle={path:"style",type:b.TEXT};a.styleClass={path:"styleClass",type:b.TEXT};a.scale={path:"scale",type:b.TEXT};return a};c.prototype.ProcessAttributes=function(a,b,d){var g=a.minorAxis;
if(b.isAttributeDefined("type"))if(g=b.getAttribute("type"),"major"===g)g=a.majorAxis;else if("minor"===g)g=a.minorAxis;else return!1;a=c.superclass.ProcessAttributes.call(this,g,b,d);if(b=b.getConverter())a=!0,g.converter=b;return a}})();
(function(){adf.mf.internal.dvt.DvtmObject.createPackage("adf.mf.internal.dvt.timeline");adf.mf.internal.dvt.timeline.DefaultTimelineStyle={emptyText:null,styleDefaults:{timelineSeries:{colors:"#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" ")}},_resources:{scrollLeft:"css/images/timeline/scroll_l.svg",scrollRight:"css/images/timeline/scroll_r.svg",scrollUp:"css/images/timeline/scroll_t.svg",scrollDown:"css/images/timeline/scroll_d.svg",zoomIn:"css/images/timeline/control-magnify-ena.png",
zoomIn_a:"css/images/timeline/control-magnify-dwn.png",zoomOut:"css/images/timeline/control-deMagnify-ena.png",zoomOut_a:"css/images/timeline/control-deMagnify-dwn.png",overviewHandleHor:"css/images/timeline/drag_horizontal.png",overviewHandleVert:"css/images/timeline/drag_vertical.png"}}})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,a=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(a,"adf.mf.internal.dvt.BaseRenderer","adf.mf.internal.dvt.timeline.TimelineItemRenderer");a.prototype.GetAttributesDefinition=function(){var c=a.superclass.GetAttributesDefinition.call(this);c.description={path:"description",type:b.TEXT};c.endTime={path:"end",type:b.DATETIME};c.inlineStyle={path:"style",type:b.TEXT};
c.startTime={path:"start",type:b.DATETIME};c.styleClass={path:"styleClass",type:b.TEXT};c.title={path:"title",type:b.TEXT};c.durationFillColor={path:"durationFillColor",type:b.TEXT};return c};a.prototype.ProcessAttributes=function(b,d,g){var h=g.series;b=g.amxNode;var k={};k.id=d.getId();k._rowKey=g._rowKey;g.selectedRowKeys&&-1<g.selectedRowKeys.indexOf(g._rowKey)&&(h.selectedItems||(h.selectedItems=[]),h.selectedItems.push(k.id));if(d.isAttributeDefined("action"))k.action=g._rowKey;else{var m,n=
!1;m=d.getTag().findTags(adf.mf.internal.dvt.AMX_NAMESPACE,"setPropertyListener");0<m.length?n=!0:(m=d.getTag().findTags(adf.mf.internal.dvt.AMX_NAMESPACE,"showPopupBehavior"),0<m.length&&(n=!0));n&&(k.action=g._rowKey)}a.superclass.ProcessAttributes.call(this,k,d,g);k.start===k.end&&delete k.end;h.items.push(k);d=d.getChildren();for(d=adf.mf.api.amx.createIterator(d);d.hasNext();)h=d.next(),"attributeGroups"!==h.getTag().getName()||h.isAttributeDefined("rendered")&&adf.mf.api.amx.isValueFalse(h.getAttribute("rendered"))||
c.processAttributeGroup(h,b,g);c.registerDataItem(g,k,null);return!0}})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=adf.mf.internal.dvt.StyleProcessor,a=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,e=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(e,"adf.mf.internal.dvt.BaseComponentRenderer","adf.mf.internal.dvt.timeline.TimelineRenderer");e.prototype.GetStyleClassesDefinition=function(){var a=e.superclass.GetStyleClassesDefinition.call(this);a["timeAxis-backgroundColor"]={path:"styleDefaults/timeAxis/backgroundColor",type:c.COLOR};
a["timeAxis-borderColor"]={path:"styleDefaults/timeAxis/borderColor",type:c.COLOR};a["timeAxis-borderWidth"]={path:"styleDefaults/timeAxis/borderWidth",type:c.WIDTH};a["timeAxis-labelStyle"]={path:"styleDefaults/timeAxis/labelStyle",type:c.CSS_TEXT,ignoreEmpty:!0};a["timeAxis-separatorColor"]={path:"styleDefaults/timeAxis/separatorColor",type:c.COLOR};a["timelineItem-backgroundColor"]={path:"styleDefaults/timelineItem/backgroundColor",type:c.COLOR};a["timelineItem-selectedBackgroundColor"]={path:"styleDefaults/timelineItem/selectedBackgroundColor",
type:c.COLOR};a["timelineItem-borderColor"]={path:"styleDefaults/timelineItem/borderColor",type:c.COLOR};a["timelineItem-selectedBorderColor"]={path:"styleDefaults/timelineItem/selectedBorderColor",type:c.COLOR};a["timelineItem-borderWidth"]={path:"styleDefaults/timelineItem/borderWidth",type:c.WIDTH};a["timelineItem-selectedBorderWidth"]={path:"styleDefaults/timelineItem/selectedBorderWidth",type:c.WIDTH};a["timelineItem-feelerColor"]={path:"styleDefaults/timelineItem/feelerColor",type:c.COLOR};
a["timelineItem-selectedFeelerColor"]={path:"styleDefaults/timelineItem/selectedFeelerColor",type:c.COLOR};a["timelineItem-feelerWidth"]={path:"styleDefaults/timelineItem/feelerWidth",type:c.WIDTH};a["timelineItem-selectedFeelerWidth"]={path:"styleDefaults/timelineItem/selectedFeelerWidth",type:c.WIDTH};a["timelineItem-descriptionStyle"]={path:"styleDefaults/timelineItem/descriptionStyle",type:c.CSS_TEXT,ignoreEmpty:!0};a["timelineItem-titleStyle"]={path:"styleDefaults/timelineItem/titleStyle",type:c.CSS_TEXT,
ignoreEmpty:!0};a["timelineSeries-backgroundColor"]={path:"styleDefaults/timelineSeries/backgroundColor",type:c.COLOR};a["timelineSeries-labelStyle"]={path:"styleDefaults/timelineSeries/labelStyle",type:c.CSS_TEXT,ignoreEmpty:!0};a["timelineSeries-emptyTextStyle"]={path:"styleDefaults/timelineSeries/emptyTextStyle",type:c.CSS_TEXT,ignoreEmpty:!0};return a};e.prototype.GetChildRenderers=function(a){if(void 0===this._renderers){a=adf.mf.internal.dvt.timeline.TimelineSeriesRenderer;var b=adf.mf.internal.dvt.timeline.TimeAxisRenderer;
this._renderers={overview:{renderer:new adf.mf.internal.dvt.common.overview.OverviewRenderer,order:3,maxOccurences:1},timelineSeries:{renderer:new a},timeAxis:{renderer:new b}}}return this._renderers};e.prototype.GetAttributesDefinition=function(a){a=e.superclass.GetAttributesDefinition.call(this);a.id={path:"id",type:b.TEXT};a.inlineStyle={path:"style",type:b.TEXT};a.itemSelection={path:"selectionMode",type:b.TEXT};a.orientation={path:"orientation",type:b.TEXT};a.selectionMode={path:"selectionMode",
type:b.TEXT};a.shortDesc={path:"shortDesc",type:b.TEXT};a.styleClass={path:"styleClass",type:b.TEXT};adf.mf.environment.profile.dtMode||(a.endTime={path:"end",type:b.DATETIME},a.startTime={path:"start",type:b.DATETIME},a.viewportEnd={path:"viewportEnd",type:b.DATETIME},a.viewportStart={path:"viewportStart",type:b.DATETIME});return a};e.prototype.InitComponentOptions=function(b,c){e.superclass.InitComponentOptions.call(this,b,c);c.type="timeline";c.series=[];c.minorAxis={};c.majorAxis={};if(adf.mf.environment.profile.dtMode){var h=
adf.mf.internal.dvt.ComponentDefinition.getComponentDefinition(b.getTag().getName()),h=h.getDTModeData(),k;for(k in h)c[k]=h[k];h=b.getChildren();k=!1;for(var m=0;m<h.length;m++)if("timelineSeries"===h[m].getTag().getName()){k=!0;break}k||(h=adf.mf.internal.dvt.ComponentDefinition.getComponentDefinition("timelineSeries"),h=h.getDTModeData(),k={},k.id="timelineSeries"+Math.random(),k.items=h.items0,k.label="Label 0",c.series[0]=k,k={},k.id="timelineSeries"+Math.random(),k.items=h.items1,k.label="Label 1",
c.series[1]=k)}b._seriesOrder=[];b._stylesResolved=!1;a.reset(b)};e.prototype.GetCustomStyleProperty=function(a){return"CustomTimelineStyle"};e.prototype.GetDefaultStyles=function(a){return adf.mf.internal.dvt.timeline.DefaultTimelineStyle};e.prototype.MergeComponentOptions=function(a,b){b=e.superclass.MergeComponentOptions.call(this,a,b);var c=b.styleDefaults;c&&c.timelineSeries&&c.timelineSeries.colors&&(a._durationBarFillColor=c.timelineSeries.colors);return b};e.prototype.ProcessAttributes=function(a,
b,c){c=e.superclass.ProcessAttributes.call(this,a,b,c);b=b.getAttribute("_selection");void 0!==b&&null!==b&&(a.selectedItems=b);return c};e.prototype.ProcessEvent=function(a,b,c){e.superclass.ProcessEvent.call(this,a,b,c);var k,m=[];"selection"===b.type?(b.selection&&0<b.selection.length?(b=b.selection[0],(k=this.findAmxNode(a,b))&&m.push(k.getStampKey()),k=k?k.getParent():null):(b=a.getAttribute("_lastSelectionSourceId"),k=this.findAmxNode(a,b)),k&&(b=a.getAttribute("_selection")||[],b=this.filterArray(b,
function(a){return-1===m.indexOf(a)}),b=new adf.mf.api.amx.SelectionEvent(b,m),adf.mf.api.amx.processAmxEvent(k,"selection",void 0,void 0,b,null),a.setAttributeResolvedValue("_selection",m),a.setAttributeResolvedValue("_lastSelectionSourceId",k.getId()))):"action"===b.type&&(b=b.clientId,k=this.findAmxNode(a,b))&&(a=new adf.mf.api.amx.ActionEvent,adf.mf.api.amx.processAmxEvent(k,"action",void 0,void 0,a,function(){var a=k.getAttributeExpression("action",!0);null!=a&&adf.mf.api.amx.doNavigation(a)}))};
e.prototype.GetToolkitClass=function(){return adf.mf.internal.dvt.util.JSONPath("adf.mf.internal.dvt.toolkit.Timeline")};e.prototype.RenderComponent=function(a,b,c,e){e=this.GetDataObject(e);b=this.AdjustStageDimensions({width:b,height:c});a.render(e,b.width,b.height)};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_DVTM,"timeline",e)})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,a=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(a,"adf.mf.internal.dvt.DataStampRenderer","adf.mf.internal.dvt.timeline.TimelineSeriesRenderer");a.prototype.GetFacetNames=function(){return[]};a.prototype.GetChildRenderers=function(a){void 0===this._renderers&&(this._renderers={timelineItem:{renderer:new adf.mf.internal.dvt.timeline.TimelineItemRenderer,order:1}});
return this._renderers};a.prototype.GetAttributesDefinition=function(){var c=a.superclass.GetAttributesDefinition.call(this);c.emptyText={path:"emptyText",type:b.TEXT};c.inlineStyle={path:"style",type:b.TEXT};c.label={path:"label",type:b.TEXT};c.styleClass={path:"styleClass",type:b.TEXT};return c};a.prototype.updateTimelineNode=function(a){var b=a.getParent();a=a.getId();-1==b._seriesOrder.indexOf(a)&&b._seriesOrder.push(a)};a.prototype.ProcessAttributes=function(b,c,g){this.updateTimelineNode(c);
var h=c.getParent(),k=c.getId(),m={};m.id=k;m.items=[];g.series=m;a.superclass.ProcessAttributes.call(this,m,c,g);c=h._seriesOrder.indexOf(k);if(1!==c||null!==m)b.series[c]=m;return!0};a.prototype.ProcessChildren=function(b,d,g){if(adf.mf.environment.profile.dtMode){g=adf.mf.internal.dvt.ComponentDefinition.getComponentDefinition(d.getTag().getName()).getDTModeData();var h={};h.id=d.getId();d=d.getParent()._seriesOrder.indexOf(d.getId());if(1!=d||null!==h)h.items=g["items"+d],h.label="Label "+d,b.series[d]=
h;return!0}c.init(g);g.selectedRowKeys=d.isAttributeDefined("selectedRowKeys")?d.getAttribute("selectedRowKeys"):null;b=a.superclass.ProcessChildren.call(this,b,d,g);delete g.selectedRowKeys;h=new adf.mf.internal.dvt.common.attributeGroup.AttributeGroupConfig;h.addTypeToDefaultPaletteMapping("durationFillColor","durationBarFillColor");h.setUpdateCategoriesCallback(function(a,b,c,d){});c.applyAttributeGroups(d.getParent(),h,g);return b};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_DVTM,
"timelineSeries",adf.mf.internal.dvt.common.layer.DataLayerRenderer)})();