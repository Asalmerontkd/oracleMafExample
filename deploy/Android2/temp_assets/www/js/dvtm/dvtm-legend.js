(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(c,"adf.mf.internal.dvt.BaseRenderer","adf.mf.internal.dvt.legend.StandaloneLegendItemRenderer");c.prototype.GetAttributesDefinition=function(){var a=c.superclass.GetAttributesDefinition.call(this);a.borderColor={path:"borderColor",type:b.TEXT};a.categories={path:"categories",type:b.STRINGARRAY};a.color={path:"color",type:b.TEXT};a.drilling={path:"drilling",type:b.ON_OFF};a.lineStyle=
{path:"lineStyle",type:b.TEXT};a.lineWidth={path:"lineWidth",type:b.TEXT};a.markerColor={path:"markerColor",type:b.TEXT};a.markerShape={path:"markerShape",type:b.TEXT};a.pattern={path:"pattern",type:b.TEXT};a.source={path:"source",type:b.TEXT};a.symbolType={path:"symbolType",type:b.TEXT};a.text={path:"text",type:b.TEXT};return a};c.prototype.ProcessAttributes=function(a,b,d){var g={id:b.getId()};c.superclass.ProcessAttributes.call(this,g,b,d);a.items.push(g)}})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=adf.mf.internal.dvt.StyleProcessor,a=adf.mf.internal.dvt.DOMUtils,e=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(e,"adf.mf.internal.dvt.BaseComponentRenderer","adf.mf.internal.dvt.legend.StandaloneLegendRenderer");e.prototype.GetChildRenderers=function(a){this._renderers||(this._renderers={legendSection:{renderer:new adf.mf.internal.dvt.legend.StandaloneLegendSectionRenderer}});return this._renderers};e.prototype.GetChildrenNodes=
function(a,b){return a.getRenderedChildren()};e.prototype.GetAttributesDefinition=function(){var a=e.superclass.GetAttributesDefinition.call(this);a.rendered={path:"rendered",type:b.ON_OFF};a.drilling={path:"drilling",type:b.TEXT};a.orientation={path:"orientation",type:b.TEXT};a.scrolling={path:"scrolling",type:b.TEXT};a.halign={path:"halign",type:b.TEXT};a.valign={path:"valign",type:b.TEXT};a.titleHalign={path:"titleHalign",type:b.TEXT};a.title={path:"title",type:b.TEXT};a.titleStyle={path:"titleStyle",
type:b.TEXT};a.symbolHeight={path:"symbolHeight",type:b.INTEGER};a.symbolWidth={path:"symbolWidth",type:b.INTEGER};return a};e.prototype.GetStyleClassesDefinition=function(){var a=e.superclass.GetStyleClassesDefinition.call(this);a["dvtm-legend"]=[{path:"textStyle",type:c.CSS_TEXT},{path:"backgroundColor",type:c.BACKGROUND},{path:"borderColor",type:c.TOP_BORDER_WHEN_WIDTH_GT_0PX}];a["dvtm-legendTitle"]={path:"titleStyle",type:c.CSS_TEXT,overwrite:!1};a["dvtm-legendSectionTitle"]={path:"sectionTitleStyle",
type:c.CSS_TEXT};return a};e.prototype.InitComponentOptions=function(a,b){e.superclass.InitComponentOptions.call(this,a,b);b.sections=[];var c=this.IsRTL()?"-r":"";b._resources={closedEnabled:"css/images/legend/alta/closed-ena"+c+".png",closedOver:"css/images/legend/alta/closed-ovr"+c+".png",closedDown:"css/images/legend/alta/closed-dwn"+c+".png",openEnabled:"css/images/legend/alta/open-ena"+c+".png",openOver:"css/images/legend/alta/open-ovr"+c+".png",openDown:"css/images/legend/alta/open-dwn"+c+
".png"}};e.prototype.GetCustomStyleProperty=function(a){return"CustomLegendStyle"};e.prototype.GetToolkitClass=function(){return adf.mf.internal.dvt.util.JSONPath("adf.mf.internal.dvt.toolkit.Legend")};e.prototype.RefreshComponent=function(a,b,c){e.superclass.RefreshComponent.call(this,a,b,c);this.ResetComponentDimensions(document.getElementById(this.GetComponentId(a)),a)};e.prototype.RenderComponent=function(a,b,c,e){e=this.GetDataObject(e);a.render(e,b,c)};e.prototype.GetPreferredSize=function(b,
c,e,k){var m=this.GetComponentInstance(b,c);if((c=this.GetDataObject(c))&&m&&m.getPreferredSize){var n=0,t=0;b.style.height&&(n=a.parseStyleSize(b.style.height)||a.parseStyleSize(b.style.height,!0));t=a.parseStyleSize(b.style.width)||a.parseStyleSize(b.style.width,!0);if(!n||!t){1>=k&&(k=1E4);1>=e&&(e=1E4);b={w:null,h:null};try{b=m.getPreferredSize(c,e,k)}catch(u){adf.mf.log.Framework.logp(adf.mf.log.level.FINE,this.getTypeName(),"GetPreferredSize","Exception: "+u.message+" (line: "+u.line+")"),adf.mf.log.Framework.logp(adf.mf.log.level.FINE,
this.getTypeName(),"GetPreferredSize","Stack: "+u.stack)}e=t?null:b.w;k=n?null:b.h;return{w:e,h:k}}}return null};e.prototype.ProcessEvent=function(a,b,c){e.superclass.ProcessEvent.call(this,a,b,c);if("dvtDrill"===b.type){c=b.id||null;b=b.series||null;var k=null;if(c){var m=this.findAmxNode(a,c);m&&(k=m.getStampKey())}c=new adf.mf.api.dvt.ChartDrillEvent(c,k,b,null);adf.mf.api.amx.processAmxEvent(a,"drill",void 0,void 0,c)}};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_DVTM,
"legend",e)})();
(function(){var b=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,c=adf.mf.internal.dvt.AttributeProcessor,a=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(a,"adf.mf.internal.dvt.BaseRenderer","adf.mf.internal.dvt.legend.StandaloneLegendSectionRenderer");a.prototype.GetChildrenNodes=function(a,b){return a.getRenderedChildren()};a.prototype.GetChildRenderers=function(a){this._renderers||(this._renderers={legendItem:{renderer:new adf.mf.internal.dvt.legend.StandaloneLegendItemRenderer}});return this._renderers};
a.prototype.GetAttributesDefinition=function(){var b=a.superclass.GetAttributesDefinition.call(this);b.disclosed={path:"expanded",type:c.TEXT};b.showDisclosure={path:"collapsible",type:c.TEXT};b.title={path:"title",type:c.TEXT};b.titleHalign={path:"titleHalign",type:c.TEXT};b.titleStyle={path:"titleStyle",type:c.TEXT};return b};a.prototype.ProcessAttributes=function(b,c,d){b={items:[]};a.superclass.ProcessAttributes.call(this,b,c,d);d.__activeSection=b};var e={},d={};a.prototype.ProcessChildren=function(c,
h,k){var m=k.__activeSection;delete k.__activeSection;var n=h.getAttribute("source");if(n){var t=h.getParent().getId(),u=this.CreateMapper(n,m.items);k=b.getSharedCategories(n);u(k);b.observeSharedCategories(n,function(a){var b=e[t];b&&(clearTimeout(b),delete e[t]);u(a)&&(d[t]=d[t]||new adf.mf.api.amx.AmxNodeUpdateArguments,d[t].setAffectedAttribute(h,"_categories"));e[t]=setTimeout(function(a){var b=d[a];delete e[a];delete d[a];adf.mf.api.amx.markNodeForUpdate(b)},100,t)})}else a.superclass.ProcessChildren.call(this,
m,h,k);c.sections.push(m)};a.prototype.CreateMapper=function(a,c){return function(d){var e=c.length!==(d&&d.categories?d.categories.length:0);c.length=0;if(d){var n=b.getSharedAttribute(a,"palette.color");n||(n=b.getSharedAttribute(a,"palette.indicatorColor"));var t=b.getSharedAttribute(a,"palette.shape"),u=b.getSharedAttribute(a,"palette.pattern"),v=0;d.each(function(a){var b=d.getLabelByIndex(a),g=d.getValueByIndex(a),y=null;null!=b?y=""+b:null!=g&&(y=""+g);null!=y&&(b=n?n[a%n.length]:null,g=t?
t[a%t.length]:null,a=u?u[a%u.length]:null,e=e||!c[v]||c[v].text!==y||c[v].color!==b||c[v].markerShape!==g||c[v].pattern!==a,c.push({text:y,color:b||null,markerShape:g||null,pattern:a||null}),v++)})}return e}}})();