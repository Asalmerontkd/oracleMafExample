(function(){adf.mf.internal.dvt.DvtmObject.createPackage("adf.mf.internal.dvt.treeview");var b=adf.mf.internal.dvt.util.JSONPath,c={};adf.mf.internal.dvt.treeview.TreeviewUtils=c;c.copyOptionIfDefined=function(a,c,d){(c=(new b(a,c)).getValue())&&(new b(a,d)).setValue(c)};c.getMergedStyleValue=function(a,c){return(new b(a,c)).getValue()};c.isAttributeGroupNode=function(a){return a&&a.getTag()&&"attributeGroups"===a.getTag().getName()?!0:!1}})();
(function(){var b=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager;adf.mf.internal.dvt.DvtmObject.createPackage("adf.mf.internal.dvt.treeview");var c={};adf.mf.internal.dvt.treeview.TreeModelBuilder=c;c.createModelNodes=function(a,c,d){var g=c._dataItems,h=function(){return{props:["attrGroups"],contains:function(a){return-1<this.props.indexOf(a)}}}(),k,m,n,t,u,v,w=adf.mf.internal.dvt.common.attributeGroup.DefaultPalettesValueResolver;k=0;for(n=g.length;k<n;k++){u=g[k];v={};var x=Object.keys(u);
m=0;for(t=x.length;m<t;m++){var z=x[m];u.hasOwnProperty(z)&&("string"!==typeof z||0===z.indexOf("_")||h.contains(z)||(v[z]=u[z]))}m=u._detachedGroups;b.attachProcessedAttributeGroups(d,m);m=new adf.mf.internal.dvt.common.attributeGroup.DataItemConfig;t=w.resolveValue(c,w.COLOR,k);m.addTypeDefaultValue(w.COLOR,t);b.registerDataItem(d,v,m);a.nodes.push(v)}}})();
(function(){var b=adf.mf.internal.dvt.treeview.TreeviewUtils,c=adf.mf.internal.dvt.treeview.TreeModelBuilder,a=adf.mf.internal.dvt.AttributeProcessor,e=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,d=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(d,"adf.mf.internal.dvt.DataStampRenderer","adf.mf.internal.dvt.treeview.BaseTreeviewRenderer");d.prototype.GetChartType=function(){return null};d.prototype.MergeComponentOptions=function(a,c){c=d.superclass.MergeComponentOptions.call(this,
a,c);c.nodeDefaults||(c.nodeDefaults={});b.copyOptionIfDefined(c,"node/labelDisplay","nodeDefaults/labelDisplay");b.copyOptionIfDefined(c,"node/labelHalign","nodeDefaults/labelHalign");b.copyOptionIfDefined(c,"node/labelValign","nodeDefaults/labelValign");var e=c.styleDefaults;e&&(e.colors&&(a._defaultColors=e.colors),e.patterns&&(a._defaultPatterns=e.patterns),delete c.styleDefaults);return c};d.prototype.GetStyleComponentName=function(){return null};d.prototype.GetAttributesDefinition=function(c){var e=
d.superclass.GetAttributesDefinition.call(this,c),k=this.GetStyleComponentName();c=this.GetDataObject(c);e.animationDuration={path:"animationDuration",type:a.INTEGER,"default":b.getMergedStyleValue(c,k+"/animationDuration")};e.animationOnDisplay={path:"animationOnDisplay",type:a.TEXT,"default":b.getMergedStyleValue(c,k+"/animationOnDisplay")};e.animationOnDataChange={path:"animationOnDataChange",type:a.TEXT,"default":b.getMergedStyleValue(c,k+"/animationOnDataChange")};e.nodeSelection={path:"selectionMode",
type:a.TEXT,"default":b.getMergedStyleValue(c,k+"/nodeSelection")};e.sorting={path:"sorting",type:a.TEXT,"default":b.getMergedStyleValue(c,k+"/sorting")};e.emptyText={path:"emptyText",type:a.TEXT,"default":b.getMergedStyleValue(c,k+"/emptyText")};e.rendered={path:"rendered",type:a.TEXT};e.shortDesc={path:"shortDesc",type:a.TEXT};e.sizeLabel={path:"sizeLabel",type:a.TEXT};e.colorLabel={path:"colorLabel",type:a.TEXT};e.legendSource={path:"legendSource",type:a.TEXT};return e};d.prototype.InitComponentOptions=
function(a,b){d.superclass.InitComponentOptions.call(this,a,b);b.nodeDefaults={};b.nodes=[];a.isAttributeDefined("data")&&(b.nodes=a.getAttribute("data"));b.type=this.GetChartType();a._dataItems=[];e.reset(a);a._stylesResolved=!1};d.prototype.updateChildren=function(a,b){var c=d.superclass.updateChildren.call(this,a,b);b.hasChanged("selectedRowKeys")&&(a.setAttributeResolvedValue("_selection",null),c<adf.mf.api.amx.AmxNodeChangeResult.REFRESH&&(c=adf.mf.api.amx.AmxNodeChangeResult.REFRESH));return c};
d.prototype.setSelectedAndIsolatedNodes=function(b){var c=!1,d=b.getAttribute("_selection"),e=b.isAttributeDefined("isolatedRowKey")?b.getAttribute("isolatedRowKey"):null,n=null,t=this.GetDataObject(b);null==d?n=b.isAttributeDefined("selectedRowKeys")?a.ROWKEYARRAY(b.getAttribute("selectedRowKeys")):null:(c=!0,t.selection=d);if(e||n&&0<n.length)if(b.isAttributeDefined("value")){if(d=b.getAttribute("value"))for(d=adf.mf.api.amx.createIterator(d);d.next();)c|=this._processIsolatedAndSelectedNodesForRowKey(b,
e,n,d.getRowKey())}else return this._processIsolatedAndSelectedNodesForRowKey(b,e,n,null);b.setAttributeResolvedValue("_selection",t.selection);return c};d.prototype._processIsolatedAndSelectedNodesForRowKey=function(a,b,c,d){var e=this.GetDataObject(a),t=a.getChildren(null,d);a=!1;for(t=adf.mf.api.amx.createIterator(t);t.hasNext();){var u=t.next(),v=u.getId(),u=null===d?t.getRowKey()+"":u.getStampKey();null!==b&&u===b&&(e.isolatedNode=v,a=!0);null!==c&&-1<c.indexOf(u)&&(e.selection||(e.selection=
[]),e.selection.push(v),a=!0)}return a};d.prototype.ProcessChildren=function(a,b,k){b._dataItems=[];if(adf.mf.environment.profile.dtMode){var m=adf.mf.internal.dvt.ComponentDefinition.getComponentDefinition("treeView").getDTModeData();a.nodes=m.nodes;b.isAttributeDefined("displayLevelsChildren")&&this.enforceLevelsChildren(a.nodes,b.getAttribute("displayLevelsChildren"));return!0}e.init(k);m=d.superclass.ProcessChildren.call(this,a,b,k);m|=this.setSelectedAndIsolatedNodes(b);c.createModelNodes(a,
b,k);var n=new adf.mf.internal.dvt.common.attributeGroup.AttributeGroupConfig;n.addTypeToItemAttributeMapping("fillColor",adf.mf.internal.dvt.common.attributeGroup.DefaultPalettesValueResolver.COLOR);n.addTypeToDefaultPaletteMapping("fillColor",adf.mf.internal.dvt.common.attributeGroup.DefaultPalettesValueResolver.COLOR);n.addTypeToItemAttributeMapping("fillPattern",adf.mf.internal.dvt.common.attributeGroup.DefaultPalettesValueResolver.PATTERN);n.addTypeToDefaultPaletteMapping("fillPattern",adf.mf.internal.dvt.common.attributeGroup.DefaultPalettesValueResolver.PATTERN);
n.setUpdateCategoriesCallback(function(a,b,c,d){b.categories||(b.categories=[]);b=b.categories;a.isContinuous()?b.push(a.getId()+":"+c):b.push(a.getId()+":"+a.getCategoryValue(c));c=d.getRules();for(d=0;d<c.length;d++)b.push(a.getId()+":"+c[d].value)});e.applyAttributeGroups(b,n,k);if(b=e.findGroupById(b,a.legendSource))a.attributeGroups||(a.attributeGroups=[]),a.attributeGroups.push(b.getDescription());return m};d.prototype.enforceLevelsChildren=function(a,b){if(a)if(0>b&&(b=0),0===b)for(var c=0;c<
a.length;c++)a[c].nodes&&(a[c].nodes=null);else for(c=0;c<a.length;c++)this.enforceLevelsChildren(a[c].nodes,b-1)};d.prototype.ProcessEvent=function(a,b,c){d.superclass.ProcessEvent.call(this,a,b,c);var e=this;if("selection"===b.type&&(c=b.selection,void 0!==c)){b=[];for(var n=[],t=0;t<c.length;t++){var u=e.findAmxNode(a,c[t]);if(u){var v=u.getStampKey();b.push(v);n.push(u.getId())}}c=a.getAttribute("_selection")||[];c=(e.filterArray(c,function(a){return-1===n.indexOf(a)})||[]).map(function(b){return e.findAmxNode(a,
b)});b=new adf.mf.api.amx.SelectionEvent(c,b);adf.mf.api.amx.processAmxEvent(a,"selection",void 0,void 0,b);a.setAttributeResolvedValue("_selection",n)}};d.prototype.AdjustStageDimensions=function(a){var b=a.width;a=a.height;var c=Math.floor(adf.mf.internal.dvt.BaseComponentRenderer.DEFAULT_WIDTH/3),d=Math.floor(adf.mf.internal.dvt.BaseComponentRenderer.DEFAULT_HEIGHT/3);if(0>b-c||0>a-d){var e;b-c<a-d?(e=a/b,b=c,a=b*e):(e=b/a,a=d,b=a*e)}return{width:b,height:a}};d.prototype.RenderComponent=function(a,
b,c,d){var e=null;this.IsOptionsDirty(d)&&(e=this.GetDataObject(d));b=this.AdjustStageDimensions({width:b,height:c});a.render(e,b.width,b.height)}})();
(function(){var b=adf.mf.internal.dvt.treeview.TreeviewUtils,c=adf.mf.internal.dvt.AttributeProcessor,a=adf.mf.internal.dvt.common.attributeGroup.AttributeGroupManager,e=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(e,"adf.mf.internal.dvt.BaseRenderer","adf.mf.internal.dvt.treeview.BaseTreeviewNodeRenderer");e.prototype.GetAttributesDefinition=function(a){a=e.superclass.GetAttributesDefinition.call(this,a);a.value={path:"value",type:c.FLOAT};a.label={path:"label",type:c.TEXT};a.fillColor=
{path:"color",type:c.TEXT};a.fillPattern={path:"pattern",type:c.TEXT};a.shortDesc={path:"shortDesc",type:c.TEXT};a.labelDisplay={path:"labelDisplay",type:c.TEXT};a.labelHalign={path:"labelHalign",type:c.TEXT};return a};e.prototype.ProcessAttributes=function(c,g,h){var k=h.amxNode;if(c=this.CreateTreeViewNode(k,g,h)){c._rowKey=h._rowKey;c.id=g.getId();var m=h._attributeChanges;h._attributeChanges=null;e.superclass.ProcessAttributes.call(this,c,g,h);h._attributeChanges=m;k._dataItems.push(c);g=g.getChildren();
for(g=adf.mf.api.amx.createIterator(g);g.hasNext();)m=g.next(),b.isAttributeGroupNode(m)&&(m.isAttributeDefined("rendered")&&adf.mf.api.amx.isValueFalse(m.getAttribute("rendered"))||a.processAttributeGroup(m,k,h));k=a.detachProcessedAttributeGroups(h);c._detachedGroups=k}h.dataItem=c;return!0};e.prototype.CreateTreeViewNode=function(a,b,c){a=b.getAttribute("rendered");return void 0!==a&&adf.mf.api.amx.isValueFalse(a)?null:{attrGroups:[]}}})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(c,"adf.mf.internal.dvt.treeview.BaseTreeviewNodeRenderer","adf.mf.internal.dvt.treeview.SunburstNodeRenderer");c.prototype.GetAttributesDefinition=function(a){a=c.superclass.GetAttributesDefinition.call(this,a);a.radius={path:"radius",type:b.FLOAT};return a}})();
(function(){var b=adf.mf.internal.dvt.treeview.TreeviewUtils,c=adf.mf.internal.dvt.StyleProcessor,a=adf.mf.internal.dvt.AttributeProcessor,e=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(e,"adf.mf.internal.dvt.treeview.BaseTreeviewRenderer","adf.mf.internal.dvt.treeview.SunburstRenderer");e.prototype.GetChartType=function(){return"sunburst"};e.prototype.GetChildRenderers=function(a){if(void 0===this._renderers){var b=adf.mf.internal.dvt.common.legend.LegendRenderer;this._renderers={stamped:{sunburstNode:{renderer:new adf.mf.internal.dvt.treeview.SunburstNodeRenderer}},
simple:{legend:{renderer:new b,maxOccurrences:1}}}}return a?this._renderers.stamped:this._renderers.simple};e.prototype.GetStyleComponentName=function(){return"sunburst"};e.prototype.GetAttributesDefinition=function(c){var g=e.superclass.GetAttributesDefinition.call(this,c);c=this.GetDataObject(c);g.rotation={path:"rotation",type:a.TEXT,"default":b.getMergedStyleValue(c,"sunburst/rotation")};g.rotationAngle={path:"startAngle",type:a.INTEGER,"default":b.getMergedStyleValue(c,"sunburst/rotationAngle")};
return g};e.prototype.GetStyleClassesDefinition=function(){var a=e.superclass.GetStyleClassesDefinition.call(this);a["dvtm-sunburstNode"]=[{path:"nodeDefaults/borderColor",type:c.BORDER_COLOR}];a["dvtm-sunburstNodeSelected"]=[{path:"nodeDefaults/selectedOuterColor",type:c.BORDER_COLOR_TOP},{path:"nodeDefaults/selectedInnerColor",type:c.BORDER_COLOR}];a["dvtm-sunburstNodeLabel"]=[{path:"nodeDefaults/labelStyle",type:c.CSS_TEXT}];a["dvtm-sunburstAttributeTypeLabel"]=[{path:"styleDefaults/_attributeTypeTextStyle",
type:c.CSS_TEXT}];a["dvtm-sunburstAttributeValueLabel"]=[{path:"styleDefaults/_attributeValueTextStyle",type:c.CSS_TEXT}];return a};e.prototype.GetCustomStyleProperty=function(a){return"CustomSunburstStyle"};e.prototype.GetDefaultStyles=function(a){return adf.mf.internal.dvt.treeview.DefaultSunburstStyle};e.prototype.GetStampedChildTagName=function(a){return"sunburstNode"};e.prototype.GetToolkitClass=function(){return adf.mf.internal.dvt.util.JSONPath("adf.mf.internal.dvt.toolkit.Sunburst")};e.prototype.GetResourceBundles=
function(){var a=adf.mf.internal.dvt.util.ResourceBundle,b=e.superclass.GetResourceBundles.call(this);b.push(a.createLocalizationBundle("DvtSunburstBundle"));return b};e.prototype.PreventsSwipe=function(a){return a.isAttributeDefined("rotation")&&"off"!==a.getAttribute("rotation")?!0:!1};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_DVTM,"sunburst",e)})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(c,"adf.mf.internal.dvt.BaseRenderer","adf.mf.internal.dvt.treeview.TreemapNodeHeaderRenderer");c.prototype.GetAttributesDefinition=function(a){a=c.superclass.GetAttributesDefinition.call(this,a);a.isolate={path:"isolate",type:b.TEXT};a.titleHalign={path:"labelHalign",type:b.TEXT};a.useNodeColor={path:"useNodeColor",type:b.TEXT};return a};c.prototype.ProcessAttributes=function(a,b,
d){a=d.dataItem;a.header={};if(a){var g=d._attributeChanges;d._attributeChanges=null;c.superclass.ProcessAttributes.call(this,a.header,b,d);d._attributeChanges=g}return!0}})();
(function(){var b=adf.mf.internal.dvt.AttributeProcessor,c=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(c,"adf.mf.internal.dvt.treeview.BaseTreeviewNodeRenderer","adf.mf.internal.dvt.treeview.TreemapNodeRenderer");c.prototype.GetAttributesDefinition=function(a){a=c.superclass.GetAttributesDefinition.call(this,a);a.labelValign={path:"labelValign",type:b.TEXT};a.groupLabelDisplay={path:"groupLabelDisplay",type:b.TEXT};return a};c.prototype.GetChildRenderers=function(a){void 0===this._renderers&&
(this._renderers={treemapNodeHeader:{renderer:new adf.mf.internal.dvt.treeview.TreemapNodeHeaderRenderer}});return this._renderers};c.prototype.ProcessChildren=function(a,b,d){if(!b.isAttributeDefined("rendered")||!adf.mf.api.amx.isValueFalse(b.getAttribute("rendered")))return c.superclass.ProcessChildren.call(this,a,b,d)}})();
(function(){var b=adf.mf.internal.dvt.treeview.TreeviewUtils,c=adf.mf.internal.dvt.AttributeProcessor,a=adf.mf.internal.dvt.StyleProcessor,e=function(){};adf.mf.internal.dvt.DvtmObject.createSubclass(e,"adf.mf.internal.dvt.treeview.BaseTreeviewRenderer","adf.mf.internal.dvt.treeview.TreemapRenderer");e.prototype.GetChartType=function(){return"treemap"};e.prototype.GetChildRenderers=function(a){if(void 0===this._renderers){var b=adf.mf.internal.dvt.common.legend.LegendRenderer;this._renderers={stamped:{treemapNode:{renderer:new adf.mf.internal.dvt.treeview.TreemapNodeRenderer,
order:1}},simple:{legend:{renderer:new b,maxOccurrences:1}}}}return a?this._renderers.stamped:this._renderers.simple};e.prototype.InitComponentOptions=function(a,b){e.superclass.InitComponentOptions.call(this,a,b);void 0===b.nodeDefaults.header&&(b.nodeDefaults.header={})};e.prototype.MergeComponentOptions=function(a,c){c=e.superclass.MergeComponentOptions.call(this,a,c);b.copyOptionIfDefined(c,"node/groupLabelDisplay","nodeDefaults/groupLabelDisplay");b.copyOptionIfDefined(c,"header/isolate","nodeDefaults/header/isolate");
b.copyOptionIfDefined(c,"header/titleHalign","nodeDefaults/header/labelHalign");b.copyOptionIfDefined(c,"header/useNodeColor","nodeDefaults/header/useNodeColor");return c};e.prototype.GetStyleComponentName=function(){return"treemap"};e.prototype.GetAttributesDefinition=function(a){var g=e.superclass.GetAttributesDefinition.call(this,a);a=this.GetDataObject(a);g.layout={path:"layout",type:c.TEXT,"default":b.getMergedStyleValue(a,"treemap/layout")};g.groupGaps={path:"groupGaps",type:c.TEXT,"default":b.getMergedStyleValue(a,
"treemap/groupGaps")};return g};e.prototype.GetStyleClassesDefinition=function(){var b=e.superclass.GetStyleClassesDefinition.call(this);b["dvtm-treemapNodeSelected"]=[{path:"nodeDefaults/selectedOuterColor",type:a.BORDER_COLOR_TOP},{path:"nodeDefaults/selectedInnerColor",type:a.BORDER_COLOR}];b["dvtm-treemapNodeHeader"]=[{path:"nodeDefaults/header/backgroundColor",type:a.BACKGROUND},{path:"nodeDefaults/header/borderColor",type:a.BORDER_COLOR}];b["dvtm-treemapNodeHeaderSelected"]=[{path:"nodeDefaults/header/selectedOuterColor",
type:a.BORDER_COLOR_TOP},{path:"nodeDefaults/header/selectedInnerColor",type:a.BORDER_COLOR}];b["dvtm-treemapNodeHeaderHover"]=[{path:"nodeDefaults/header/hoverOuterColor",type:a.BORDER_COLOR_TOP},{path:"nodeDefaults/header/hoverInnerColor",type:a.BORDER_COLOR}];b["dvtm-treemapNodeLabel"]=[{path:"nodeDefaults/labelStyle",type:a.CSS_TEXT}];b["dvtm-treemapNodeHeaderLabel"]=[{path:"nodeDefaults/header/labelStyle",type:a.CSS_TEXT}];b["dvtm-treemapAttributeTypeLabel"]=[{path:"styleDefaults/_attributeTypeTextStyle",
type:a.CSS_TEXT}];b["dvtm-treemapAttributeValueLabel"]=[{path:"styleDefaults/_attributeValueTextStyle",type:a.CSS_TEXT}];return b};e.prototype.GetCustomStyleProperty=function(a){return"CustomTreemapStyle"};e.prototype.GetDefaultStyles=function(a){return adf.mf.internal.dvt.treeview.DefaultTreemapStyle};e.prototype.GetStampedChildTagName=function(a){return"treemapNode"};e.prototype.GetToolkitClass=function(){return adf.mf.internal.dvt.util.JSONPath("adf.mf.internal.dvt.toolkit.Treemap")};e.prototype.GetResourceBundles=
function(){var a=adf.mf.internal.dvt.util.ResourceBundle,b=e.superclass.GetResourceBundles.call(this);b.push(a.createLocalizationBundle("DvtTreemapBundle"));return b};e.prototype.PreventsSwipe=function(a){return!1};adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_DVTM,"treemap",e)})();
(function(){adf.mf.internal.dvt.DvtmObject.createPackage("adf.mf.internal.dvt.treeview");adf.mf.internal.dvt.treeview.DefaultTreemapStyle={treemap:{},node:{},header:{},styleDefaults:{colors:"#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" "),patterns:"smallDiagonalRight smallChecker smallDiagonalLeft smallTriangle smallCrosshatch smallDiamond largeDiagonalRight largeChecker largeDiagonalLeft largeTriangle largeCrosshatch largeDiamond".split(" ")}};
adf.mf.internal.dvt.treeview.DefaultSunburstStyle={sunburst:{},node:{},styleDefaults:{colors:"#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" "),patterns:"smallDiagonalRight smallChecker smallDiagonalLeft smallTriangle smallCrosshatch smallDiamond largeDiagonalRight largeChecker largeDiagonalLeft largeTriangle largeCrosshatch largeDiamond".split(" ")}}})();