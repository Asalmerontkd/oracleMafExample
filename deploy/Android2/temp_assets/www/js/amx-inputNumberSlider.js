(function(){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"inputNumberSlider");b.prototype.getInputValueAttribute=function(){return"value"};b.prototype.attributeChangeResult=function(c,a,e){switch(a){case "label":return adf.mf.api.amx.isValueTrue(c.getAttribute("simple"))?adf.mf.api.amx.AmxNodeChangeResult.NONE:adf.mf.api.amx.AmxNodeChangeResult.REFRESH;case "value":return adf.mf.api.amx.AmxNodeChangeResult.REFRESH;default:return b.superclass.attributeChangeResult.call(this,
c,a,e)}};b.prototype.refresh=function(c,a,e){var d=c.getId();if(a.hasChanged("value")){var g=document.getElementById(d+"::valveBg"),h=document.getElementById(d+"::selected");null!=g&&null!=h&&(g.classList.add("amx-animating"),h.classList.add("amx-animating"),adf.shared.impl.animationUtils.addOneTimeTransitionEndWithFailsafe(g,function(){g.classList.remove("amx-animating");h.classList.remove("amx-animating")}));this._setValue(1*c.getAttribute("value"),c)}a.hasChanged("label")&&(document.getElementById(d+
"::lbl").textContent=amx.getTextValue(c.getAttribute("label")));b.superclass.refresh.call(this,c,a,e)};b.prototype.render=function(b,a){var e=amx.createField(b),d=e.fieldRoot,g=e.isDisable,h=adf.mf.api.amx.isValueTrue(b.getAttribute("readOnly")),k=adf.mf.api.amx.isValueTrue(b.getAttribute("showRequired"))||adf.mf.api.amx.isValueTrue(b.getAttribute("required")),m=document.createElement("div");m.className="container";e.fieldValue.appendChild(m);var n=document.createElement("div");n.setAttribute("id",
a+"::slider");n.className="slider";var t=document.createElement("div");t.className="amx-extendedTarget";n.appendChild(t);var u=document.createElement("div");u.setAttribute("id",a+"::valveBg");u.className="valve-background";n.appendChild(u);var v=document.createElement("div");v.setAttribute("id",a+"::valve");v.className="valve";t=document.createElement("div");t.className="amx-extendedTarget";v.appendChild(t);h||(v.setAttribute("role","slider"),v.setAttribute("aria-labelledby",a+"::lbl"),v.setAttribute("aria-orientation",
"horizontal"),v.setAttribute("aria-valuemin",b.getAttribute("minimum")),v.setAttribute("aria-valuemax",b.getAttribute("maximum")),v.setAttribute("aria-valuenow",b.getAttribute("value")),g&&v.setAttribute("aria-disabled","true"),k&&v.setAttribute("aria-required","true"));u.appendChild(v);var w=document.createElement("div");w.id=a+"::selected";w.className="selected";n.appendChild(w);h&&d.classList.add("amx-readOnly");m.appendChild(n);h=b.getAttribute("minimum");null==h||isNaN(h)?(n.setAttribute("data-min",
0),b._min=0):(n.setAttribute("data-min",h),b._min=1*h);(h=b.getAttribute("maximum"))&&!isNaN(h)?(n.setAttribute("data-max",h),b._max=1*h):(n.setAttribute("data-max",100),b._max=100);h=b.getAttribute("stepSize");null!=h?(n.setAttribute("step",h),b._step=h):(n.setAttribute("step",1),b._step=1);h=b.getAttribute("value");void 0!==h&&(n.setAttribute("data-value",h),b._currentValue=1*h);g&&(d.classList.add("amx-disabled"),h=document.createElement("div"),h.className="disable",e.fieldValue.appendChild(h));
adf.mf.api.amx.applyRequiredMarker(b,e);g||e.isReadOnly||(adf.mf.api.amx.addBubbleEventListener(n,"tap",function(a){a.stopPropagation();var d=a.pageX;if(void 0!=d&&0!=d)d=a.pageX;else if(a.touches&&0<a.touches.length)d=a.touches[0].pageX;else if(a.changedTouches&&0<a.changedTouches.length)d=a.changedTouches[0].pageX;else return;var e=adf.mf.internal.amx.getElementLeft(n),d=(d-e)/n.offsetWidth;"rtl"==document.documentElement.dir&&(d=1-d);d=d*(b._max-b._min)+b._min;b._oldValue=b._currentValue;a.data._setValue(d,
b);b.setAttributeResolvedValue("value",b._currentValue);a=new amx.ValueChangeEvent(b._oldValue,b._currentValue);adf.mf.api.amx.processAmxEvent(b,"valueChange","value",b._currentValue,a)},this),adf.mf.api.amx.addDragListener(u,{start:function(a,d){d.requestDragLock(this,!0,!0);a.preventDefault();a.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;b._oldValue=b._currentValue},drag:function(a,d){a.preventDefault();a.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;var e="rtl"==document.documentElement.dir,
g=parseInt(e?u.style.right:u.style.left,10),h=u.offsetWidth/2,g=g+(e?-d.deltaPageX:d.deltaPageX),k=null;g<-h?(g=-h,k=b._min):g>n.offsetWidth-h?(g=n.offsetWidth-h,k=b._max):(isNaN(k),k=(g+h)/n.offsetWidth*(b._max-b._min)+b._min,k=Math.round(k/b._step)*b._step);e?u.style.right=g+"px":u.style.left=g+"px";w.style.width=g+h+"px";n.setAttribute("data-value",k);b._currentValue!=k&&(b._currentValue=k)},end:function(a,d){a.preventDefault();a.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;a.data._setValue(b._currentValue,
b);b.setAttributeResolvedValue("value",b._currentValue);var e=new amx.ValueChangeEvent(b._oldValue,b._currentValue);adf.mf.api.amx.processAmxEvent(b,"valueChange","value",b._currentValue,e);b._oldValue=b._currentValue}},this));return d};b.prototype.__getTestJavaScriptURI=function(b){return"js/testing/amx-inputNumberSlider.js"};b.prototype._setValue=function(b,a){var e=a._min,d=a._max,g=a._step,h=a._currentValue,k=a.getId(),m=document.getElementById(k+"::slider"),n=document.getElementById(k+"::valveBg"),
t=0;null!=m&&(t=m.offsetWidth);isNaN(b)&&(b=e);b=Math.round(b/g)*g;b<=e&&(b=e);b>=d&&(b=d);g=n.offsetWidth/2;e=(b-e)/(d-e)*t;null!=m&&("rtl"==document.documentElement.dir?n.style.right=e-g+"px":n.style.left=e-g+"px",document.getElementById(k+"::selected").style.width=e+"px",m.setAttribute("data-value",b));h!=b&&(a._currentValue=b,h=document.getElementById(k+"::valve"),null!=h&&h.setAttribute("aria-valuenow",b))};b.prototype.init=function(b,a){var e=a.getId(),d=document.getElementById(e+"::slider");
null!=d&&this._setValue(1*d.getAttribute("data-value"),a);e={typeHandler:this,amxNode:a,amxNodeId:e};a.setVolatileState({resizeData:e});adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,e);adf.mf.api.amx.addBubbleEventListener(b,"resize",this._handleResize,e)};b.prototype.preDestroy=function(b,a){var e=a.getVolatileState();e&&(e=e.resizeData)&&adf.mf.api.amx.removeBubbleEventListener(window,"resize",this._handleResize,e)};b.prototype._handleResize=function(b){b=b.data;var a=
b.typeHandler,e=b.amxNode,d=b.amxNodeId,g=document.getElementById(d+"::slider");document.getElementById(d+"::valveBg");adf.mf.internal.amx.isAncestor(document.body,g)?a._setValue(1*g.getAttribute("data-value"),e):adf.mf.api.amx.removeBubbleEventListener(window,"resize",a._handleResize,b)}})();