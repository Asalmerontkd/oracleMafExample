(function(){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem");b.prototype.render=function(a){var b=document.createElement("div");b.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));a=a.renderDescendants();for(var c=0,g=a.length;c<g;++c)b.appendChild(a[c]);b.classList.add("current");return b};b.prototype._ensureValidString=function(a,b){return null==a?b:a};var c=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"panelSplitter");c.prototype.createChildrenNodes=function(a){var b=a.getTag();if(void 0===a.getAttribute("selectedItem")&&b.isAttributeElBound("selectedItem"))return a.setState(adf.mf.api.amx.AmxNodeStates.INITIAL),!0;var c=this._getSelectedTag(a),g=null==c?null:c.getAttribute("id");this._setVolatileStateProperty(a,"resolvedSelectedItemId",g);null!=c&&a.addChild(c.buildAmxNode(a,null));b=b.getChildFacetTag("navigator");if(null!=b)for(b=b.getChildrenUITags(),i=0,size=b.length;i<size;++i)a.addChild(b[i].buildAmxNode(a,
null),"navigator");return!0};c.prototype.attributeChangeResult=function(a,b,d){switch(b){case "selectedItem":return b=a.getVolatileState().resolvedSelectedItemId,a.getAttribute("selectedItem")!=b?(b=a.getChildren(),0<b.length&&a.removeChild(b[0]),b=this._getSelectedTag(a),a.addChild(b.buildAmxNode(a,null)),this._setVolatileStateProperty(a,"resolvedSelectedItemId",b.getAttribute("id")),adf.mf.api.amx.AmxNodeChangeResult.REFRESH):adf.mf.api.amx.AmxNodeChangeResult.NONE;default:return c.superclass.attributeChangeResult.call(this,
a,b,d)}};c.prototype.render=function(a){try{var b=this._getOrientation(),c=this._getPosition(a),g=document.createElement("div");g.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));g.setAttribute("data-orientation",b);var h=document.createElement("div");h.className="amx-panelSplitter_inner";g.appendChild(h);var k=document.createElement("div");k.className="amx-panelSplitter_contentContainer";adf.mf.api.amx.enableScrolling(k);k.setAttribute("role","contentinfo");var m=document.createElement("div");
m.className="amx-panelSplitter_items";k.appendChild(m);0<a.getRenderedChildren("navigator").length?(b="landscape"==b,this._createNavigation(b,a,h,g,c),b?(k.classList.add("amx-landscape"),"rtl"==document.documentElement.dir?k.style.right=c.landscape:k.style.left=c.landscape):k.classList.add("amx-portrait")):k.classList.add("amx-noNavigation");h.appendChild(k);var n=a.getRenderedChildren(),t=0<n.length?n[0]:null;if(null!=t){var u=t.render();null!=u&&(u.classList.add("current"),m.appendChild(u))}return g}catch(v){console.error(v)}};
c.prototype.postDisplay=function(a,b){try{var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),g=c[0],h=c[1],k=c[2],m=b.getClientState();null!=m&&(this._restoreScrollPositions(g,m.navLandscape),this._restoreScrollPositions(h,m.navPortrait),this._restoreScrollPositions(k,m.content));0<b.getChildren("navigator").length&&(c={rootElement:a,peer:this,amxNode:b},this._setVolatileStateProperty(b,"resizeData",
c),adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,c),adf.mf.api.amx.addBubbleEventListener(a,"resize",this._handleResize,c))}catch(n){console.error(n)}};c.prototype.refresh=function(a,b,d){try{c.superclass.refresh.call(this,a,b,d);var g=a.getRenderedChildren();if(0!=g.length){var h=document.getElementById(a.getId()),k=this._getChildrenByClassNames(h.firstChild,["amx-panelSplitter_contentContainer"])[0].firstChild;h.classList.contains("changingSelectedItem");h.classList.add("changingSelectedItem");
var m=this._getChildrenByClassNames(k,["current"])[0],n=g[0],t=n.render();if(null!=t){var u=null==t?null:t.getAttribute("id");this._setVolatileStateProperty(a,"resolvedSelectedItemId",u);t.classList.add("new");k.appendChild(t);1==t.childNodes.length&&adf.mf.api.amx.triggerBubbleEventListener(t.childNodes[0],"resize")}if("portrait"==h.getAttribute("data-orientation"))try{var v=this._getPosition(a);this._undiscloseNavPortrait(h,v)}catch(w){console.error(w)}var x=this._getChildrenByClassNames(k,["new"])[0],
z=this._getTransitionParams(a,n);"none"==z&&(z=null);null!=z?(null!=this._pageTransitionCancelFunction&&this._pageTransitionCancelFunction(),adf.mf.internal.amx.pauseUIChanges(),m.style.display="block",x.style.display="block",x.classList.remove("new"),x.classList.add("current"),a={parentFlipAllowed:!0,dimensionsFromParent:!0},a.finishedFunction=adf.shared.impl.animationUtils.getProxyFunction(this,this._animationFinished),a.callbackParams=[x,k,h],a.animationEnabled=!0,a.isRtl="rtl"==document.documentElement.dir,
a.fineLogger=function(a){adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"adf.mf.internal.amx.panelSplitter","refresh",a)},this._pageTransitionCancelFunction=adf.shared.impl.animationUtils.transition(z,m,x,a)):(x.classList.remove("new"),x.classList.add("current"),this._removeAllButThisOrTheOnlyPanelItem(x,k),h.classList.remove("changingSelectedItem"))}}catch(y){console.error(y)}};c.prototype.preDestroy=function(a,b){this._storeScrollPositions(a,b);var c=b.getVolatileState();c&&(c=c.resizeData)&&adf.mf.api.amx.removeBubbleEventListener(window,
"resize",this._handleResize,c)};c.prototype.__getTestJavaScriptURI=function(a){return"js/testing/amx-panelSplitter.js"};c.prototype._setVolatileStateProperty=function(a,b,c){var g=a.getVolatileState();void 0===g&&(g={},a.setVolatileState(g));g[b]=c};c.prototype._animationFinished=function(a){var b=a[2];this._removeAllButThisOrTheOnlyPanelItem(a[0],a[1]);b.classList.remove("changingSelectedItem");this._pageTransitionCancelFunction=null;adf.mf.internal.amx.resumeUIChanges()};c.prototype._getSelectedTag=
function(a){var b=a.getTag();a=a.getAttribute("selectedItem");for(var b=b.getChildren(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem"),c=null,g=0,h=b.length;g<h;++g){var k=b[g];if(null==a)return k;0==g&&(c=k);if(k.getAttribute("id")==a)return k}return c};c.prototype._removeAllButThisOrTheOnlyPanelItem=function(a,b){for(var c=b.childNodes,g=c.length;0<=g&&1<b.childNodes.length;--g){var h=c[g];h!=a&&adf.mf.api.amx.removeDomNode(h)}};c.prototype._getChildrenByClassNames=function(a,b){for(var c=a.childNodes,
g=c.length,h=b.length,k=[],m=0,n=0;n<g&&m<h;++n)for(var t=c[n],u=0;u<h;++u)if(t.classList.contains(b[u])){k[u]=t;++m;break}return k};c.prototype._storeScrollPositions=function(a,b){var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),g=c[1],h=c[2],c={navLandscape:this._getScrollPositions(c[0]),navPortrait:this._getScrollPositions(g),content:this._getScrollPositions(h)};b.setClientState(c)};c.prototype._getScrollPositions=
function(a){if(a){var b=a.scrollLeft;a=a.scrollTop;if(null!=b&&null!=a)return{scrollLeft:b,scrollTop:a}}return null};c.prototype._restoreScrollPositions=function(a,b){if(a&&b){var c=b.scrollLeft;null!=c&&(a.scrollLeft=c);c=b.scrollTop;null!=c&&(a.scrollTop=c)}};c.prototype._getTransitionParams=function(a,b){var c="none";null!=b.getAttribute("animation")?c=b.getAttribute("animation"):null!=a.getAttribute("animation")&&(c=a.getAttribute("animation"));return c};c.prototype._getAttribute=function(a,b){return null==
a||""==a||adf.mf.environment.profile.dtMode&&"#"==a.charAt(0)?b:a};c.prototype._getPosition=function(a){return{landscape:this._getAttribute(a.getAttribute("position"),"31.25%"),portrait:"41.67%"}};c.prototype._getOrientation=function(){return document.body.offsetWidth<document.body.offsetHeight?"portrait":"landscape"};c.prototype._createNavigation=function(a,b,c,g,h){var k=document.createElement("div");k.className="amx-panelSplitter_navLandscape";adf.mf.api.amx.enableScrolling(k);k.style.width=h.landscape;
k.setAttribute("role","navigation");var m=document.createElement("div");m.className="amx-panelSplitter_screenPortrait";m.style.display="none";var n=document.createElement("div");n.setAttribute("role","button");n.setAttribute("tabindex","0");n.setAttribute("aria-expanded","false");var t=adf.mf.resource.getInfoString("AMXInfoBundle","amx_panelSplitter_NAVIGATOR_TOGGLE_BUTTON"),t=this._ensureValidString(b.getAttribute("navigatorTitle"),t);n.setAttribute("title",t);n.className="amx-panelSplitter_button";
c.appendChild(n);c.appendChild(m);c.appendChild(k);g={rootElement:g,amxNode:b,peer:this};adf.mf.api.amx.addBubbleEventListener(m,"tap",this._handleNavPortraitToggle,g);adf.mf.api.amx.addBubbleEventListener(n,"tap",this._handleNavPortraitToggle,g);m=document.createElement("div");g=b.getId()+"::navp";m.setAttribute("id",g);n.setAttribute("aria-owns",g);m.setAttribute("aria-hidden","true");m.className="amx-panelSplitter_navPortrait";adf.mf.api.amx.enableScrolling(m);c.appendChild(m);m.style.width=h.portrait;
m.setAttribute("role","navigation");a?(m.style.opacity="0",m.style.display="none",m.style.zIndex="0",n.style.display="none"):(k.style.opacity="0",k.style.display="none","rtl"==document.documentElement.dir?m.style.right="-"+h.portrait:m.style.left="-"+h.portrait);a=a?k:m;b=b.getRenderedChildren("navigator");c=0;for(h=b.length;c<h;++c)(k=b[c].render())&&a.appendChild(k)};c.prototype._handleNavPortraitToggle=function(a){try{a.preventDefault();a.stopPropagation();var b=a.data.rootElement,c=a.data.peer,
g=c._getPosition(a.data.amxNode);c._getChildrenByClassNames(b.firstChild,["amx-panelSplitter_button"])[0].classList.contains("disclosed")?c._undiscloseNavPortrait(b,g):c._discloseNavPortrait(b,g)}catch(h){console.error(h)}};c.prototype._discloseNavPortrait=function(a,b){var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_screenPortrait","amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),g=c[0],h=c[1],k=c[2],c=c[3];g&&h&&k&&(g.style.display=
"block",h.classList.add("no-animate"),h.style.opacity="1",h.style.display="block",h.style.zIndex="1002",h.classList.remove("no-animate"),(g="rtl"==document.documentElement.dir)?h.style.right="0px":h.style.left="0px",g?k.style.right=b.portrait:k.style.left=b.portrait,k.classList.add("disclosed"),h.setAttribute("aria-hidden","false"),k.setAttribute("aria-expanded","true"),c.setAttribute("aria-hidden","true"))};c.prototype._undiscloseNavPortrait=function(a,b){var c=this._getChildrenByClassNames(a.firstChild,
["amx-panelSplitter_screenPortrait","amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),g=c[0],h=c[1],k=c[2],c=c[3];g&&h&&k&&(g.style.display="none",(g="rtl"==document.documentElement.dir)?h.style.right="-"+b.portrait:h.style.left="-"+b.portrait,g?k.style.right="0px":k.style.left="0px",k.classList.remove("disclosed"),h.setAttribute("aria-hidden","true"),k.setAttribute("aria-expanded","false"),c.setAttribute("aria-hidden","false"))};c.prototype._ensureValidString=
function(a,b){return null==a?b:a};c.prototype._handleResize=function(a){var b=a.data.rootElement,c=a.data.amxNode,g=a.data.peer,h=b.firstChild;if(null==h)adf.mf.api.amx.removeBubbleEventListener(window,"resize",g._handleResize,a.data);else{var k=g._getChildrenByClassNames(h,["amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_screenPortrait","amx-panelSplitter_navLandscape","amx-panelSplitter_contentContainer"]);a=k[0];var h=k[1],m=k[2],n=k[3],k=k[4],t=g._getOrientation(),
c=g._getPosition(c),g="rtl"==document.documentElement.dir;if(a&&h&&m&&n&&"portrait"==b.getAttribute("data-orientation")&&"landscape"==t){if(document.activeElement==document.body||document.activeElement==h||!h.classList.contains("disclosed")){a.classList.add("no-animate");g?a.style.right="-"+c.portrait:a.style.left="-"+c.portrait;a.style.opacity="0";a.style.display="none";a.style.zIndex="0";a.classList.remove("no-animate");h.classList.add("no-animate");g?h.style.right="0px":h.style.left="0px";h.style.display=
"none";h.classList.remove("no-animate");h.classList.remove("disclosed");for(m.style.display="none";0<a.childNodes.length;)n.appendChild(a.childNodes[0]);n.style.opacity="1";n.style.display="block";g?k.style.right=c.landscape:k.style.left=c.landscape;b.setAttribute("data-orientation","landscape");k.classList.remove("amx-portrait");k.classList.add("amx-landscape");k.setAttribute("aria-hidden","false")}}else if("landscape"==b.getAttribute("data-orientation")&&"portrait"==t){g?a.style.right="-"+c.portrait:
a.style.left="-"+c.portrait;a.style.zIndex="1002";g?h.style.right="0px":h.style.left="0px";n.style.opacity="0";n.style.display="none";h.style.display="block";for(g?k.style.right="":k.style.left="";0<n.childNodes.length;)a.appendChild(n.childNodes[0]);b.setAttribute("data-orientation","portrait");k.classList.remove("amx-landscape");k.classList.add("amx-portrait");a.setAttribute("aria-hidden","true");h.setAttribute("aria-expanded","false");k.setAttribute("aria-hidden","false")}}}})();