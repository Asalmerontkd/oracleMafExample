window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.NavigationHandlerImpl=b;adfc.internal.navigationListeners=[];b.getInitialViewId=function(c,a,e,d){adfc.internal.XmlUtil.isTaskFlowDocument(function(g){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("isTaskFlow\x3d"+g);if(g){g=adfc.internal.TaskFlowId.parse(c);var h=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().getInstanceId(),k=new adfc.internal.RoutingState(h,null,null,null);k.setRoutingSuccessCallback(e);k.setRoutingFailedCallback(d);
adfc.internal.TaskFlowCallActivityLogic.invokeTaskFlow(g,a,null,k,function(a){k.setRoutingSuccessCallback(function(a){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: routing completed in getInitialViewId.");var c=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack();0<c.getViewHistoryLength()&&c.peekViewHistory().setBackNavigationValid(!1);adfc.internal.LogUtil.isFine()&&(adfc.internal.LogUtil.fine("ADFc: getInitialViewId calling successCallback."),"undefined"===typeof e&&
adfc.internal.LogUtil.fine("ADFc: successCallback is undefined!!!"));e(a)});adfc.internal.ControlFlowEngine.doRouting(a)},d)}else{var m=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack();b.getUnboundedFlowViewActivity(function(a){if(null!=a){var b=a.getVldDocumentPath();a=a.getActivityId().getLogicalViewId();adfc.internal.LogUtil.info("displaying initial unbounded view activity, page\x3d"+b);var d=new adfc.NavigationResult(!0,!1,a,b,"",!1,!0);m.pushViewHistory(a,b,adfc.internal.ControlFlowCase.DEFAULT_TRANSITION);
e(d)}else adfc.internal.LogUtil.info("displaying initial AMX page, page\x3d"+c),b=new adfc.NavigationResult(!0,!1,c,c,"",!1,!0),m.pushViewHistory(c,c,adfc.internal.ControlFlowCase.DEFAULT_TRANSITION),e(b)},c)}},adfc.Util.addFeatureRootPrefix(c))};b.getUnboundedFlowViewActivity=function(c,a){adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().getTaskFlowDefinition(function(b){if(null==b||null!=b.getTaskFlowId())throw adfc.internal.LogUtil.showAlert("unbounded task flow is not current"),
Error("unbounded task flow is not current");var d=null,g=a;null!=g&&0<g.length&&"/"!=g.charAt(0)&&(g="/"+g);b=b.getActivities();for(var h in b){var k=b[h];if(k.getActivityType()==adfc.internal.ActivityType.VIEW&&k.getVldDocumentPath()==g){d=k;break}}c(d)})};b.handleNavigation=function(c,a,e,d){var g=new adfc.NavigationEvent(c,null,adfc.NavigationEventType.START);b.notifyNavigationListeners(g);var g=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack(),h=g.getInstanceId();g.getTaskFlowDefinition(function(b){b=
b.getTaskFlowId();b=adfc.internal.ViewIdUtil.logicalViewIdToActivityId(b,c);b=new adfc.internal.RoutingState(h,c,b,a);b.setRoutingSuccessCallback(e);b.setRoutingFailedCallback(d);adfc.internal.ControlFlowEngine.doRouting(b)})};b.notifyNavigationListeners=function(c){for(var a=0;a<adfc.internal.navigationListeners.length;++a)try{adfc.internal.LogUtil.fine("ADFc: notifyNavigationListeners"),adfc.internal.navigationListeners[a](c)}catch(b){adf.mf.log.logInfoResource("ADFErrorBundle",adf.mf.log.level.SEVERE,
"NavigationHandlerImpl.notifyNavigationListeners","ERROR_IN_BULK_NOTIFICATION_CALLBACK"),adf.mf.log.Framework.logp(adf.mf.log.level.FINE,"NavigationHandlerImpl","notifyNavigationListeners",b)}}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});adfc.internal.ControlFlowCaseXmlParser={};
adfc.internal.ControlFlowCaseXmlParser.parse=function(b,c,a){var e=b=null,d=null,g=null;a=a.childNodes;for(var h=0;h<a.length;h++){var k=a.item(h),m=k.localName;m&&("from-outcome"==m?b=adfc.internal.XmlUtil.getNodeText(k):"if"==m?e=adfc.internal.XmlUtil.getNodeText(k):"to-activity-id"==m?(d=adfc.internal.XmlUtil.getNodeText(k),d=new adfc.internal.ActivityId(c,d)):"transition"==m&&(g=adfc.internal.XmlUtil.getNodeText(k)))}return new adfc.internal.ControlFlowCase(b,e,d,g)};window.adf||(window.adf={});
adf.FEATURE_ROOT=null;adf.AMX_DTMODE=!1;window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.UrlUtil=b;b.getEntryPointDocumentPath=function(c){var a=null;null!=c&&0<c.length&&(a=adfc.internal.UrlUtil.getUrlParamValue(c,"file"),null!=a&&(a=unescape(a)));return a};b.getAmxDtMode=function(c){var a=!1;null!=c&&0<c.length&&(c=adfc.internal.UrlUtil.getUrlParamValue(c,"amx_dtmode"),null!=c&&(c=unescape(c),a=adfc.internal.ElUtil.resultToBoolean(c)));return a};b.getFeatureRoot=function(c){var a=null;null!=c&&0<c.length&&(a=adfc.internal.UrlUtil.getUrlParamValue(c,
"featureRoot"),null!=a&&(a=unescape(a)));return a};b.getParamStartIndex=function(c,a){var b=c.indexOf("?"+a);0>b&&(b=c.indexOf(("\x26"+a).toString()));return b};b.getParamEndIndex=function(c,a){var b=c.indexOf("\x26",a);0>b&&(b=c.length);return b};b.getUrlParamValue=function(c,a){var b=null;if(null!=c&&null!=a){var d=adfc.internal.UrlUtil.getParamStartIndex(c,a);if(0<=d){var g=adfc.internal.UrlUtil.getParamEndIndex(c,d+1),d=c.substring(d,g),g=d.indexOf("\x3d");0<=g&&g<d.length&&(b=d.substring(g+1),
0==b.length&&(b=null))}}return b}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.TaskFlowCallActivityLogic=b;b.prototype.execute=function(c,a,e,d){adfc.internal.LogUtil.fine("TaskFlowCallActivityLogic.prototype.execute() entered");adfc.internal.LogUtil.perfLog("BEGIN: TaskFlowCallActivityLogic.execute");b.getTaskFlowId(a,function(g){b.invokeBeforeListener(a,function(){adfc.internal.MetadataService.getTaskFlowDefinition(function(h){null==h&&d(g);b.gatherInputParamerValues(a,function(b){adfc.internal.LogUtil.fine("TaskFlowCallActivityLogic.prototype.execute() invoking taskFlow: "+
g+" from activity : "+a.getActivityId());adfc.internal.TaskFlowCallActivityLogic.invokeTaskFlow(g,b,a,c,function(){c.setCurrentOutcome(null);c.setNextActivityId(h.getDefaultActivityId());adfc.internal.LogUtil.perfLog("END: TaskFlowCallActivityLogic.execute");e(c)},d)},d)},g)},d)},d)};b.invokeTaskFlow=function(c,a,b,d,g,h){adfc.internal.MetadataService.getTaskFlowDefinition(function(k){null==k&&h("ADFc: Failed to find task flow definition for ["+c+"]");var m=null,n=adfc.internal.AdfcContext.getControllerState();
n.peekTaskFlowStack().getInstanceId()==d.getStartingTaskFlowInstanceId()&&(m=d.getStartingActivityId());n.pushTaskFlow(k,b,m,function(){var c=function(){var a=function(){var a=k.getDefaultActivityId();d.setNextActivityId(a);d.setCurrentOutcome(null);g(d)},c=k.getInitializer();c&&null!=c?adfc.internal.ElUtil.invokeMethod(c,[],[],a,h):a()},b=[],e=k.getInputParameters();if(null!=e&&0<e.length){for(var w=0;w<e.length;w++){var m=e[w],n=m.getName();if(void 0!==a[n]){var y=a[n],m=m.getValueExpression();
if(null==m||""==m)m="#{pageFlowScope."+n+"}";b.push({name:m,value:y})}else if(m.isRequired())throw Error("ADFc: required task flow input parameter ["+n+"] not provided.");}adfc.internal.ElUtil.setValues(b,c,h)}else c()},function(){h("ADFc: Push of task flow failed for ["+c+"]")})},c)};b.getTaskFlowId=function(c,a,b){var d=null;c.isDynamic()?(c=c.getDynamicTaskFlowIdElExpression(),adfc.internal.LogUtil.fine("evaluating dynamic task flow call expression: "+c),adfc.internal.ElUtil.getValue(c,function(a,
c){d=adfc.internal.TaskFlowIdUtil.parseTaskFlowId(c[0].value)},b)):(c=c.getTaskFlowReference(),d=adfc.internal.TaskFlowIdUtil.parseTaskFlowId(c));null!=d?a(d):b()};b.invokeBeforeListener=function(c,a,b){(c=c.getBeforeListener())&&null!=c?(adfc.internal.LogUtil.fine("calling before-listener: "+c),adfc.internal.ElUtil.invokeMethod(c,[],[],a,b)):a()};b.gatherInputParamerValues=function(c,a,b){var d=[],g=[],h=function(d,h){for(var k={},m=0;m<h.length;m++)k[g[m]]=h[m].value;m=c.getInputParameterMapElExpression();
null!=m?(adfc.internal.LogUtil.fine("Evaluating input parameter map expression: "+m),adfc.internal.ElUtil.getValue(m,function(c,b){var d=b[0].value,e;for(e in d)adfc.internal.LogUtil.fine("adding input parameter from map: "+e+":"+d[e]),k[e]=d[e];a(k)},b)):a(k)},k=c.getInputParameters();if(0<k.length){for(var m=0;m<k.length;m++)d.push(k[m].getValueExpression()),g.push(k[m].getName());adfc.internal.LogUtil.fine("getting method call activity parameter values");adfc.internal.ElUtil.getValues(d,h,b)}else adfc.internal.LogUtil.fine("no method call activity parameters specified"),
h(d,d)};b.isDataControlContextIsolated=function(c,a){var b=!1,d=function(a,c){var d=c[0].value;adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: data control context expression '"+g+"' evaluated to '"+d+"'.");null!=d&&"isolated"==d.toLowerCase()&&(b=!0)},g=c.getDataControlContextType();null!=g&&(adfc.internal.LogUtil.fine("evaluating data control context expression: "+g),adfc.internal.ElUtil.getValue(g,d,a));return b}})();window.adfc||(window.adfc={});
adfc.internal||(adfc.internal={});(function(){function b(){}adfc.internal.ViewIdUtil=b;b.logicalViewIdToActivityId=function(c,a){var b=null;if(null!=a&&1<a.length){var d=null;if(null==c)d=a,"/"==d.charAt(0)&&(d=d.substring(1));else{var g=c.getLocalTaskFlowId();1==a.indexOf(g)&&(d=a.substring(g.length+2))}null!=d&&(b=new adfc.internal.ActivityId(c,d))}return b}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.ControlFlowEngine=b;b.BACK_NAV_OUTCOME="__back";b.BACK_NAV_OUTCOME_OLD="_BACK_BUTTON:";b.doRouting=function(c){if(!c.isRoutingComplete())b.getNextActivityId(c,function(a,d){null!=a?b.getActivity(function(e){if(e){var m=b.getActivityLogic(e);m?(d.setCurrentActivityId(a),d.setNextActivityId(null),b.executeActivity(e,m,c,b.doRouting,d.getRoutingFailedCallback())):(e="ADFc: failed to find activity logic implementation: "+e.getActivityType(),c.getRoutingFailedCallback()(e))}else e=
"ADFc: failed to find activity: "+a,c.getRoutingFailedCallback()(e)},a):(d.setRoutingComplete(!0),b.doRouting(d))});else if(c.isRoutingComplete()&&null==c.getNavigationResult()&&null==c.getNavigationResult()){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: constructing navigation result.");var a=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack();if(c.getBackNavigation()){var e=c.getStartingActivityId(),d=c.getCurrentActivityId();(e=null!=e&&e===d&&null==e.getTaskFlowId())&&
(e=null==a||1==a.getViewHistoryLength()&&!c.isBackNavTfPopped());if(e||!c.isBackNavTfPopped()&&!a.peekViewHistory().isBackNavigationValid()){if(adfc.internal.SystemUtil.hideLoadingIndicator(),e=a.peekViewHistory(),e=b.constructBackNavResult(e,e),b.notifyEndNavigationListeners(c.getStartingViewId(),e,c),!adfc.internal.SystemUtil.onBackUnhandled())throw adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: invalid back navigation detected, throwing an error."),Error("back navigation is not valid from the current view");
}else 1!=a.getViewHistoryLength()||c.isBackNavTfPopped()?(c.isBackNavTfPopped()?(adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: back navigation out of a task flow, flow already popped."),e=c.getBackNavTfLeftViewItem()):(adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: back navigation within a task flow."),e=a.popViewHistory()),d=a.peekViewHistory(),e=b.constructBackNavResult(e,d),c.setNavigationResult(e),b.notifyEndNavigationListeners(c.getStartingViewId(),e,c),
c.getRoutingSuccessCallback()(c.getNavigationResult())):(adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: back navigation out of a task flow, popping flow."),e=a.peekViewHistory(),c.setBackNavTfLeftViewItem(e),b.setCurrentRoutingState(c),adfc.internal.AdfcContext.getControllerState().popTaskFlow(function(){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: task flow pop completed.");var a=b.getCurrentRoutingState();b.clearCurrentRoutingState();a.setBackNavTfPopped(!0);
b.doRouting(a)},c.getRoutingFailedCallback()))}else adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: forward navigation."),b.constructForwardNavResult(function(d){c.setNavigationResult(d);c.isViewReached()&&c.isTaskFlowReturnExecuted()&&a.peekViewHistory().setBackNavigationValid(!1);b.notifyEndNavigationListeners(c.getStartingViewId(),c.getNavigationResult(),c);c.getRoutingSuccessCallback()(c.getNavigationResult())},c)}};b.constructBackNavResult=function(c,a){adfc.internal.LogUtil.isFine()&&
adfc.internal.LogUtil.fine("ADFc: constructing back navigation result.");var e=new adfc.NavigationResult(!1,!0,a.viewId,a.amxPage,c.transitionType,!1,c.itemId!=a.itemId);adfc.internal.ElUtil.setMfContextInstance(a,!1);b.logNavResult(e);return e};b.constructForwardNavResult=function(c,a){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: constructing forward navigation result.");var e=null,d=null,g=null,h=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack(),k=a.isViewReached(),
m=k;if(k){var e=a.getCurrentActivityId(),n=a.getStartingTaskFlowInstanceId(),t=h.getInstanceId();n==t&&(n=a.getStartingActivityId(),null!=e&&null!=n&&n.equals(e)?k=!1:null==e&&null==n&&(k=!1));m=k;g=a.getTransition()}else n=a.getLastReturnedFromTfEntry(),null!=n&&(e=n.getCallingViewActivityId(),m=!0);var u=null;if(null!=e){var d=e.getLogicalViewId(),v=e.getLocalActivityId();h.getTaskFlowDefinition(function(a){u=a.getActivities()[v].getVldDocumentPath();b._constructForwardNavResultPhase2(g,h,m,k,d,
u,e,c)})}else b._constructForwardNavResultPhase2(g,h,m,k,d,u,e,c)};b._constructForwardNavResultPhase2=function(c,a,e,d,g,h,k,m){null==c&&(c=adfc.internal.ControlFlowCase.DEFAULT_TRANSITION);d?a.pushViewHistory(g,h,c):null!=k&&adfc.internal.ElUtil.setMfContextInstance(a.peekViewHistory(),!1);c=new adfc.NavigationResult(d,!1,g,h,c,!1,e);b.logNavResult(c);m(c)};b.logNavResult=function(c){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: navigationResult: isDifferentViewId\x3d"+c.mDifferentViewId+
" isNewViewId\x3d"+c.mNewViewId+" isBackNav\x3d"+c.mBackNavigation+" viewId\x3d"+c.mViewId+" vdlDocPath\x3d"+c.mVdlDocumentPath+" transitionType\x3d"+c.mTransitionType+" featureExited\x3d"+c.mFeatureExited)};b.getNextActivityId=function(c,a){var e=c.getNextActivityId();if(e)a(e,c);else{var d=c.getCurrentOutcome();d==b.BACK_NAV_OUTCOME||d==b.BACK_NAV_OUTCOME_OLD?(c.setBackNavigation(!0),c.setRoutingComplete(!0),a(e,c)):(c.setFindCfCaseCallback(function(c){var b=c.getControlFlowCase();b&&(e=b.getTargetActivityId(),
c.setTransition(b.getTransition()));a(e,c)}),c.resetCfRuleEvaluation(),b.findControlFlowCase(c))}};b.findControlFlowCase=function(c){adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().getTaskFlowDefinition(function(a){var e=c.getTriedCfRules(),d=c.getCurrentActivityId(),g=b.getBestControlFlowRule(a,d,e);if(null!=g){var h=g.getControlFlowCase(c.getCurrentOutcome());null!=h?(a=h.getGuardCondition(),b.evaluateGuardCondition(a,c,function(a,d){a?(c.setControlFlowCase(h),c.getFindCfCaseCallback()(c)):
(e[g.getFromActivityId().getLocalActivityId()]=!0,b.findControlFlowCase(c))})):(e[g.getFromActivityId().getLocalActivityId()]=!0,b.findControlFlowCase(c))}else c.getFindCfCaseCallback()(c)})};b.getBestControlFlowRule=function(c,a,b){var d=null;c=c.getControlFlowRules();if(null!=a){var g=a.getLocalActivityId();b[g]||(d=c[g])}if(null==d)if(null==a)b["*"]||(d=c["*"]);else for(a=a.getLocalActivityId(),g=a.length-1;0<=g;g--){var h=a.substring(0,g)+"*";if(!b[h]&&(d=c[h],null!=d))break}return d};b.evaluateGuardCondition=
function(c,a,b){null!=c?(adfc.internal.LogUtil.fine("evaluateing control flow guard condition: "+c),adfc.internal.ElUtil.getValue(c,function(c,g){var h=g[0].value,h=adfc.internal.ElUtil.resultToBoolean(h);b(h,a)},function(c,b){var e="ADFc: evaluation of control flow guard condition failed: "+c[0];a.getRoutingFailedCallback()(e)})):b(!0,a)};b.getActivity=function(c,a){var b=null;adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().getTaskFlowDefinition(function(d){if(d){var g=d.getActivities();
if(g)d=a.getLocalActivityId(),b=g[d];else throw Error("ADFc: task flow "+d.getTaskFlowId()+" does not have any activities");}else throw Error("ADFc: failed to find task flow definition");c(b)})};b.getActivityLogic=function(c){c=c.getActivityType();return adfc.internal.ActivityLogic.getImplementation(c)};b.executeActivity=function(c,a,e,d,g){var h=adf.mf.internal.perf.startMonitorCall("ExecuteActivity",adf.mf.log.level.FINE,"ControlFlowEngine.executeActivity",c.getActivityId().toString());adfc.internal.LogUtil.isFine()&&
adfc.internal.LogUtil.fine("ADFc: executing ControlFlowEngine.executeActivity(), activityId\x3d"+c.getActivityId());e.isRoutingComplete()&&adfc.internal.LogUtil.severe("ADFc: attempting to execute activity when routing is already complete");var k=!1,m=null,n=null,t=function(){a.execute(e,c,function(a){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: execution of "+c.getActivityId()+" succeeded.");var b=function(){h.stop();d(a)};k?adfc.internal.ElUtil.resetBindingContainerPath(n,b,
function(){h.stop();g("failed to restore binding container following activity execute")}):b()},function(a){adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: execution of "+c.getActivityId()+" failed.");var b=function(){g(a)};k&&adfc.internal.ElUtil.setBindingContainerPath(m,!1,b,b)})},u=function(){g("failed to set the binding container path to: "+n)},v=function(a,d){m=d;n=b.getActivityBindingPath(c);null!=m||null!=n?(k=!0,e.setBindingContainerChanged(!0),adfc.internal.ElUtil.setBindingContainerPath(n,
!1,t,u)):t()},w=function(){g("Failed to get the current binding container path")};c.getActivityType()!=adfc.internal.ActivityType.VIEW?adfc.internal.ElUtil.getCurrentBindingContainerPath(v,w):t()};b.getActivityBindingPath=function(c){var a=null,b=c.getActivityType();if(b==adfc.internal.ActivityType.METHOD_CALL||b==adfc.internal.ActivityType.ROUTER||b==adfc.internal.ActivityType.TASK_FLOW_CALL||b==adfc.internal.ActivityType.TASK_FLOW_RETURN)a=c.getActivityId().toString();return a};b.setCurrentRoutingState=
function(c){adfc.internal.ControlFlowEngine.currentRoutingState=c};b.getCurrentRoutingState=function(){var c=null;"undefined"!==typeof adfc.internal.ControlFlowEngine.currentRoutingState&&(c=adfc.internal.ControlFlowEngine.currentRoutingState);return c};b.clearCurrentRoutingState=function(){"undefined"!==typeof adfc.internal.ControlFlowEngine.currentRoutingState&&(adfc.internal.ControlFlowEngine.currentRoutingState=null)};b.notifyEndNavigationListeners=function(c,a,b){var d=function(){var b=new adfc.NavigationEvent(c,
a,adfc.NavigationEventType.END);adfc.internal.NavigationHandlerImpl.notifyNavigationListeners(b)};null!=a&&!a.isDifferentViewId()&&b.isBindingContainerChanged()?(b=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().peekViewHistory().amxPage,adfc.internal.ElUtil.setBindingContainerPath(b,!1,d,d)):d()}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.IdUtil=b;adfc.internal.IdUtil.seqNum=0;b.uuid=function(){var c=!0;return c="undefined"!==typeof amx?"undefined"!==typeof amx.uuid?amx.uuid():adfc.internal.IdUtil.seqNum++:adfc.internal.IdUtil.seqNum++}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a,b){this.itemId=adfc.internal.IdUtil.uuid();this.viewId=c;this.amxPage=a;this.transitionType=b;this.mBackNavIsValid=!0}adfc.internal.ViewHistoryItem=b;b.prototype.isBackNavigationValid=function(){return this.mBackNavIsValid};b.prototype.setBackNavigationValid=function(c){this.mBackNavIsValid=c}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.TaskFlowReturnActivityLogic=b;b.prototype.execute=function(c,a,e,d){var g=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack();g.getTaskFlowDefinition(function(h){var k=g.getTaskFlowCallActivity();k&&null!=k?b.invokeFinalizer(h,function(){b.gatherReturnValues(h,function(g){adfc.internal.AdfcContext.getControllerState().popTaskFlow(function(h){c.setLastReturnedFromTfEntry(h);b.storeReturnValues(k,g,function(){b.invokeAfterListener(k,function(){var b=
a.getOutcomeName();c.setCurrentOutcome(b);c.setCurrentActivityId(k.getActivityId());c.setNextActivityId(null);c.setTaskFlowReturnExecuted(!0);c.setRoutingComplete(!1);e(c)},d)},d)},d)},d)},d):(c.setTaskFlowReturnExecuted(!0),c.setRoutingComplete(!0),e(c))})};b.invokeAfterListener=function(c,a,b){(c=c.getAfterListener())&&null!=c?(adfc.internal.LogUtil.fine("calling after-listener: "+c),adfc.internal.ElUtil.invokeMethod(c,[],[],a,b)):a()};b.invokeFinalizer=function(c,a,b){(c=c.getFinalizer())&&null!=
c?(adfc.internal.LogUtil.fine("calling finalzer: "+c),adfc.internal.ElUtil.invokeMethod(c,[],[],a,b)):a()};b.gatherReturnValues=function(c,a,b){var d=[],g=[],h=function(c,b){for(var d={},e=0;e<b.length;e++)d[g[e]]=b[e].value;a(d)};c=c.getReturnValues();if(0<c.length){for(var k=0;k<c.length;k++)d.push(c[k].getValueExpression()),g.push(c[k].getName());adfc.internal.LogUtil.fine("getting task flow return values");adfc.internal.ElUtil.getValues(d,h,b)}else adfc.internal.LogUtil.fine("no task flow return values defined"),
h(d,d)};b.storeReturnValues=function(c,a,b,d){var g=[];c=c.getReturnValues();if(null!=c&&0<c.length){for(var h=0;h<c.length;h++){var k=c[h],m=k.getName();if(a[m]){var n=a[m],k=k.getValueExpression();if(null==k||""==k)k="#{pageFlowScope."+m+"}";g[h]={name:k,value:n}}}adfc.internal.ElUtil.setValues(g,b,d)}else b()}})();window.adfc||(window.adfc={});
(function(){function b(){}adfc.MetadataService=b;b.reloadTaskFlowDefinition=function(c,a,b){if(3==arguments.length)if(c&&c.trim().length){var d=adfc.internal.TaskFlowIdUtil.parseTaskFlowId(c);null!=d?adfc.internal.MetadataService.getTaskFlowDefinition(function(c){c&&null!=c?a():b()},d,!1):b()}else adfc.internal.MetadataService.loadBootstrapMetadata(a,b,!1);else a=arguments[0],b=arguments[1],adfc.internal.MetadataService.loadBootstrapMetadata(a,b,!1)}})();window.adfc||(window.adfc={});
(function(){function b(){}adfc.NavigationHandler=b;b.getInitialViewId=function(c,a,b){var d=adf.mf.internal.perf.startMonitorOperation("getInitialViewId",adf.mf.log.level.FINE,"NavigationHandler.getInitialViewId");adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: executing NavigationHandler.getInitialViewId() called.");var g=c.entryPoint,h=c.inputParams;"undefined"===typeof h&&(h={});adfc.internal.NavigationHandlerImpl.getInitialViewId(g,h,function(b){d.stop();a(c,b)},function(a){d.stop();
b(c,a)})};b.handleNavigation=function(c,a,b){var d=adf.mf.internal.perf.startMonitorOperation("Navigation",adf.mf.log.level.FINE,"NavigationHandler.handleNavigation",c.outcome),g=c.currentViewId,h=c.outcome;adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: executing NavigationHandler.handleNavigation(), currentViewId\x3d"+g+", outcome\x3d"+h);adfc.internal.NavigationHandlerImpl.handleNavigation(g,h,function(b){d.stop();if(adfc.internal.LogUtil.isFine()){var e=b.isNewViewId(),g="ADFc: executing NavigationHandler.handleNavigation() completed, isNewView\x3d"+
e;e&&(e=b.getVdlDocumentPath(),g+=", page\x3d"+e);adfc.internal.LogUtil.fine(g)}a(c,b)},function(a){d.stop();adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: executing NavigationHandler.handleNavigation() failed");b(c,a)})};b.addNavigationListener=function(c){for(var a=0;a<adfc.internal.navigationListeners.length;++a)if(adfc.internal.navigationListeners[a]==c)return;adfc.internal.LogUtil.fine("ADFc: addNavigationListener");adfc.internal.navigationListeners.push(c)};b.removeNavigationListener=
function(c){for(var a=[],b=0;b<adfc.internal.navigationListeners.length;++b)adfc.internal.navigationListeners[b]!=c&&(adfc.internal.LogUtil.fine("ADFc: removeNavigationListener"),a.push(adfc.internal.navigationListeners[b]));adfc.internal.navigationListeners=a}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});adfc.internal.TaskFlowInputParameterXmlParser={};
adfc.internal.TaskFlowInputParameterXmlParser.parse=function(b,c,a){var e=c=b=null,d=!1;a=a.childNodes;for(var g=0;g<a.length;g++){var h=a.item(g),k=h.localName;k&&("name"==k?b=adfc.internal.XmlUtil.getNodeText(h):"value"==k?c=adfc.internal.XmlUtil.getNodeText(h):"class"==k?e=adfc.internal.XmlUtil.getNodeText(h):"required"==k&&(d=!0))}return new adfc.internal.TaskFlowInputParameter(b,c,e,d)};window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.MetadataService=b;var c=new adf.mf.internal.BaseLRUCache(5);b.getTaskFlowDefinition=function(a,e,d){var g=e.getDocumentUri();if(null==g)a(null);else{void 0===d&&(d=!0);var h=b.constructCacheKey(g,e);if(d&&(d=c.get(h))&&null!=d){a(d);return}var k=adfc.Util.addFeatureRootPrefix(g);adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("attempting to load task flow file: "+k);adfc.internal.XmlUtil.loadXmlFile(k,function(b){if(null!=b){var d=b.getElementsByTagName("task-flow-definition");
adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("number of task-flow-definition elements in the file \x3d "+d.length);for(var t=null,u=0;u<d.length;u++){var v=d.item(u);if((v=adfc.internal.TaskFlowDefinitionXmlParser.parse(g,b,v))&&v.getTaskFlowId().equals(e)){t=v;c.put(h,t);break}}a(t)}else adfc.internal.LogUtil.severe("failed to load task flow file "+k),a(null)})}};b.loadBootstrapMetadata=function(a,e,d){adfc.internal.LogUtil.fine("loading bootstrap metadata ...");var g=adfc.Util.addFeatureRootPrefix("adfc-mobile-config.xml"),
h=b.constructCacheKey(g);void 0===d&&(d=!0);if(d){var k=c.get(h);if(k&&null!=k){a(k);return}}adfc.internal.XmlUtil.loadXmlFile(g,function(b){if(null!=b){var g=b.getElementsByTagName("adfc-mobile-config");if(null!=g&&1==g.length){var k=adfc.internal.TaskFlowDefinitionXmlParser.parse(null,b,g[0]);if(null!=k)b=function(){adfc.internal.LogUtil.fine("bootstrap metadata load complete.");a(k)},c.put(h,k),d?adfc.internal.AdfcContext.getControllerState().pushTaskFlow(k,null,null,b,e):b();else throw adfc.internal.LogUtil.severe("failed to parse the adfc-mobile-config element in bootstrap metadata document"),
Error("failed to parse the adfc-mobile-config element in bootstrap metadata document");}else throw adfc.internal.LogUtil.severe("failed to find adfc-mobile-config element in bootstrap metadata document"),Error("failed to find adfc-mobile-config element in bootstrap metadata document");}else throw adfc.internal.LogUtil.severe("bootstrap metadata document adfc-mobile-config.xml is null"),Error("bootstrap metadata document adfc-mobile-config.xml is null");})};b.constructCacheKey=function(a,c){var b=
a;void 0!==c&&(b=c.toString());return b}})();window.adf||(window.adf={});adf.mf=adf.mf||{};adf.mf.internal=adf.mf.internal||{};adf.mf.internal.controller=adf.mf.internal.controller||{};(function(){function b(){}adf.mf.internal.controller.ViewHistory=b;b.peek=function(){return adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().peekViewHistory()}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a,b,d){this.mName=c;this.mValueExpression=a;this.mType=b;this.mRequired=d}adfc.internal.TaskFlowInputParameter=b;b.prototype.getName=function(){return this.mName};b.prototype.getValueExpression=function(){return this.mValueExpression};b.prototype.getType=function(){return this.mType};b.prototype.isRequired=function(){return this.mRequired}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a){this.mDocumentUri=c;this.mLocalTaskFlowId=a}adfc.internal.TaskFlowId=b;b.prototype.getDocumentUri=function(){return this.mDocumentUri};b.prototype.getLocalTaskFlowId=function(){return this.mLocalTaskFlowId};b.prototype.toString=function(){return this.mDocumentUri+"#"+this.mLocalTaskFlowId};b.prototype.equals=function(c){var a=!1;c&&(a=c.getDocumentUri(),c=c.getLocalTaskFlowId(),a=this.mDocumentUri==a&&this.mLocalTaskFlowId==c);return a};b.parse=function(c){var a=null;0==
c.indexOf("/")&&(c=c.substring(1));var e=c.indexOf("#");0<e&&(a=c.substring(0,e),c=c.substring(e+1),a=new b(a,c));return a}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.ViewActivityLogic=b;b.prototype.execute=function(c,a,b,d){adfc.internal.LogUtil.perfLog("BEGIN: ViewActivityLogic.execute");c.setViewReached(!0);c.setRoutingComplete(!0);adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack().setViewReached(!0);adfc.internal.LogUtil.perfLog("END: ViewActivityLogic.execute");b(c)}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a){this.mFromActivityId=c;this.mControlFlowCases=a}adfc.internal.ControlFlowRule=b;b.prototype.getFromActivityId=function(){return this.mFromActivityId};b.prototype.getControlFlowCases=function(){return this.mControlFlowCases};b.prototype.addControlFlowCases=function(c){if(null!=c)for(var a in c){var b=c[a],d=b.getOutcome(),d=this.getControlFlowCaseIndex(d);0<=d?this.mControlFlowCases[d]=b:this.mControlFlowCases.push(b)}};b.prototype.getControlFlowCase=function(c){var a=null;
c=this.getControlFlowCaseIndex(c);0<=c&&(a=this.mControlFlowCases[c]);return a};b.prototype.getControlFlowCaseIndex=function(c){var a=-1,b;for(b in this.mControlFlowCases){var d=this.mControlFlowCases[b].getOutcome();if(d==c){a=b;break}null==d&&(a=b)}return a}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a){this.mActivityId=c;this.mOutcomeName=a}adfc.internal.TaskFlowReturnActivity=b;b.prototype.getActivityType=function(){return adfc.internal.ActivityType.TASK_FLOW_RETURN};b.prototype.getActivityId=function(){return this.mActivityId};b.prototype.getOutcomeName=function(){return this.mOutcomeName}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a,b,d){this.mBeanName=c;this.mBeanClass=a;this.mBeanScope=b;this.mManagedProperties=d}adfc.internal.ManagedBeanDefinition=b;b.prototype.getBeanName=function(){return this.mBeanName};b.prototype.getBeanClass=function(){return this.mBeanClass};b.prototype.getBeanScope=function(){return this.mBeanScope};b.prototype.getManagedProperties=function(){return this.mManagedProperties};b.APPLICATION="application";b.PAGE_FLOW="pageFlow";b.VIEW="view"})();window.adfc||(window.adfc={});
adfc.internal||(adfc.internal={});(function(){function b(c,a){this.mActivityId=c;this.mVdlDocumentPath=a}adfc.internal.ViewActivity=b;b.prototype.getActivityType=function(){return adfc.internal.ActivityType.VIEW};b.prototype.getActivityId=function(){return this.mActivityId};b.prototype.getVldDocumentPath=function(){return this.mVdlDocumentPath}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a){this.mExpression=c;this.mOutcome=a}adfc.internal.RouterCase=b;b.prototype.getExpression=function(){return this.mExpression};b.prototype.getOutcome=function(){return this.mOutcome}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a,b){this.mName=c;this.mType=a;this.mValue=b}adfc.internal.ManagedPropertyDefinition=b;b.prototype.getName=function(){return this.mName};b.prototype.getType=function(){return this.mType};b.prototype.getValue=function(){return this.mValue}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.ActivityLogic=b;b.sImplementations={};b.getImplementation=function(c){var a=this.sImplementations[c];a||(c==adfc.internal.ActivityType.VIEW?(a=new adfc.internal.ViewActivityLogic,b.sImplementations[adfc.internal.ActivityType.VIEW]=a):c==adfc.internal.ActivityType.ROUTER?(a=new adfc.internal.RouterActivityLogic,b.sImplementations[adfc.internal.ActivityType.ROUTER]=a):c==adfc.internal.ActivityType.METHOD_CALL?(a=new adfc.internal.MethodCallActivityLogic,b.sImplementations[adfc.internal.ActivityType.METHOD_CALL]=
a):c==adfc.internal.ActivityType.TASK_FLOW_CALL?(a=new adfc.internal.TaskFlowCallActivityLogic,b.sImplementations[adfc.internal.ActivityType.TASK_FLOW_CALL]=a):c==adfc.internal.ActivityType.TASK_FLOW_RETURN&&(a=new adfc.internal.TaskFlowReturnActivityLogic,b.sImplementations[adfc.internal.ActivityType.TASK_FLOW_RETURN]=a));return a}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.ElUtil=b;b.TASK_FLOW_UTILITIES="oracle.adfmf.framework.TaskFlowUtilities";b.getValue=function(c,a,b){adfc.internal.ElUtil.useMockEl()?adfc.internal.ElUtilMock.getValue(c,a,b):adf.mf.el.getValue(c,a,b)};b.getValues=function(c,a,b){adfc.internal.ElUtil.useMockEl()?adfc.internal.ElUtilMock.getValues(c,a,b):adf.mf.el.getValue(c,a,b)};b.setValue=function(c,a,b){adfc.internal.ElUtil.useMockEl()?adfc.internal.ElUtilMock.setValue(c,a,b):adf.mf.el.setValue(c,a,b)};b.setValues=
function(c,a,e){b.setValue(c,a,e)};b.invokeMethod=function(c,a,b,d,g){null==a&&adfc.internal.LogUtil.warning("ElUtil.invokeMethod() passed null argTypes.  This is likely to fail.");null==b&&adfc.internal.LogUtil.warning("ElUtil.invokeMethod() passed null argValues.  This is likely to fail.");adfc.internal.ElUtil.useMockEl()?adfc.internal.ElUtilMock.invokeMethod(c,a,b,d,g):adf.mf.el.invoke(c,b,null,a,d,g)};b.setBindingContainerPath=function(c,a,b,d){adfc.internal.LogUtil.fine("Setting binding container for: "+
c);adfc.internal.ElUtil.useMockContext()?(adfc.internal.LogUtil.fine("using mock setBindingContainerPath"),b()):adf.mf.api.setCurrentContext(c,!0,!0,a,b,d)};b.resetBindingContainerPath=function(c,a,b){adfc.internal.LogUtil.fine("Removing binding container for: "+c);adfc.internal.ElUtil.useMockContext()?(adfc.internal.LogUtil.fine("using mock resetBindingContainerPath"),a()):adf.mf.api.removeContextInstance(c,c,a,b)};b.getCurrentBindingContainerPath=function(c,a){adfc.internal.ElUtil.useMockContext()?
(adfc.internal.LogUtil.fine("using mock getBindingContainerPath"),c(null)):adf.mf.api.getContextId(c,a)};b.resultToBoolean=function(c){var a=!1;null!=c&&(1==c?a=!0:c instanceof Boolean?a=c.valueOf():(c=new String(c),"true"==c.toLowerCase()&&(a=!0)));return a};b.useMockEl=function(){var c=!0;"undefined"!==typeof adf&&"undefined"!==typeof adf.mf&&"undefined"!==typeof adf.mf.internal&&"undefined"!==typeof adf.mf.internal.isJavaAvailable&&(c=!adf.mf.internal.isJavaAvailable());return c};b.useMockContext=
function(){return b.useMockEl()};b.setBeanDefinitions=function(c,a,e){null!=c&&adfc.internal.LogUtil.fine("defining "+c.length+" managed beans");adfc.internal.ElUtil.useMockEl()?(adfc.internal.ElUtil.currentBeanDefs=c,a()):(c=b.createBeanDefinitions(c),adf.mf.internal.mb.setBeanDefinitions(c,a,e))};b.createBeanDefinitions=function(c){var a=[];if(null!=c)for(var e=0;e<c.length;e++){var d=c[e],g=b.createPropDefinitions(d.getManagedProperties()),d=new adf.mf.internal.mb.ManagedBeanDefinition(d.getBeanName(),
d.getBeanClass(),d.getBeanScope(),g);a.push(d)}return a};b.createPropDefinitions=function(c){var a=[];if(null!=c&&null!=c)for(var b=0;b<c.length;b++){var d=c[b],d=new adf.mf.internal.mb.ManagedPropertyDefinition(d.getName(),d.getType(),d.getValue());a.push(d)}return a};b.pushScopesIfNeeded=function(c,a,e,d){var g=!0,h=function(a,b){(g=b)?(c&&adf.mf.internal.context.getVariableMapper().setVariable("pageFlowScope",{}),e()):(adfc.internal.LogUtil.severe("Maximum data control context stack depth exceeded."),
adfc.internal.ElUtil.useMockContext()?adfc.internal.LogUtil.showAlert("Maximum data control context stack depth exceeded."):adf.mf.api.amx.addMessage("severe","Maximum data control context stack depth exceeded.",null,null),d(message))};c||a?adfc.internal.ElUtil.useMockContext()?(c&&adfc.internal.LogUtil.fine("pushing page flow scope"),a&&adfc.internal.LogUtil.fine("pushing data control context"),e()):adf.mf.api.invokeMethod(b.TASK_FLOW_UTILITIES,"handleTaskFlowCall",c,a,h,d):e()};b.popScopesIfNeeded=
function(c,a,e,d){var g=!0,h=function(a,b){(g=b)?(c&&adf.mf.internal.context.getVariableMapper().setVariable("pageFlowScope",{}),e()):(adfc.internal.LogUtil.severe("Data control context stack is empty."),adfc.internal.ElUtil.useMockContext()?adfc.internal.LogUtil.showAlert("Data control context stack is empty."):adf.mf.api.amx.addMessage("severe","Data control context stack is empty.",null,null),d(message))};c||a?adfc.internal.ElUtil.useMockContext()?(c&&adfc.internal.LogUtil.fine("popping page flow scope"),
a&&adfc.internal.LogUtil.fine("popping data control context"),e()):adf.mf.api.invokeMethod(b.TASK_FLOW_UTILITIES,"handleTaskFlowReturn",c,a,h,d):e()};b.setMfContextInstance=function(c,a){"undefined"!==typeof adf.mf.internal.useNavHandlerViewHistory&&adf.mf.internal.useNavHandlerViewHistory&&"undefined"!==typeof adf.mf.internal.amx&&"undefined"!==typeof adf.mf.internal.amx.setMfContextInstance&&(adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: setting MfContextInstance, newInstance\x3d"+
a+"."),adf.mf.internal.amx.setMfContextInstance(c,a))};b.removeMfContextInstance=function(c){"undefined"!==typeof adf.mf.internal.useNavHandlerViewHistory&&adf.mf.internal.useNavHandlerViewHistory&&"undefined"!==typeof adf.mf.internal.amx&&"undefined"!==typeof adf.mf.internal.amx.removeMfContextInstance&&(adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: removing MfContextInstance."),adf.mf.internal.amx.removeMfContextInstance(c))}})();window.adfc||(window.adfc={});
adfc.internal||(adfc.internal={});(function(){function b(){}adfc.internal.SystemUtil=b;b.hideLoadingIndicator=function(){adf.mf.api.amx.hideLoadingIndicator()};b.onBackUnhandled=function(){return"Android"==adf.mf.internal.amx.agent.type&&window&&window.AdfmfCallback?(window.AdfmfCallback.onBackUnhandled(),!0):!1}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});adfc.internal.TaskFlowDefinitionXmlParser={};
adfc.internal.TaskFlowDefinitionXmlParser.parse=function(b,c,a){c=null;if(a){var e=null,d=null,g=c=null,h=[],k=[],m=[],n=[],t=[],u="preserve";null!=b&&(e=a.attributes.getNamedItem("id").nodeValue,e=new adfc.internal.TaskFlowId(b,e));a=a.childNodes;for(var v=0;v<a.length;v++){var w=a.item(v),x=w.localName,z=null;if(x)if("default-activity"==x)d=adfc.internal.XmlUtil.getNodeText(w),d=new adfc.internal.ActivityId(e,d);else if("initializer"==x)c=adfc.internal.XmlUtil.getNodeText(w);else if("finalizer"==
x)g=adfc.internal.XmlUtil.getNodeText(w);else if("input-parameter-definition"==x)(z=adfc.internal.TaskFlowInputParameterXmlParser.parse(b,e,w))&&h.push(z);else if("return-value-definition"==x)(z=adfc.internal.TaskFlowInputParameterXmlParser.parse(b,e,w))&&k.push(z);else if("view"==x||"router"==x||"method-call"==x||"task-flow-return"==x||"task-flow-call"==x)(z=adfc.internal.ActivityXmlParser.parse(b,e,w))&&m.push(z);else if("control-flow-rule"==x)(z=adfc.internal.ControlFlowRuleXmlParser.parse(b,e,
w))&&n.push(z);else if("managed-bean"==x)(z=adfc.internal.ManagedBeanDefinitionXmlParser.parse(b,e,w))&&t.push(z);else if("page-flow-scope-behavior"==x)for(w=w.childNodes,x=0,z=w.length;x<z;++x){var y=w[x];if(1==y.nodeType)if("push-new"==y.localName){u="pushNew";break}else if("preserve"==y.localName){u="preserve";break}}}b=m;var m={},A;for(A in b)a=b[A],m[a.getActivityId().getLocalActivityId()]=a;b=n;n={};for(A in b)a=b[A],v=a.getFromActivityId().getLocalActivityId(),v=n[v],null==v?n[a.getFromActivityId().getLocalActivityId()]=
a:v.addControlFlowCases(a.getControlFlowCases());c=new adfc.internal.TaskFlowDefinition(e,d,c,g,h,k,m,n,t,u)}return c};window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){this.mTaskFlowStack=[]}adfc.internal.ControllerState=b;b.prototype.getTaskFlowStackSize=function(){return this.mTaskFlowStack.length};b.prototype.peekTaskFlowStack=function(){return this.mTaskFlowStack[this.mTaskFlowStack.length-1]};b.prototype.pushTaskFlow=function(c,a,b,d,g){var h=c.getPageFlowScopeBehavior()==adfc.internal.TaskFlowDefinition.PUSH_NEW,k=null!=a&&adfc.internal.TaskFlowCallActivityLogic.isDataControlContextIsolated(a,g);adfc.internal.ElUtil.pushScopesIfNeeded(h,
k,function(){var m=adfc.internal.AdfcContext.getControllerState();m.mTaskFlowStack.push(new adfc.internal.TaskFlowStackEntry(c.getTaskFlowId(),a,b,h,k));m.updateBeanDefinitions(function(){if(adfc.internal.LogUtil.isFine()){var a=adfc.internal.AdfcContext.getControllerState().peekTaskFlowStack();a.getTaskFlowDefinition(function(c){c=c.getTaskFlowId();var b=a.getInstanceId();adfc.internal.LogUtil.fine("ADFc: pushed task flow, taskFlowId\x3d"+c+", instanceId\x3d"+b)})}d()},function(a){adfc.internal.LogUtil.severe("Failed to set managed bean definitions.");
adfc.internal.LogUtil.showAlert("Failed to set managed bean definitions.");g(a)})},g)};b.prototype.popTaskFlow=function(c,a){var b=adfc.internal.AdfcContext.getControllerState(),d=null,g=b.peekTaskFlowStack(),h=g.shouldPopPageFlowScope(),g=g.shouldPopDataControlContext();adfc.internal.ElUtil.popScopesIfNeeded(h,g,function(){d=b.mTaskFlowStack.pop();b.updateBeanDefinitions(function(){adfc.internal.LogUtil.isFine()&&d.getTaskFlowDefinition(function(a){a=a.getTaskFlowId();var c=d.getInstanceId();adfc.internal.LogUtil.fine("ADFc: popped task flow, taskFlowId\x3d"+
a+", instanceId\x3d"+c)});d.clearViewHistory();c(d)},function(c){adfc.internal.LogUtil.severe("Failed to set managed bean definitions.");adfc.internal.LogUtil.showAlert("Failed to set managed bean definitions.");a(c)})},a)};b.prototype.updateBeanDefinitions=function(c,a){if(1<this.mTaskFlowStack.length){var e=[],d=this;this.mTaskFlowStack[0].getTaskFlowDefinition(function(g){g=g.getBeanDefinitions();for(var h=0;h<g.length;h++)g[h].getBeanScope()==adfc.internal.ManagedBeanDefinition.APPLICATION&&e.push(g[h]);
d.mTaskFlowStack[d.mTaskFlowStack.length-1].getTaskFlowDefinition(function(d){d=d.getBeanDefinitions();e=e.concat(d);b._updateBeanDefinitionsPhase2(e,c,a)})})}else 1==this.mTaskFlowStack.length?this.mTaskFlowStack[0].getTaskFlowDefinition(function(d){b._updateBeanDefinitionsPhase2(d.getBeanDefinitions(),c,a)}):b._updateBeanDefinitionsPhase2([],c,a)};b._updateBeanDefinitionsPhase2=function(c,a,b){adfc.internal.ElUtil.setBeanDefinitions(c,function(){a()},function(a){b(a)})}})();
window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.XmlUtil=b;b.loadXmlFile=function(c,a){var b=function(b){var e=null;null!=b&&0<b.length?e=(new DOMParser).parseFromString(b,"text/xml"):adfc.internal.LogUtil.warning("failed to load XML for document: "+c);a(e)};adf.mf.api.resourceFile._loadFileWithAjax(c,!0,function(a){b(a)},function(){b(null)})};b.getNodeText=function(c){var a=null;if(c){c=c.childNodes;for(var b=0;b<c.length;b++){var d=c.item(b);if(d.nodeType==Node.TEXT_NODE){a=d.nodeValue;break}}}a&&0==a.length&&
(a=null);return a};b.isTaskFlowDocument=function(c,a){var b=a.indexOf("#");0<b&&(a=a.substring(0,b));adf.mf.api.resourceFile._loadFileWithAjax(a,!0,function(a){var b=!1;null!=a&&0<a.indexOf("adfc-mobile-config")&&(b=!0);c(b)},function(){throw Error("failed to read entry point document "+a);})}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.LogUtil=b;adfc.internal.LogUtil.UseMockLog="undefined"===typeof adf||"undefined"===typeof adf.mf||"undefined"===typeof adf.mf.log||"undefined"===typeof adf.mf.log.Framework;b.LOG_LEVEL_FINE=0;b.LOG_LEVEL_INFO=1;b.LOG_LEVEL_WARNING=2;b.LOG_LEVEL_SEVERE=3;adfc.internal.LogUtil.UseMockLog||(b.LOG_LEVEL_FINE=adf.mf.log.level.FINE,b.LOG_LEVEL_INFO=adf.mf.log.level.INFO,b.LOG_LEVEL_WARNING=adf.mf.log.level.WARNING,b.LOG_LEVEL_SEVERE=adf.mf.log.level.SEVERE);b.currentMockLogLevel=
b.LOG_LEVEL_FINE;b.severe=function(c){b.output("SEVERE",b.LOG_LEVEL_SEVERE,c)};b.warning=function(c){b.output("WARNING",b.LOG_LEVEL_WARNING,c)};b.info=function(c){b.output("INFO",b.LOG_LEVEL_INFO,c)};b.fine=function(c){b.output("FINE",b.LOG_LEVEL_FINE,c)};b.showAlert=function(c){null!=c&&alert(c)};b.output=function(c,a,e){adfc.internal.LogUtil.UseMockLog?null!=e&&a>=b.currentMockLogLevel&&(a="[ADFc:"+c+"] "+b.formatMessage(e),console.log(a)):(c="ADFc",a==b.LOG_LEVEL_FINE&&(c="\x3d\x3d\x3d\x3d ADFc DEBUG \x3d\x3d\x3d\x3d"),
adf.mf.log.Framework.logp(a,c,"--",e))};b.formatMessage=function(c){var a=c;a instanceof String||(a=new String(c));0!=a.indexOf("ADFc:")&&(a="ADFc: "+a);return a};b.perfLog=function(c){adfc.internal.LogUtil.UseMockLog||adf.mf.internal.perf.perfTimings(!1,!1,!0,c)};b.isSevere=function(){return adfc.internal.LogUtil.UseMockLog?b.currentMockLogLevel>=b.LOG_LEVEL_SEVERE:adf.mf.log.Framework.isLoggable(b.LOG_LEVEL_SEVERE)};b.isWarning=function(){return adfc.internal.LogUtil.UseMockLog?b.currentMockLogLevel>=
b.LOG_LEVEL_WARNING:adf.mf.log.Framework.isLoggable(b.LOG_LEVEL_WARNING)};b.isInfo=function(){return adfc.internal.LogUtil.UseMockLog?b.currentMockLogLevel>=b.LOG_LEVEL_INFO:adf.mf.log.Framework.isLoggable(b.LOG_LEVEL_INFO)};b.isFine=function(){return adfc.internal.LogUtil.UseMockLog?b.currentMockLogLevel>=b.LOG_LEVEL_FINE:adf.mf.log.Framework.isLoggable(b.LOG_LEVEL_FINE)}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.TaskFlowIdUtil=b;b.parseTaskFlowId=function(c){return c&&null!=c&&(c=adfc.internal.TaskFlowId.parse(c))&&null!=c?c:null}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.RouterActivityLogic=b;b.prototype.execute=function(c,a,b,d){adfc.internal.LogUtil.perfLog("BEGIN: RouterActivityLogic.execute");var g=0,h=null,k=function(m,t){var u=t[0].value;adfc.internal.LogUtil.isFine()&&adfc.internal.LogUtil.fine("ADFc: router expression '"+h+"' evaluated to '"+u+"'.");var u=adfc.internal.ElUtil.resultToBoolean(u),v=a.getCases();1==u?(u=v[g].getOutcome(),c.setCurrentOutcome(u),adfc.internal.LogUtil.perfLog("END: RouterActivityLogic.execute"),
b(c)):v.length>g+1?(++g,h=v[g].getExpression(),adfc.internal.ElUtil.getValue(h,k,d)):(u=a.getDefaultOutcome(),c.setCurrentOutcome(u),adfc.internal.LogUtil.perfLog("END: RouterActivityLogic.execute"),b(c))},m=a.getCases();null!=m&&0<m.length?(h=m[g].getExpression(),adfc.internal.ElUtil.getValue(h,k,d)):(m=this.mRouter.getDefaultOutcome(),c.setCurrentOutcome(m),adfc.internal.LogUtil.perfLog("END: RouterActivityLogic.execute"),b(c))}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
adfc.internal.ManagedBeanDefinitionXmlParser={};
adfc.internal.ManagedBeanDefinitionXmlParser.parse=function(b,c,a){var e=c=b=null,d=[];a=a.childNodes;for(var g=0;g<a.length;g++){var h=a.item(g),k=h.localName;k&&("managed-bean-name"==k?b=adfc.internal.XmlUtil.getNodeText(h):"managed-bean-class"==k?c=adfc.internal.XmlUtil.getNodeText(h):"managed-bean-scope"==k?e=adfc.internal.XmlUtil.getNodeText(h):"managed-property"==k&&(h=adfc.internal.ManagedPropertyDefinitionXmlParser.parse(h),null!=h&&d.push(h)))}return new adfc.internal.ManagedBeanDefinition(b,c,
e,d)};adfc.internal.ManagedPropertyDefinitionXmlParser={};adfc.internal.ManagedPropertyDefinitionXmlParser.parse=function(b){var c=null,a=null,e=null;b=b.childNodes;for(var d=0;d<b.length;d++){var g=b.item(d),h=g.localName;h&&("property-name"==h?c=adfc.internal.XmlUtil.getNodeText(g):"property-class"==h?a=adfc.internal.XmlUtil.getNodeText(g):"value"==h&&(e=adfc.internal.XmlUtil.getNodeText(g)))}return new adfc.internal.ManagedPropertyDefinition(c,a,e)};window.adfc||(window.adfc={});
(function(){function b(){}function c(a,c,b){this.mStartingViewId=a;this.mNavigationResult=c;this.mNavigationEventType=b}adfc.NavigationEvent=c;adfc.NavigationEventType=b;b.START="start";b.END="end";c.prototype.getStartingViewId=function(){return this.mStartingViewId};c.prototype.getNavigationResult=function(){return this.mNavigationResult};c.prototype.isNavigationStart=function(){return this.mNavigationEventType==b.START};c.prototype.isNavigationEnd=function(){return this.mNavigationEventType==b.END};
c.prototype.toString=function(){return this.isNavigationStart()?"Navigating from "+this.mStartingViewId:"Navigated from  "+this.mStartingViewId+" to "+this.mNavigationResult.getViewId()}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});adfc.internal.ControlFlowRuleXmlParser={};
adfc.internal.ControlFlowRuleXmlParser.parse=function(b,c,a){var e=null,d=[];a=a.childNodes;for(var g=0;g<a.length;g++){var h=a.item(g),k=h.localName;k&&("from-activity-id"==k?(e=adfc.internal.XmlUtil.getNodeText(h),e=new adfc.internal.ActivityId(c,e)):"control-flow-case"==k&&(h=adfc.internal.ControlFlowCaseXmlParser.parse(b,c,h))&&d.push(h))}return new adfc.internal.ControlFlowRule(e,d)};window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(c,a,e,d){this.mOutcome=c;this.mGuardCondition=a;this.mTargetActivityId=e;this.mTransition=null!=d?d:b.DEFAULT_TRANSITION}adfc.internal.ControlFlowCase=b;b.DEFAULT_TRANSITION="slide";b.prototype.getOutcome=function(){return this.mOutcome};b.prototype.getGuardCondition=function(){return this.mGuardCondition};b.prototype.getTargetActivityId=function(){return this.mTargetActivityId};b.prototype.getTransition=function(){return this.mTransition}})();window.adfc||(window.adfc={});
adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.MethodCallActivityLogic=b;b.prototype.execute=function(c,a,b,d){adfc.internal.LogUtil.fine("MethodCallActivityLogic.prototype.execute() entered");adfc.internal.LogUtil.perfLog("BEGIN: MethodCallActivityLogic.execute");c.setCurrentOutcome(null);var g=function(g,h){for(var n=Array(m.length),w=0;w<m.length;w++)void 0!=h[w]?n[w]=h[w].value:(n[w]=null,adfc.internal.LogUtil.fine("no parameter value for "+k[w]));w=a.getMethodElExpression();adfc.internal.LogUtil.fine("executing method call expression: "+
w);adfc.internal.ElUtil.invokeMethod(w,m,n,function(g,h){adfc.internal.LogUtil.fine("method call invokation successful");var w=function(){var d=null;a.getDefaultOutcome()?d=a.getDefaultOutcome():a.isConvertToString()&&h&&(d=new String(h));c.setCurrentOutcome(d);adfc.internal.LogUtil.perfLog("END: MethodCallActivityLogic.execute");adfc.internal.LogUtil.fine("method call complete, outcome\x3d"+d);b(c)},k=a.getReturnValue();if(null!=k&&0<k.length){adfc.internal.LogUtil.fine("storing method call result to: "+
k);var m=[];m[0]={name:k,value:h};adfc.internal.ElUtil.setValue(m,w,d)}else adfc.internal.LogUtil.fine("no method call result to store"),w()},d)},h=a.getParameters(),k=[],m=[];if(0<h.length){for(var n=0;n<h.length;n++)k.push(h[n].getValueExpression()),m.push(h[n].getType());adfc.internal.LogUtil.fine("getting method call activity parameter values");adfc.internal.ElUtil.getValues(k,g,d)}else adfc.internal.LogUtil.fine("no method call activity parameters specified"),g(k,k)}})();
window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});(function(){function b(b,a){this.mType=b;this.mValueExpression=a}adfc.internal.MethodCallParameter=b;b.prototype.getType=function(){return this.mType};b.prototype.getValueExpression=function(){return this.mValueExpression}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e,d,g,h){this.mActivityId=b;this.mMethodElExpression=a;this.mDefaultOutcome=e;this.mConvertToString=d;this.mParameters=g;this.mReturnValue=h}adfc.internal.MethodCallActivity=b;b.prototype.getActivityType=function(){return adfc.internal.ActivityType.METHOD_CALL};b.prototype.getActivityId=function(){return this.mActivityId};b.prototype.getMethodElExpression=function(){return this.mMethodElExpression};b.prototype.getDefaultOutcome=function(){return this.mDefaultOutcome};b.prototype.isConvertToString=
function(){return this.mConvertToString};b.prototype.getParameters=function(){return this.mParameters};b.prototype.getReturnValue=function(){return this.mReturnValue}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e){this.mName=b;this.mValueExpression=a;this.mPassByValue=e}adfc.internal.TaskFlowCallParameter=b;b.prototype.getName=function(){return this.mName};b.prototype.getValueExpression=function(){return this.mValueExpression};b.prototype.getPassByValue=function(){return this.mPassByValue}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e){this.mActivityId=b;this.mCases=a;this.mDefaultOutcome=e}adfc.internal.RouterActivity=b;b.prototype.getActivityType=function(){return adfc.internal.ActivityType.ROUTER};b.prototype.getActivityId=function(){return this.mActivityId};b.prototype.getCases=function(){return this.mCases};b.prototype.getDefaultOutcome=function(){return this.mDefaultOutcome}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e,d,g){this.mInstanceId=adfc.internal.TaskFlowStackEntry.SequenceCounter++;this.mTaskFlowId=b;this.mTaskFlowCallActivity=a;this.mViewReached=!1;this.mCallingViewActivityId=e;this.mNewPageFlowScopeCreated=d;this.mNewDataControlContextCreated=g;this.mViewHistoryStack=[]}adfc.internal.TaskFlowStackEntry=b;adfc.internal.TaskFlowStackEntry.SequenceCounter=0;b.prototype.getInstanceId=function(){return this.mInstanceId};b.prototype.getTaskFlowDefinition=function(b){var a=function(){b(null)},
e=function(a){b(a)};this.mTaskFlowId&&null!=this.mTaskFlowId?adfc.internal.MetadataService.getTaskFlowDefinition(e,this.mTaskFlowId):adfc.internal.MetadataService.loadBootstrapMetadata(e,a)};b.prototype.getTaskFlowCallActivity=function(){return this.mTaskFlowCallActivity};b.prototype.shouldPopPageFlowScope=function(){return this.mNewPageFlowScopeCreated};b.prototype.shouldPopDataControlContext=function(){return this.mNewDataControlContextCreated};b.prototype.pushViewHistory=function(b,a,e){b=new adfc.internal.ViewHistoryItem(b,
a,e);this.mViewHistoryStack.push(b);adfc.internal.ElUtil.setMfContextInstance(b,!0)};b.prototype.popViewHistory=function(){var b=this.mViewHistoryStack.pop();adfc.internal.ElUtil.removeMfContextInstance(b);return b};b.prototype.peekViewHistory=function(){return this.mViewHistoryStack[this.mViewHistoryStack.length-1]};b.prototype.clearViewHistory=function(){for(;0<this.mViewHistoryStack.length;)this.popViewHistory()};b.prototype.getViewHistoryLength=function(){return this.mViewHistoryStack.length};
b.prototype.isViewReached=function(){return this.mViewReached};b.prototype.setViewReached=function(b){this.mViewReached=b};b.prototype.getCallingViewActivityId=function(){return this.mCallingViewActivityId}})();window.adfc||(window.adfc={});
(function(){function b(b,a,e,d,g,h,k){this.mNewViewId=b;this.mBackNavigation=a;this.mViewId=e;this.mVdlDocumentPath=d;this.mTransitionType=g;this.mFeatureExited=h;this.mDifferentViewId="undefined"!==k?k:b}adfc.NavigationResult=b;b.prototype.isDifferentViewId=function(){return this.mDifferentViewId};b.prototype.isNewViewId=function(){return this.mNewViewId};b.prototype.isBackNavigation=function(){return this.mBackNavigation};b.prototype.getViewId=function(){return this.mViewId};b.prototype.getVdlDocumentPath=
function(){return this.mVdlDocumentPath};b.prototype.getTransitionType=function(){return this.mTransitionType};b.prototype.isTaskFlowExited=function(){adfc.internal.LogUtil.warning("function adfc.NavigationResult.isTaskFlowExited() is deprecated, use adfc.NavigationResult.isFeatureExited() instead.");return this.isFeatureExited()};b.prototype.isFeatureExited=function(){return this.mTaskFlowExited}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
adfc.internal.ActivityXmlParser={};
adfc.internal.ActivityXmlParser.parse=function(b,c,a){b=null;if(a&&null!=a){var e=a.attributes.getNamedItem("id").nodeValue;c=new adfc.internal.ActivityId(c,e);e=a.localName;"view"==e?b=adfc.internal.ActivityXmlParser.parseViewActivity(c,a):"router"==e?b=adfc.internal.ActivityXmlParser.parseRouterActivity(c,a):"method-call"==e?b=adfc.internal.ActivityXmlParser.parseMethodCallActivity(c,a):"task-flow-return"==e?b=adfc.internal.ActivityXmlParser.parseTaskFlowReturnActivity(c,a):"task-flow-call"==e&&
(b=adfc.internal.ActivityXmlParser.parseTaskFlowCallActivity(c,a))}return b};adfc.internal.ActivityXmlParser.parseViewActivity=function(b,c){for(var a=null,e=c.childNodes,d=0;d<e.length;d++){var g=e.item(d),h=g.localName;h&&"page"==h&&(a=adfc.internal.XmlUtil.getNodeText(g),null!=a&&0<a.length&&(g=a.charAt(0),null!=g&&"/"!=g&&(a="/"+a)))}return new adfc.internal.ViewActivity(b,a)};
adfc.internal.ActivityXmlParser.parseRouterActivity=function(b,c){for(var a=[],e=null,d=c.childNodes,g=0;g<d.length;g++){var h=d.item(g),k=h.localName;k&&("default-outcome"==k?e=adfc.internal.XmlUtil.getNodeText(h):"case"==k&&(h=adfc.internal.ActivityXmlParser.parseRouterCase(h),a.push(h)))}null==e&&adfc.internal.LogUtil.severe("task flow router activity "+b.toString()+" does not have a default outcome");return new adfc.internal.RouterActivity(b,a,e)};
adfc.internal.ActivityXmlParser.parseRouterCase=function(b){var c=null,a=null;b=b.childNodes;for(var e=0;e<b.length;e++){var d=b.item(e),g=d.localName;g&&("expression"==g?c=adfc.internal.XmlUtil.getNodeText(d):"outcome"==g&&(a=adfc.internal.XmlUtil.getNodeText(d)))}return new adfc.internal.RouterCase(c,a)};
adfc.internal.ActivityXmlParser.parseMethodCallActivity=function(b,c){for(var a=null,e=null,d=!1,g=[],h=null,k=c.childNodes,m=0;m<k.length;m++){var n=k.item(m),t=n.localName;if(t&&null!=t)if("method"==t)a=adfc.internal.XmlUtil.getNodeText(n);else if("outcome"==t)for(n=n.childNodes,t=0;t<n.length;t++){var u=n.item(t),v=u.localName;if(v&&null!=v)if("fixed-outcome"==v){e=adfc.internal.XmlUtil.getNodeText(u);break}else if("to-string"==v){d=!0;break}}else"parameter"==t?(n=adfc.internal.ActivityXmlParser.parseMethodCallParam(n),
g.push(n)):"return-value"==t&&(h=adfc.internal.XmlUtil.getNodeText(n))}return new adfc.internal.MethodCallActivity(b,a,e,d,g,h)};adfc.internal.ActivityXmlParser.parseMethodCallParam=function(b){var c=null,a=null;b=b.childNodes;for(var e=0;e<b.length;e++){var d=b.item(e),g=d.localName;g&&("class"==g?c=adfc.internal.XmlUtil.getNodeText(d):"value"==g&&(a=adfc.internal.XmlUtil.getNodeText(d)))}return new adfc.internal.MethodCallParameter(c,a)};
adfc.internal.ActivityXmlParser.parseTaskFlowReturnActivity=function(b,c){for(var a=null,e=c.childNodes,d=0;d<e.length;d++){var g=e.item(d),h=g.localName;if(h&&null!=h&&"outcome"==h)for(g=g.childNodes,h=0;h<g.length;h++){var k=g.item(h),m=k.localName;if(m&&null!=m&&"name"==m){a=adfc.internal.XmlUtil.getNodeText(k);break}}}return new adfc.internal.TaskFlowReturnActivity(b,a)};
adfc.internal.ActivityXmlParser.parseTaskFlowCallActivity=function(b,c){for(var a=null,e=null,d=[],g=null,h=[],k=null,m=null,n=null,t=c.childNodes,u=0;u<t.length;u++){var v=t.item(u),w=v.localName;if(w&&null!=w)if("task-flow-reference"==w){for(var x=w=null,v=v.childNodes,z=0;z<v.length;z++){var y=v.item(z),A=y.localName;A&&null!=A&&("document"==A?w=adfc.internal.XmlUtil.getNodeText(y):"id"==A&&(x=adfc.internal.XmlUtil.getNodeText(y)))}document&&x?a=w+"#"+x:document?a=w:x&&(a=x)}else"dynamic-task-flow-reference"==
w?e=adfc.internal.XmlUtil.getNodeText(v):"input-parameter"==w?(w=adfc.internal.ActivityXmlParser.parseTaskFlowCallParam(v),d.push(w)):"input-parameter-map"==w?g=adfc.internal.XmlUtil.getNodeText(v):"return-value"==w?(w=adfc.internal.ActivityXmlParser.parseTaskFlowCallParam(v),h.push(w)):"before-listener"==w?k=adfc.internal.XmlUtil.getNodeText(v):"after-listener"==w?m=adfc.internal.XmlUtil.getNodeText(v):"data-control-context"==w&&(n=adfc.internal.XmlUtil.getNodeText(v))}return new adfc.internal.TaskFlowCallActivity(b,
a,e,d,g,h,k,m,n)};adfc.internal.ActivityXmlParser.parseTaskFlowCallParam=function(b){var c=null,a=null,e=null;b=b.childNodes;for(var d=0;d<b.length;d++){var g=b.item(d),h=g.localName;h&&("name"==h?c=adfc.internal.XmlUtil.getNodeText(g):"value"==h?a=adfc.internal.XmlUtil.getNodeText(g):"pass-by-value"==h&&(e=adfc.internal.XmlUtil.getNodeText(g)))}return new adfc.internal.TaskFlowCallParameter(c,a,e)};window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){this.mFinlized=this.mInitialized=!1;this.mControllerState=null}adfc.internal.AdfcContext=b;b.initialize=function(b,a){this.mInitialized||(this.mInitialized=!0,this.mControllerState=new adfc.internal.ControllerState,adfc.internal.MetadataService.loadBootstrapMetadata(b,a))};b.finalize=function(){this.mController=null;this.mFinlized=!0};b.getControllerState=function(){if(!this.mInitialized)throw Error("ADFc: AdfcContext is not initialized.");if(this.mFinalized)throw Error("ADFc: AdfcContext has already been finalized.");
return this.mControllerState};b.reinitialize=function(){this.mFinlized=this.mInitialized=!1;this.mControllerState=null}})();window.adfc||(window.adfc={});adfc.Util={};(function(){adfc.Util.addFeatureRootPrefix=function(b){var c=b;null!=adf.FEATURE_ROOT&&(c=adf.FEATURE_ROOT+"/public_html",null!=b&&0<b.length&&"/"!=b.charAt(0)&&(c+="/"),c+=b);return c}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(){}adfc.internal.MsgUtil=b;b.messages={};b.getLocalizedText=function(c){var a="\x3cbad message ID\x3e";"undefined"!==typeof b.messages[c]&&(a=b.messages[c]);return a};b.NO_FEATURE_ENTRY_POINT=0;b.messages[b.NO_FEATURE_ENTRY_POINT]="no feature entry point path found on URL"})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a){this.mTaskFlowId=b;this.mLocalActivityId=a}adfc.internal.ActivityId=b;b.parse=function(c){var a=null,e=c.indexOf("@");0<e&&(a=c.substring(0,e),a=adfc.internal.TaskFlowId.parse(a),c=c.substring(e+1),a=new b(a,c));return a};b.prototype.getTaskFlowId=function(){return this.mTaskFlowId};b.prototype.getLocalActivityId=function(){return this.mLocalActivityId};b.prototype.getLogicalViewId=function(){var b="";null!=this.mTaskFlowId&&(b="/"+this.mTaskFlowId.getLocalTaskFlowId());
return b+"/"+this.mLocalActivityId};b.prototype.toString=function(){return(null!=this.mTaskFlowId?this.mTaskFlowId.toString():"")+"@"+this.mLocalActivityId};b.prototype.equals=function(b){var a=!1;null!=b&&"undefined"!==typeof b.mTaskFlowId&&"undefined"!==typeof b.mLocalActivityId&&(null!=this.mTaskFlowId?this.mTaskFlowId.equals(b.mTaskFlowId)&&(a=this.mLocalActivityId==b.mLocalActivityId):null==b.mTaskFlowId&&(a=this.mLocalActivityId==b.mLocalActivityId));return a}})();
window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});(function(){function b(){}adfc.internal.ActivityType=b;b.VIEW="view";b.ROUTER="router";b.METHOD_CALL="method-call";b.TASK_FLOW_RETURN="task-flow-return";b.TASK_FLOW_CALL="task-flow-call"})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e,d){this.mStartingTfInstanceId=b;this.mStartingViewId=a;this.mCurrentActivityId=this.mStartingActivityId=e;this.mCurrentOutcome=d;this.mNextActivityId=null;this.mTaskFlowReturnExecuted=this.mBackNavigation=this.mViewReached=this.mRoutingComplete=!1;this.mControlFlowCase=this.mTransition=null;this.mTriedCfRules={};this.mFindCfCaseCallback=this.mRoutingFailedCallback=this.mRoutingSuccessCallback=this.mNavigationResult=null;this.mBackNavTfPopped=!1;this.mLastReturnedFromTfEntry=
this.mBackNavTfLeftViewItem=null;this.mBindingContainerChanged=!1}adfc.internal.RoutingState=b;b.prototype.getStartingTaskFlowInstanceId=function(){return this.mStartingTfInstanceId};b.prototype.getStartingViewId=function(){return this.mStartingViewId};b.prototype.getStartingActivityId=function(){return this.mStartingActivityId};b.prototype.getCurrentActivityId=function(){return this.mCurrentActivityId};b.prototype.setCurrentActivityId=function(b){this.mCurrentActivityId=b};b.prototype.getCurrentOutcome=
function(){return this.mCurrentOutcome};b.prototype.setCurrentOutcome=function(b){this.mCurrentOutcome=b};b.prototype.getNextActivityId=function(){return this.mNextActivityId};b.prototype.setNextActivityId=function(b){this.mNextActivityId=b};b.prototype.isRoutingComplete=function(){return this.mRoutingComplete};b.prototype.setRoutingComplete=function(b){this.mRoutingComplete=b};b.prototype.isViewReached=function(){return this.mViewReached};b.prototype.setViewReached=function(b){this.mViewReached=
b};b.prototype.setNavigationResult=function(b){this.mNavigationResult=b};b.prototype.getNavigationResult=function(){return this.mNavigationResult};b.prototype.setRoutingSuccessCallback=function(b){this.mRoutingSuccessCallback=b};b.prototype.getRoutingSuccessCallback=function(){return this.mRoutingSuccessCallback};b.prototype.setRoutingFailedCallback=function(b){this.mRoutingFailedCallback=b};b.prototype.getRoutingFailedCallback=function(){return this.mRoutingFailedCallback};b.prototype.setBackNavigation=
function(b){this.mBackNavigation=b};b.prototype.getBackNavigation=function(){return this.mBackNavigation};b.prototype.setTaskFlowReturnExecuted=function(b){this.mTaskFlowReturnExecuted=b};b.prototype.isTaskFlowReturnExecuted=function(){return this.mTaskFlowReturnExecuted};b.prototype.setTransition=function(b){this.mTransition=b};b.prototype.getTransition=function(){return this.mTransition};b.prototype.setFindCfCaseCallback=function(b){this.mFindCfCaseCallback=b};b.prototype.getFindCfCaseCallback=
function(){return this.mFindCfCaseCallback};b.prototype.setControlFlowCase=function(b){this.mControlFlowCase=b};b.prototype.getControlFlowCase=function(){return this.mControlFlowCase};b.prototype.getTriedCfRules=function(){return this.mTriedCfRules};b.prototype.isBackNavTfPopped=function(){return this.mBackNavTfPopped};b.prototype.setBackNavTfPopped=function(b){this.mBackNavTfPopped=b};b.prototype.setBackNavTfLeftViewItem=function(b){this.mBackNavTfLeftViewItem=b};b.prototype.getBackNavTfLeftViewItem=
function(){return this.mBackNavTfLeftViewItem};b.prototype.setLastReturnedFromTfEntry=function(b){this.mLastReturnedFromTfEntry=b};b.prototype.getLastReturnedFromTfEntry=function(){return this.mLastReturnedFromTfEntry};b.prototype.setBindingContainerChanged=function(b){this.mBindingContainerChanged=b};b.prototype.isBindingContainerChanged=function(){return this.mBindingContainerChanged};b.prototype.resetCfRuleEvaluation=function(){this.mTriedCfRules={};this.mControlFlowCase=null}})();
window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e,d,g,h,k,m,n){this.mActivityId=b;this.mTaskFlowReference=a;this.mDynamicTaskFlowIdElExpression=e;this.mIsDynamic=null!=e;this.mInputParameters=d;this.mInputParameterMapElExpression=g;this.mReturnValues=h;this.mBeforeListener=k;this.mAfterListener=m;this.mDCContext=n}adfc.internal.TaskFlowCallActivity=b;b.prototype.getActivityType=function(){return adfc.internal.ActivityType.TASK_FLOW_CALL};b.prototype.getActivityId=function(){return this.mActivityId};b.prototype.getTaskFlowReference=
function(){return this.mTaskFlowReference};b.prototype.isDynamic=function(){return this.mIsDynamic};b.prototype.getDynamicTaskFlowIdElExpression=function(){return this.mDynamicTaskFlowIdElExpression};b.prototype.getInputParameters=function(){return this.mInputParameters};b.prototype.getInputParameterMapElExpression=function(){return this.mInputParameterMapElExpression};b.prototype.getReturnValues=function(){return this.mReturnValues};b.prototype.getBeforeListener=function(){return this.mBeforeListener};
b.prototype.getAfterListener=function(){return this.mAfterListener};b.prototype.getDataControlContextType=function(){return this.mDCContext}})();window.adfc||(window.adfc={});adfc.internal||(adfc.internal={});
(function(){function b(b,a,e,d,g,h,k,m,n,t){this.mTaskFlowId=b;this.mDefaultActivityId=a;this.mInitializer=e;this.mFinalizer=d;this.mActivities=k;this.mControlFlowRules=m;this.mBeanDefinitions=n;this.mInputParams=g;this.mReturnValues=h;this.mPageFlowScopeBehavior=t}adfc.internal.TaskFlowDefinition=b;b.PUSH_NEW="pushNew";b.prototype.getTaskFlowId=function(){return this.mTaskFlowId};b.prototype.getControlFlowRules=function(){return this.mControlFlowRules};b.prototype.getActivities=function(){return this.mActivities};
b.prototype.getDefaultActivityId=function(){return this.mDefaultActivityId};b.prototype.getInitializer=function(){return this.mInitializer};b.prototype.getFinalizer=function(){return this.mFinalizer};b.prototype.getInputParameters=function(){return this.mInputParams};b.prototype.getReturnValues=function(){return this.mReturnValues};b.prototype.getBeanDefinitions=function(){return this.mBeanDefinitions};b.prototype.getPageFlowScopeBehavior=function(){return this.mPageFlowScopeBehavior}})();