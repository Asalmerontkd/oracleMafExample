window.adf||(window.adf={});adf.mf=adf.mf||{};adf.mf.api=adf.mf.api||{};adf.mf.api.amx=adf.mf.api.amx||{};adf.mf.internal=adf.mf.internal||{};adf.mf.internal.amx=adf.mf.internal.amx||{};adf.mf.resource=adf.mf.resource||{};window.amx||(window.amx={});(function(){adf.mf.resource.AMXErrorBundleName="AMXErrorBundle";adf.mf.resource.AMXInfoBundleName="AMXInfoBundle"})();
(function(){function b(a,b,c){adf.mf.api.amx.loadJavaScriptByLocale(b,function(b){var c=a+"/resource/MessageBundle";if(0==b.indexOf("en"))return c+".js";b=adf.mf.locale.getJavaLanguage(b);return c+"_"+b+".js"},function(a){return"undefined"!==typeof TrMessageFactory._TRANSLATIONS},c,!0)}function c(a,b){adf.mf.resource.loadADFMessageBundles(a,b.slice(0),!0);adf.mf.resource.loadMessageBundle(adf.mf.resource.AMXErrorBundleName,a,b.slice(0),!0);adf.mf.resource.loadMessageBundle(adf.mf.resource.AMXInfoBundleName,
a,b.slice(0),!0)}function a(){var a=document.styleSheets,b=a.length;if(t!=b){t=b;for(var c=0;c<k.length;++c)for(var d=k[c],e=d.node,g=0;g<b;++g){var h=a[g].ownerNode;if(e==h){d.resolve(h);k.splice(c--,1);if(0==k.length){window.clearInterval(m);m=null;return}break}}if(5E3<=(new Date).getMilliseconds()-n){for(a=k.length;c<a;++c)d=k[0],d.reject(),adf.mf.log.logInfoResource("AMXInfoBundle",adf.mf.log.level.SEVERE,"amx.includeCss","MSG_FAILED_TO_LOAD",d.path);k=[];window.clearInterval(m);m=null}}}function e(a,
b,c){a=a[b];if(null!=a){a=a.js;var d;if(null!=a)if(Array.isArray(a))for(b=0,d=a.length;b<d;++b){var e=a[b];!0!==g[e]&&-1==c.indexOf(e)&&c.push(e)}else!0!==g[a]&&-1==c.indexOf(a)&&c.push(a)}}function d(a,b){var c=a.getNamespace(),c=u[c];null!=c&&(e(c,"*",b),e(c,a.getName(),b));for(var c=a.getChildren(),g=0,h=c.length;g<h;++g)d(c[g],b)}adf.mf.internal.loadTrinidadLocaleElements=function(a,b,c){adf.mf.api.amx.loadJavaScriptByLocale(b,function(b){return a+"/resource/LocaleElements_"+adf.mf.locale.getJavaLanguage(b)+
".js"},function(a){a=adf.mf.locale.getJavaLanguage(a);return"undefined"!==typeof window["LocaleSymbols_"+a]?!0:!1},c,!0)};adf.mf.api.amx.loadJavaScriptByLocale=function(a,b,c,d,e){a=[].concat(a);var g=null,h=new adf.mf.internal.BasePromise(function(a,b){g=a});adf.mf.internal.resource.loadJavaScriptByLocale(a,b,c,function(a){g();d(a)},e);return h};adf.mf.api.amx.loadTrinidadResources=function(a){adf.mf.api.addErrorHandler(adf.mf.internal.amx.errorHandlerImpl);window._df2DYS=null;window._locale=adf.mf.locale.getUserLocale();
var d=adf.mf.locale.getUserLanguage(),e=adf.mf.locale.generateLocaleList(_locale,!0),d=adf.mf.locale.generateLocaleList(d,!1);adf.mf.internal.loadTrinidadLocaleElements(a,e,function(a){null===a?adf.mf.log.Framework.isLoggable(adf.mf.log.level.WARNING)&&adf.mf.log.Framework.logp(adf.mf.log.level.WARNING,"amx","loadTrinidadResources","MSG_FAILED_TO_LOAD_LOCALE","Failed to load LocaleElements"):_locale=a});b(a,d,function(a){null===a&&adf.mf.log.Framework.isLoggable(adf.mf.log.level.WARNING)&&adf.mf.log.Framework.logp(adf.mf.log.level.WARNING,
"amx","loadTrinidadResources","Failed to load MessageBundle")});c(a,d)};var g={},h={},k=[],m=null,n=0,t=0;adf.mf.internal.amx._loadXmlFile=function(a,b,c,d){var e=adf.mf.internal.perf.startMonitorOperation("Load XML file",adf.mf.log.level.FINE,"adf.mf.internal.amx._loadXmlFile",a),g=adf.mf.internal.perf.startMonitorCall("Load XML file",adf.mf.log.level.FINER,"adf.mf.internal.amx._loadXmlFile.load");adf.mf.api.resourceFile._loadFileWithAjax(a,b,function(a){g.stop();if(null!=a&&0<a.length){g=adf.mf.internal.perf.startMonitorCall("Parse XML file",
adf.mf.log.level.FINER,"adf.mf.internal.amx._loadXmlFile.parse");var b="UWP"===adf.mf.internal.amx.agent.type;if(!adf.mf.environment.profile.mockData&&b){var b=new Windows.Data.Xml.Dom.XmlDocument,h=new Windows.Data.Xml.Dom.XmlLoadSettings;h.elementContentWhiteSpace=!1;b.loadXml(a,h)}else b=(new DOMParser).parseFromString(a,"text/xml");a=null;for(b=b.firstChild;null==a&&null!=b;)1==b.nodeType?a=b:b=b.nextSibling;g.stop();if(null!=a)try{g=adf.mf.internal.perf.startMonitorCall("Parse tags",adf.mf.log.level.FINER,
"adf.mf.internal.amx._loadXmlFile.parseTags");var k=new adf.mf.api.amx.AmxTag(null,a);g.stop();adf.mf.internal.amx._preProcessTagTree(k).then(function(){e.stop();c(k)})}catch(m){e.stop(),d(m)}else e.stop(),d("No root view tag found")}else e.stop(),null!=d&&d("Empty response")},function(){e.stop();null!=d&&d.apply(window,arguments)})};amx.includeJs=function(a){var b=g[a];return null==b?(b=new adf.mf.internal.BasePromise(function(b,c){adf.mf.api.resourceFile.loadJsFile(a,!0,function(){g[a]=!0;b()},
function(){adf.mf.api.adf.logInfoResource("AMXInfoBundle",adf.mf.log.level.SEVERE,"amx.includeJs","MSG_FAILED_TO_LOAD",a);c()},null)}),g[a]=b):!0===b?adf.mf.internal.BasePromise.resolve():b};amx.includeCss=function(b){var c=adf.mf.log.AMX.isLoggable(adf.mf.log.level.FINEST);if(h[b])return c&&adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"amx","includeCss","CSS file has already been loaded: "+b),adf.mf.internal.BasePromise.resolve();var d="UWP"===adf.mf.internal.amx.agent.type;c&&adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,
"amx","includeCss","Loading CSS file : "+b);h[b]=!0;var e=document.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");var g=null;if(d&&window.AdfmfCallback&&AdfmfCallback.isLocalResource(b))return g=adf.mf.internal.perf.startMonitorCall("Include CSS file",adf.mf.log.level.FINER,"amx.includeCss"),AdfmfCallback.setDataURIForLocalResource(e,b).then(function(){document.head.appendChild(e);c&&adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"amx","includeCss","Successfully loaded CSS file: "+
b);g.stop()},function(){e.setAttribute("href",b);document.head.appendChild(e);adf.mf.log.logInfoResource("AMXInfoBundle",adf.mf.log.level.SEVERE,"amx.includeCss","MSG_FAILED_TO_LOAD",b);g.stop()});e.setAttribute("href",b);document.head.appendChild(e);return(new adf.mf.internal.BasePromise(function(c,d){k.push({path:b,node:e,resolve:c,reject:d});null==m&&(m=window.setInterval(a,10));n=(new Date).getMilliseconds();adf.mf.internal.perf.startMonitorCall("Include CSS file",adf.mf.log.level.FINER,"amx.includeCss")})).then(function(){c&&
adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"amx","includeCss","Successfully loaded CSS file: "+b);null!=g&&g.stop()})};var u=null,v=new adf.mf.internal.BasePromise(function(a,b){adf.mf.api.resourceFile.loadJsonFile(adf.wwwPath+"js/amx-resources.json",!0,function(b){u=b;a()},function(){amx.log.error("Unable to load the resources JSON file.");b()})});adf.mf.internal.amx._resourcesDataPromise=v;adf.mf.internal.amx._loadFilesSequentialPromise=function(a){return new adf.mf.internal.BasePromise(function(b,
c){null==a?b():w(b,a,0,a.length)})};var w=function(a,b,c,d){if(c==d)a();else{var e=b[c],h=c+1;c=g[e];if(null==c){var k=null,m=null;g[e]=new adf.mf.internal.BasePromise(function(a,b){k=a;m=b});adf.mf.api.resourceFile.loadJsFile(e,!0,function(){k(e);g[e]=!0;w(a,b,h,d)},function(c){m(c);g[e]=!0;w(a,b,h,d)},null)}else 1==c?w(a,b,h,d):c.then(function(){w(a,b,h,d)})}};adf.mf.internal.amx._findResourcesForTag=d})();